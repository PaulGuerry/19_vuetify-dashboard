{"version":3,"sources":["webpack:///./src/plugins/three/orbit-controls.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/object-get-prototype-of.js","webpack:///./src/assets/img/icons/flags/US.png","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/object-create.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/to-positive-integer.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/modules/es.typed-array.at.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/modules/esnext.typed-array.find-last.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/modules/es.string.at-alternative.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/modules/es.array.at.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/modules/esnext.typed-array.find-last-index.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/modules/es.typed-array.set.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/array-buffer-view-core.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/to-string-tag-support.js","webpack:///./src/plugins/three/threejs.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/classof.js","webpack:///./src/assets/img/icons/flags/DE.png","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/array-buffer-native.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/html.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/add-to-unscopables.js","webpack:///./src/views/Dashboard/Widgets/Globe.vue?f279","webpack:///src/views/Dashboard/Widgets/Globe.vue","webpack:///./src/views/Dashboard/Widgets/Globe.vue?83cb","webpack:///./src/views/Dashboard/Widgets/Globe.vue","webpack:///./src/assets/img/icons/flags/GB.png","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/a-possible-prototype.js","webpack:///./src/views/Dashboard/Widgets/SalesCountry.vue?de08","webpack:///src/views/Dashboard/Widgets/SalesCountry.vue","webpack:///./src/views/Dashboard/Widgets/SalesCountry.vue?8ca5","webpack:///./src/views/Dashboard/Widgets/SalesCountry.vue","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/to-string.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/array-iteration-from-last.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/object-set-prototype-of.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/to-offset.js","webpack:///./node_modules/.pnpm/core-js@3.18.3/node_modules/core-js/internals/correct-prototype-getter.js","webpack:///./src/assets/img/icons/flags/BR.png"],"names":["THREE","require","OrbitControls","object","domElement","this","undefined","document","enabled","target","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","MIDDLE","target0","clone","position0","position","zoom0","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","setPolarAngle","angle","forceUpdate","setAzimuthalAngle","saveState","scope","copy","reset","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","STATE","NONE","offset","quat","Quaternion","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","max","min","EPS","radius","length","scale","add","panOffset","x","sin","y","cos","z","lookAt","thetaDelta","phiDelta","set","zoomChanged","distanceToSquared","dot","quaternion","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","makeSafe","setFromSpherical","multiplyScalar","dispose","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","onMouseMove","onMouseUp","window","onKeyDown","type","startEvent","endEvent","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_DOLLY_PAN","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","pow","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","crossVectors","pan","deltaX","deltaY","element","body","isPerspectiveCamera","targetDistance","tan","fov","clientHeight","matrix","isOrthographicCamera","right","left","clientWidth","top","bottom","console","warn","dollyIn","dollyScale","dollyOut","handleMouseDownRotate","event","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","subVectors","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","keyCode","handleTouchStartRotate","touches","pageX","pageY","handleTouchStartDollyPan","dx","dy","sqrt","handleTouchMoveRotate","handleTouchMoveDollyPan","handleTouchEnd","preventDefault","button","ctrlKey","metaKey","addEventListener","stopPropagation","prototype","Object","create","EventDispatcher","constructor","defineProperties","center","get","noZoom","value","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","internalObjectKeys","enumBugKeys","module","exports","O","hasOwn","isCallable","toObject","sharedKey","CORRECT_PROTOTYPE_GETTER","IE_PROTO","ObjectPrototype","getPrototypeOf","activeXDocument","anObject","hiddenKeys","html","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","EmptyConstructor","scriptTag","content","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","style","display","appendChild","src","String","contentWindow","open","F","NullProtoObject","ActiveXObject","error","domain","Properties","result","toIntegerOrInfinity","it","RangeError","DESCRIPTORS","definePropertyModule","objectKeys","key","index","f","ArrayBufferViewCore","lengthOfArrayLike","aTypedArray","exportTypedArrayMethod","len","relativeIndex","k","$findLast","findLast","predicate","arguments","$","requireObjectCoercible","toString","fails","FORCED","at","proto","forced","S","charAt","addToUnscopables","$findLastIndex","findLastIndex","toOffset","Int8Array","arrayLike","NAME","Constructor","Prototype","NATIVE_ARRAY_BUFFER","global","isObject","classof","tryToString","createNonEnumerableProperty","redefine","defineProperty","setPrototypeOf","wellKnownSymbol","uid","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","isPrototypeOf","TO_STRING_TAG","TYPED_ARRAY_TAG","TYPED_ARRAY_CONSTRUCTOR","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQIRED","TypedArrayConstructorsList","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","isView","klass","isTypedArray","TypeError","aTypedArrayConstructor","C","call","KEY","property","ARRAY","TypedArrayConstructor","exportTypedArrayStaticMethod","Function","test","factory","Number","EPSILON","isInteger","isFinite","floor","sign","match","assign","output","source","nextKey","hasOwnProperty","REVISION","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoColors","FaceColors","VertexColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","ACESFilmicToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","listener","_listeners","listeners","indexOf","push","hasEventListener","listenerArray","splice","array","slice","i","l","_lut","_Math","DEG2RAD","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","euclideanModulo","n","m","mapLinear","a1","a2","b1","b2","lerp","t","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","log","LN2","floorPowerOfTwo","w","_x","_y","_z","_w","width","height","isVector2","setScalar","scalar","setX","setY","setComponent","Error","getComponent","addVectors","addScalar","s","a","b","addScaledVector","subScalar","multiply","divide","divideScalar","applyMatrix3","e","elements","clampScalar","minVal","maxVal","clampLength","round","roundToZero","negate","cross","lengthSq","manhattanLength","abs","normalize","atan2","distanceTo","manhattanDistanceTo","setLength","alpha","lerpVectors","v1","v2","equals","fromArray","toArray","fromBufferAttribute","attribute","getX","getY","rotateAround","c","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","tDir","_onChangeCallback","isQuaternion","setFromEuler","euler","isEuler","order","c1","c2","c3","s1","s2","s3","setFromAxisAngle","axis","halfAngle","setFromRotationMatrix","te","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","vFrom","vTo","r","angleTo","q","acos","rotateTowards","step","conjugate","p","multiplyQuaternions","premultiply","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","_onChange","callback","_vector","_quaternion","isVector3","setZ","multiplyVectors","applyEuler","applyAxisAngle","applyNormalMatrix","applyMatrix4","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","ax","ay","az","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","normal","denominator","dz","setFromSphericalCoords","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","sx","sy","sz","getZ","_canvas","_vector$1","Matrix3","isMatrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","identity","me","setFromMatrix4","applyToBufferAttribute","count","setXYZ","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","determinant","d","g","h","getInverse","throwOnDegenerate","isMatrix4","t11","t12","t13","det","msg","detInv","transpose","tmp","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","tx","ty","rotation","cx","cy","rotate","translate","ImageUtils","getDataURL","image","canvas","HTMLCanvasElement","createElementNS","context","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","mapping","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","name","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","version","onUpdate","Vector4","WebGLRenderTarget","options","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","WebGLMultisampleRenderTarget","samples","isTexture","updateMatrix","toJSON","meta","isRootObject","textures","metadata","generator","wrap","images","url","Array","isArray","transformUv","uv","isVector4","setW","setAxisAngleFromQuaternion","setAxisAngleFromRotationMatrix","epsilon","epsilon2","xx","yy","zz","xy","xz","yz","getW","isWebGLRenderTarget","setSize","isWebGLMultisampleRenderTarget","_v1","_m1","Matrix4","_zero","_one","n14","n24","n34","n41","n42","n43","n44","copyPosition","extractBasis","xAxis","yAxis","zAxis","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","eye","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeScale","makeShear","x2","y2","z2","wx","wy","wz","decompose","invSX","invSY","invSZ","makePerspective","near","far","makeOrthographic","_matrix","_quaternion$1","Euler","_order","DefaultOrder","Layers","mask","RotationOrders","asin","setFromQuaternion","reorder","newOrder","toVector3","optionalResult","channel","enable","enableAll","toggle","disable","disableAll","layers","_object3DId","_v1$1","_q1","_m1$1","_target","_position","_scale","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","parent","children","DefaultUp","onRotationChange","onQuaternionChange","configurable","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","Scene","background","environment","fog","overrideMaterial","autoUpdate","__THREE_DEVTOOLS__","CustomEvent","detail","isObject3D","onBeforeRender","onAfterRender","applyMatrix","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","translateX","translateY","translateZ","localToWorld","vector","worldToLocal","updateWorldMatrix","isCamera","isLight","remove","attach","getObjectById","id","getObjectByProperty","getObjectByName","child","getWorldPosition","updateMatrixWorld","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","force","updateParents","updateChildren","geometries","materials","shapes","serialize","library","JSON","stringify","isInstancedMesh","instanceMatrix","isMesh","isLine","isPoints","geometry","parameters","shape","material","uuids","extractFromCache","cache","values","data","recursive","parse","isScene","_points","_vector$2","_box","Box3","_v0","_v1$2","_v2","_f0","_f1","_f2","_center","_extents","_triangleNormal","_testAxis","satForAxes","axes","v0","extents","j","p0","p1","p2","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","points","makeEmpty","il","expandByPoint","setFromCenterAndSize","size","halfSize","setFromObject","expandByObject","box","isEmpty","getCenter","getSize","point","expandByVector","expandByScalar","boundingBox","computeBoundingBox","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","triangle","distanceToPoint","clampedPoint","getBoundingSphere","intersect","union","_box$1","Sphere","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","_vector$3","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","origin","direction","ray","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","optionalPointOnRay","optionalPointOnSegment","s0","sqrDist","extDet","segExtent","a01","b0","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","_vector1","_vector2","_normalMatrix","Plane","isPlane","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","delta","start","intersectsLine","startSign","endSign","end","coplanarPoint","optionalNormalMatrix","referencePoint","_v0$1","_v1$3","_v2$1","_v3","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","u","getUV","p3","uv1","uv2","uv3","isFrontFacing","setFromPointsAndIndices","i0","i1","i2","getArea","getMidpoint","getPlane","d4","vc","d5","d6","vb","va","_colorKeywords","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","_hslA","_hslB","Color","setRGB","hue2rgb","SRGBToLinear","LinearToSRGB","Face3","color","materialIndex","vertexNormals","isColor","vertexColors","setHex","setStyle","hex","setHSL","handleAlpha","string","parseFloat","exec","components","parseInt","setColorName","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","copyLinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","getHSL","hue","saturation","lightness","getStyle","offsetHSL","addColors","color1","color2","lerpHSL","NAMES","materialId","Material","blending","side","flatShading","vertexTangents","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","toneMapped","MeshBasicMaterial","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","specularMap","alphaMap","envMap","combine","reflectivity","refractionRatio","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","skinning","morphTargets","setValues","isMaterial","onBeforeCompile","newValue","currentValue","isRoot","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatNormalMap","clearcoatNormalScale","matcap","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","envMapIntensity","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","morphNormals","srcPlanes","dstPlanes","isMeshBasicMaterial","_vector$4","BufferAttribute","itemSize","normalized","usage","updateRange","Int8BufferAttribute","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Int16BufferAttribute","Uint16BufferAttribute","Int32BufferAttribute","Uint32BufferAttribute","Float32BufferAttribute","Float64BufferAttribute","DirectGeometry","vertices","normals","colors","uvs","uvs2","groups","skinWeights","skinIndices","boundingSphere","verticesNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","uvsNeedUpdate","groupsNeedUpdate","arrayMax","isBufferAttribute","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZW","onUpload","computeGroups","group","faces","face","fromGeometry","morphTargetsPosition","faceVertexUvs","hasFaceVertexUv","hasFaceVertexUv2","morphTargetsLength","morphTargetsNormal","morphNormalsLength","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","_bufferGeometryId","_m1$2","_obj","_offset","_box$2","_boxMorphTargets","_vector$5","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","drawRange","isBufferGeometry","getIndex","setIndex","getAttribute","setAttribute","deleteAttribute","addGroup","clearGroups","setDrawRange","needsUpdate","tangent","computeBoundingSphere","positions","lineDistances","isGeometry","updateFromObject","direct","__directGeometry","elementsNeedUpdate","lineDistancesNeedUpdate","lineDistance","fromDirectGeometry","morphAttributesPosition","morphAttribute","isNaN","jl","computeFaceNormals","computeVertexNormals","vA","vB","vC","pA","pB","pC","cb","ab","indices","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","attributeData","hasMorphAttributes","attributeArray","_inverseMatrix","_ray","_sphere","_vA","_vB","_vC","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA","_uvB","_uvC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","checkIntersection","raycaster","checkBufferGeometryIntersection","morphPosition","morphInfluences","morphTargetInfluences","influence","intersection","morphTargetDictionary","ml","intersects","groupMaterial","faceIndex","fvA","fvB","fvC","isMultiMaterial","fl","faceMaterial","uvs_f","_geometryId","_m1$3","_obj$1","_offset$1","Geometry","vertex","fromBufferGeometry","addFace","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","faceVertexUvs2","uvsCopy","kl","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precisionPoints","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","_id","materialIndexSort","sort","newUvs1","newUvs2","uvs1","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","hash","srcVertexNormal","destVertexNormal","BoxGeometry","depth","widthSegments","heightSegments","depthSegments","BoxBufferGeometry","__proto__","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","Camera","PerspectiveCamera","aspect","focus","view","filmGauge","filmOffset","isShaderMaterial","uniform","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","skew","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderTarget","WebGLRenderTargetCube","renderer","scene","currentRenderTarget","getRenderTarget","setRenderTarget","render","clear","stencil","DataTexture","isWebGLRenderTargetCube","fromEquirectangularTexture","shader","tEquirect","join","isDataTexture","_sphere$1","_vector$6","Frustum","p4","p5","planes","frustum","setFromMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","intersectsSprite","sprite","negRadius","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","shadow","shadowBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotShadowMap","spotShadowMatrix","pointLights","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","WebGLAnimation","isAnimating","animationLoop","onAnimationFrame","time","frame","requestAnimationFrame","stop","setAnimationLoop","setContext","WebGLAttributes","gl","buffers","WeakMap","createBuffer","bufferType","buffer","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","isInterleavedBufferAttribute","deleteBuffer","delete","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","WebGLBackground","objects","planeMesh","boxMesh","clearColor","clearAlpha","currentBackground","currentBackgroundVersion","renderList","forceClear","xr","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBufferRenderer","info","capabilities","mode","isWebGL2","setMode","drawArrays","renderInstances","primcount","extension","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","resetGlobalState","numPlanes","numIntersection","projectPlanes","skipTransform","nPlanes","dstArray","flatSize","viewMatrix","i4","init","enableLocalClipping","beginShadows","endShadows","setState","fromCache","nGlobal","lGlobal","clippingState","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","memory","_bufferGeometry","geometryAttributes","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","absNumericalSort","WebGLMorphtargets","influencesList","program","objectInfluences","influences","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateList","CubeTexture","DataTexture2DArray","wrapR","DataTexture3D","physical","transparency","isDataTexture2DArray","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueT1","unit","uniform1i","safeSetTexture2D","setValueT2DArray1","setTexture2DArray","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueV1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","getSingularSetter","setValueV1fArray","uniform1fv","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueT1Array","units","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","StructuredUniform","seq","updateCache","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","WebGLShader","createShader","shaderSource","compileShader","setOptional","upload","seqWithValue","programIdCount","addLineNumbers","split","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","trim","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMapping","toneMappingName","generateExtensions","rendererExtensions","chunks","envMapCubeUV","tangentSpaceNormalMap","shaderID","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","loopPattern","unrollLoops","loopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","prefixVertex","prefixFragment","gammaFactorDefine","customExtensions","customDefines","createProgram","numMultiviewViews","isRawShaderMaterial","instancing","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","outputEncoding","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","depthPacking","isGLSL3ShaderMaterial","versionRegex","cachedUniforms","cachedAttributes","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","getAttributes","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","allocateBones","skeleton","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","nClipPlanes","nClipIntersection","isMeshStandardMaterial","isSkinnedMesh","isWebGLMultiviewRenderTarget","numViews","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","pop","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","WebGLRenderLists","lists","onSceneDispose","list","cameras","UniformsCache","light","halfWidth","halfHeight","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","vector3","matrix42","setup","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","bias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","has","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","0","1","2","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizonal","HORIZONAL_PASS","fullScreenTri","fullScreenMesh","VSMPass","mapPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","renderObject","shadowCamera","depthMaterial","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","maxVertexAttributes","newAttributes","enabledAttributes","attributeDivisors","enabledCapabilities","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","useProgram","setFlipSided","setCullFace","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendEquationSeparate","blendFuncSeparate","blendFunc","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","apply","texImage3D","WebGLTextures","_gl","utils","_videoTextures","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","HTMLImageElement","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","onTextureDispose","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglColorTexture","__webglDepthStencilTexture","__webglViewFramebuffers","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","complete","uploadTexture","setTextureCube","initTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","convert","glInternalFormat","setTextureParameters","mipmap","mipmapImage","setTextureCubeDynamic","wrappingToGL","filterToGL","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","isDepthTexture","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","isMultiview","createFramebuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","ext","colorTexture","framebufferTextureMultiviewOVR","depthStencilTexture","viewFramebuffers","framebufferTextureLayer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","UNSIGNED_INT_24_8_WEBGL","WebGLMultiviewRenderTarget","WebGLMultiview","mat3","mat4","cameraArray","renderSize","available","DEFAULT_NUMVIEWS","maxNumViews","isAvailable","getContextAttributes","antialias","MAX_VIEWS_OVR","getCameraArray","isArrayCamera","updateCameraProjectionMatricesUniform","updateCameraViewMatricesUniform","updateObjectMatricesUniforms","isMultiviewCompatible","resizeRenderTarget","getDrawingBufferSize","setNumViews","attachCamera","detachCamera","flush","srcRenderTarget","srcFramebuffers","viewWidth","viewHeight","ArrayCamera","Group","WebXRManager","referenceSpace","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","onSessionEvent","controller","inputSource","onSessionEnd","forEach","setFramebuffer","animation","isPresenting","onRequestReferenceSpace","updateInputSources","inputSources","removed","added","getController","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","layerInit","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","then","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","updateCamera","getCamera","onAnimationFrameCallback","getViewerPose","views","transform","inputPose","getPose","targetRaySpace","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","sortObjects","toneMappingExposure","toneMappingWhitePoint","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","_this","_isContextLost","_framebuffer","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentGeometryProgram","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clipping","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","getTargetPixelRatio","contextAttributes","xrCompatible","onContextLost","onContextRestore","rangeMin","rangeMax","message","initGLContext","multiview","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","programInfo","renderObjectImmediate","renderBufferImmediate","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","setDrawingBufferSize","pixelRatio","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","hasPositions","hasNormals","hasUvs","hasColors","programAttributes","positionArray","vertexAttribPointer","normalArray","uvArray","colorArray","tempScene","setupVertexAttributes","isInstancedBufferGeometry","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","maxInstancedCount","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","setProgram","updateBuffers","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","compile","initMaterial","projectObject","isGroup","isLOD","isImmediateRenderObject","renderObjects","camera2","materialProperties","lightsStateVersion","programCacheKey","programChange","numSupportedMorphTargets","numSupportedMorphNormals","needsLights","materialNeedsLights","progUniforms","uniformsList","useCache","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","isMeshPhongMaterial","isMeshToonMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","refreshUniformsToon","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","ltc_1","LTC_1","ltc_2","LTC_2","uvScaleMap","uv2ScaleMap","isFog","density","opaqueObjects","transparentObjects","readRenderTargetPixels","activeCubeFaceIndex","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","FogExp2","Fog","InterleavedBuffer","isInterleavedBuffer","_geometry","_vector$7","InterleavedBufferAttribute","interleavedBuffer","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA$1","_vB$1","_vC$1","_uvA$1","_uvB$1","_uvC$1","Sprite","float32Array","transformVertex","vertexPosition","mvPosition","_v1$4","_v2$2","LOD","levels","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","addLevel","getObjectForDistance","bind","calculateInverses","normalizeSkinWeights","skinWeight","_offsetMatrix","_identityMatrix","Skeleton","boneInverses","Bone","bone","isBone","getBoneByName","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","linecap","linejoin","getMatrixAt","raycastTimes","instanceId","setMatrixAt","_start","_end","_inverseMatrix$1","_ray$1","_sphere$2","Line","computeLineDistances","positionAttribute","linePrecision","localPrecision","localPrecisionSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","_start$1","_end$1","LineSegments","LineLoop","_inverseMatrix$2","_ray$2","_sphere$3","_position$1","Points","testPoint","localThresholdSq","rayPointDistanceSq","intersectPoint","distanceToRay","VideoTexture","video","CompressedTexture","CanvasTexture","DepthTexture","WireframeGeometry","o","ol","edge1","edge2","edge","edges","ParametricGeometry","func","slices","stacks","ParametricBufferGeometry","pu","pv","sliceCount","PolyhedronGeometry","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","applyRadius","generateUVs","azimuth","inclination","correctUVs","correctSeam","centroid","uvA","uvB","uvC","azi","correctUV","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","frames","computeFrenetFrames","P","generateBufferData","generateSegment","generateIndices","getPointAt","N","B","TorusKnotGeometry","tube","heightScale","TorusKnotBufferGeometry","P1","P2","T","calculatePositionOnCurve","cu","su","quOverP","cs","TorusGeometry","arc","TorusBufferGeometry","threshold","params","localThreshold","readyState","HAVE_CURRENT_DATA","isCanvasTexture","Earcut","triangulate","holeIndices","dim","invSize","hasHoles","outerLen","outerNode","linkedList","prev","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","px","py","intersectsPolygon","middleInside","q1","q2","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","splineTube","binormal","position2","ahole","hl","extrudeByPath","getSpacedPoints","shapePoints","extractPoints","reverse","concat","scalePt2","pt","vec","bs","vert","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","oneHoleMovements","holesMovements","verticesMovements","buildLidFaces","layer","f3","buildSideFaces","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","TextGeometry","text","TextBufferGeometry","font","isFont","generateShapes","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","SphereBufferGeometry","thetaEnd","grid","verticesRow","uOffset","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","segment","radiusStep","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","base","inverseSegments","n1","n2","ShapeGeometry","ShapeBufferGeometry","shapeHole","indexOffset","shapeVertices","shapeHoles","toJSON$1","EdgesGeometry","thresholdAngle","thresholdDot","sourceVertices","face1","face2","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","indexArray","generateTorso","slope","indexRow","sinTheta","cosTheta","generateCap","centerIndexStart","centerIndexEnd","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","Geometries","freeze","RawShaderMaterial","STANDARD","PHYSICAL","TOON","MATCAP","Materials","AnimationUtils","arraySlice","from","to","convertArray","forceClone","ArrayBuffer","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","shift","resetDuration","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","LinearInterpolant","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","getTrackTypeForValueTypeName","typeName","toLowerCase","parseKeyframeTrack","json","trackType","evaluate","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o1","o0","oP","oN","wP","wN","ppp","sP","sN","offset1","offset0","weight1","weight0","getInterpolation","ValueTypeName","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","createInterpolant","timeOffset","timeScale","startTime","endTime","nKeys","validate","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","jsonTracks","frameTime","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","DefaultLoadingManager","Loader","manager","crossOrigin","resourcePath","load","setCrossOrigin","setPath","setResourcePath","loading","FileLoader","AnimationLoader","CompressedTextureLoader","DataTextureLoader","ImageLoader","CubeTextureLoader","TextureLoader","Curve","arcLengthDivisions","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","ArcCurve","aRadius","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","t2","calc","t3","cached","setTimeout","dataUriRegex","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","request","XMLHttpRequest","header","callbacks","withCredentials","overrideMimeType","requestHeader","setRequestHeader","send","setResponseType","setWithCredentials","setMimeType","loadTexture","texDatas","loaded","mipmapCount","isCubemap","texData","onImageLoad","onImageError","substr","urls","isJPEG","search","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","targetArcLength","arcLengths","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","pt1","pt2","getTangentAt","mat","MAX_VALUE","tz","fromJSON","isEllipseCurve","twoPi","deltaAngle","samePoints","isArcCurve","pz","CatmullRomCurve3","curveType","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","CubicBezierCurve3","LineCurve","LineCurve3","QuadraticBezierCurve","QuadraticBezierCurve3","SplineCurve","isCatmullRomCurve3","intPoint","weight","isCubicBezierCurve","isCubicBezierCurve3","isLineCurve","isLineCurve3","isQuadraticBezierCurve","isQuadraticBezierCurve3","isSplineCurve","Curves","CurvePath","curves","autoClose","Path","currentPoint","Shape","Light","HemisphereLight","LightShadow","_frameExtents","_viewportCount","_viewports","SpotLightShadow","SpotLight","power","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","DirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","MaterialLoader","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","getPointsHoles","holesPts","_lightPositionWorld","_lookTarget","shadowMatrix","projScreenMatrix","lookTarget","lightPositionWorld","viewportIndex","isSpotLightShadow","zoomW","zoomH","scaleW","scaleH","isDirectionalLightShadow","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","lastIndexOf","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","typedArray","TYPED_ARRAYS","bufferAttributeConstr","bufferAttribute","drawcalls","offsets","ObjectLoader","parseShape","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseAnimations","bufferGeometryLoader","details","geometryShapes","geometryLoader","LegacyJSONLoader","loadImage","currentUrl","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","ImageBitmapLoader","createImageBitmap","fetch","ShapePath","subPaths","currentPath","Font","createPaths","chars","line_height","yMax","yMin","underlineThickness","paths","char","ret","createPath","glyph","glyphs","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","familyName","FontLoader","setOptions","res","blob","imageBitmap","catch","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","tmpPoints","tmpHoles","betterShapeHoles","newShapes","newShapeHoles","mainIdx","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","substring","AudioContext","webkitAudioContext","AudioLoader","SphericalHarmonics3","LightProbe","HemisphereLightProbe","sky","ground","AmbientLightProbe","bufferCopy","decodeAudioData","audioBuffer","isSphericalHarmonics3","zero","getAt","coeff","addScale","getIrradianceAt","getBasisAt","shBasis","isHemisphereLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","Clock","autoStart","oldTime","elapsedTime","running","xmin","xmax","eyeSepHalf","eyeSepOnProjection","ymax","performance","Date","now","getElapsedTime","getDelta","newTime","_position$2","_quaternion$3","_scale$1","_orientation","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","Audio","getInput","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_pausedAt","filters","removeFilter","disconnect","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setMediaStreamSource","mediaStream","createMediaStreamSource","setBuffer","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","pause","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","setLoopStart","setLoopEnd","getVolume","setVolume","_position$3","_quaternion$4","_scale$2","_orientation$1","PositionalAudio","panner","createPanner","panningModel","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","PropertyMixer","binding","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","getFrequencyData","getByteFrequencyData","getAverageFrequency","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","rootNode","node","findNode","nodeName","AnimationObjectGroup","nCachedObjects_","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","interpolant","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","AnimationMixer","root","_root","_initMemoryManager","_accuIndex","Uniform","InstancedInterleavedBuffer","Raycaster","PointCloud","ascSort","intersectObject","Cylindrical","firstValidIndex","bindings","unbind","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","resolvedProperty","SetterByBindingTypeAndVersioning","targetObject","dest","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_update","deltaTime","timeDirection","timeRunning","_updateTimeScale","clipTime","_updateTime","_updateWeight","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","setTime","timeInSeconds","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","setFromCamera","coords","intersectObjects","other","setFromCartesianCoords","_vector$8","Box2","_startP","_startEnd","Line3","ImmediateRenderObject","distanceSq","closestPointToPointParameter","clampToLine","startEnd2","startEnd_startP","_vector$9","SpotLightHelper","cone","coneLength","coneWidth","_vector$a","_boneMatrix","_matrixWorldInv","getBoneList","boneList","SkeletonHelper","PointLightHelper","sphereSize","_vector$b","_color1","_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_v1$5","_v2$3","_v3$1","DirectionalLightHelper","lightPlane","targetLine","_vector$c","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box$3","BoxHelper","Box3Helper","PlaneHelper","positions2","_lineGeometry","_coneGeometry","_axis","ArrowHelper","headLength","headWidth","setDirection","AxesHelper","setColor","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","_flatCamera","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","ref","_createPlanes","_lodPlanes","_sizeLods","_sigmas","_pingPongRenderTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_compileMaterial","lod","sizeLod","sigma","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","_allocateTargets","equirectangular","cubeUVRenderTarget","_createRenderTarget","_cleanup","_sceneToCubeUV","cubeCamera","upSign","forwardSign","maxComponent","fExp","log2","col","_setViewport","_textureToCubeUV","_getCubemapShader","_getEquirectShader","tmpScene","invDpr","_applyPMREM","poleAxis","_blur","lodIn","lodOut","_halfBlur","targetIn","targetOut","sigmaRadians","STANDARD_DEVIATIONS","blurScene","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","exp","outputSize","shaderMaterial","latitudinal","dTheta","mipInt","inputEncoding","_getCommonVertexShader","_getEncodings","Face4","fromScene","fromEquirectangular","fromCubemap","cubemap","compileCubemapShader","compileEquirectangularShader","LineStrip","LinePieces","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","setDynamic","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","ClosedSplineCurve3","SplineCurve3","Spline","AxisHelper","BoundingBoxHelper","EdgesHelper","WireframeHelper","XHRLoader","BinaryTextureLoader","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","initFromArray","getControlPointsArray","reparametrizeByArcLength","setColors","Handlers","setTexturePath","isIntersectionBox","isIntersectionSphere","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBuffer","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","barycoordFromPoint","midpoint","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","computeOffsets","removeAttribute","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","renderReverseSided","renderSingleSided","activeMipMapLevel","audioLoader","getData","updateCubeMap","GeometryUtils","geometry1","CanvasRenderer","JSONLoader","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","SceneUtils","createMultiMaterialObject","detach","LensFlare","revision","CubeGeometry","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tryGet","tag","callee","aCallable","fn","that","getBuiltIn","UNSCOPABLES","ArrayPrototype","_vm","_h","$createElement","_c","_self","staticClass","class","$vuetify","rtl","$route","attrs","staticRenderFns","mounted","latitude","longitude","pointGeometry","mergedGeometry","makeMagic","component","argument","_v","_l","chat","title","countries","avatar","domProps","_s","country","sales","bounce","VCard","VCardText","VImg","VList","VListItem","VListItemContent","VListItemTitle","IndexedObject","createMethod","TYPE","IS_FIND_LAST_INDEX","$this","callbackfn","self","boundFunction","aPossiblePrototype","setter","CORRECT_SETTER","getOwnPropertyDescriptor","toPositiveInteger","BYTES"],"mappings":"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AmB,QACnBC,mBAAoB,SACpBC,eAAgB,SAChBC,eAAgB,SAChBC,eAAgB,UAGdC,EAAiB,CACnB,YACA,WACA,yBACA,iBACA,aACA,oBACA,MACA,cACA,SACA,iBACA,SACA,aACA,iBACA,eACA,WACA,mBACA,QACA,cACA,sBACA,UACA,YACA,uBACA,wBACA,qBACA,kBACA,cACA,eACA,eACA,cACA,WACA,UACA,eACA,iBACA,YACA,gBACA,MACA,SACA,UACA,cACA,kBACA,yBACA,WACA,WACA,mBACA,eACA,eACA,kBACA,kBACA,qBACA,eACA,iBACA,gBACA,gBACA,oBACA,qBACA,uBACA,sBACA,mBACA,gBACA,cACA,0BACA,YACA,cACA,YACA,oBACA,sBACA,eACA,YACA,SAGF,SAASC,EAAc9+E,GACrB,IAAI++E,EAAW/+E,EAAO++E,SAClBC,EAAQD,EAASC,MAErB,GAAInT,EACF,OAAO,KASP,IAAIoT,EAAkBzT,EAClB0T,EAAkBn+E,KAAKmV,OAAO+oE,EAAkB,IAAM,GAEtDlE,EAAWh6E,KAAK+D,IAAIo6E,EAAiBF,EAAM/5E,QAE/C,OAAI81E,EAAWiE,EAAM/5E,QACnBkF,QAAQC,KACN,qCACE40E,EAAM/5E,OACN,6BACA81E,EACA,KAEG,GAGFA,EAIX,SAASoE,EAA0Bx+B,GACjC,IAAI3qB,EAaJ,OAXK2qB,EAEMA,EAAIjpB,UACb1B,EAAW2qB,EAAI3qB,SACN2qB,EAAIrnB,sBACbnvB,QAAQC,KACN,6HAEF4rB,EAAW2qB,EAAIvpB,QAAQpB,UAPvBA,EAAWvW,GAUNuW,EAGT91B,KAAKk/E,cAAgB,SACnBx5C,EACAovB,EACAqqB,EACAxnB,EACAynB,EACAC,EACAv/E,GAEA,IAAI6hC,EAAMg2B,EAAMh2B,IACZD,EAAcgE,EAAS45C,uBACvB3nB,EAAMj2B,YACN,KAEAsf,EAAStb,EAASsb,QAAUtf,EAE5B+1C,EAAWmG,EAAUl4C,EAASv+B,MAK9B0zE,EAAW/6E,EAAOy/E,cAAgBX,EAAc9+E,GAAU,EAEnC,OAAvB4lC,EAASsa,YACXA,EA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CP98F,MAAOA,EACPu2C,KAAM,KACNpnD,OAAQA,KASd,SAAS6tG,GACPC,EACAr4E,EACAC,EACAC,EACAC,EACAC,EACAC,EACAzuB,EACA0uB,GAEAP,GAAQngB,KACNnV,KACA4tG,EACAr4E,EACAC,EACAC,EACAC,EACAC,EACAC,EACAzuB,EACA0uB,GAGF71B,KAAK41B,YAAoB31B,IAAX21B,EAAuBA,EAASrZ,GAE9Cvc,KAAK21B,eAA0B11B,IAAd01B,EAA0BA,EAAYta,GACvDrb,KAAK01B,eAA0Bz1B,IAAdy1B,EAA0BA,EAAYra,GAEvDrb,KAAKs2B,iBAAkB,EAqBzB,SAASu3E,GACP53E,EACA3Q,EACAC,EACAqQ,EACAzuB,EACAouB,EACAC,EACAC,EACAC,EACAC,EACAE,EACAC,GAEAR,GAAQngB,KACNnV,KACA,KACAu1B,EACAC,EACAC,EACAC,EACAC,EACAC,EACAzuB,EACA0uB,EACAC,GAGF91B,KAAK20B,MAAQ,CACXrP,MAAOA,EACPC,OAAQA,GAEVvlB,KAAKi2B,QAAUA,EAKfj2B,KAAKw2B,OAAQ,EAKbx2B,KAAKs2B,iBAAkB,EAYzB,SAASw3E,GACPl5E,EACAW,EACAC,EACAC,EACAC,EACAC,EACAC,EACAzuB,EACA0uB,GAEAP,GAAQngB,KACNnV,KACA40B,EACAW,EACAC,EACAC,EACAC,EACAC,EACAC,EACAzuB,EACA0uB,GAGF71B,KAAKqpD,aAAc,EAYrB,SAAS0kD,GACPzoF,EACAC,EACApe,EACAouB,EACAC,EACAC,EACAC,EACAC,EACAE,EACAD,GAIA,GAFAA,OAAoB31B,IAAX21B,EAAuBA,EAAShZ,GAErCgZ,IAAWhZ,IAAegZ,IAAW/Y,GACvC,MAAM,IAAIiJ,MACR,yFAIS7lB,IAATkH,GAAsByuB,IAAWhZ,KACnCzV,EAAO0U,SAEI5b,IAATkH,GAAsByuB,IAAW/Y,KACnC1V,EAAOkV,IAGTiZ,GAAQngB,KACNnV,KACA,KACAu1B,EACAC,EACAC,EACAC,EACAC,EACAC,EACAzuB,EACA0uB,GAGF71B,KAAK20B,MAAQ,CACXr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","file":"js/chunk-65db3176.dcdb4216.js","sourcesContent":["// Importing ThreeJS and OrbitControls.\n\nvar THREE = require(\"../../plugins/three/threejs.js\");\n\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/metaKey, or arrow keys / touch: two-finger move\n\nTHREE.OrbitControls = function (object, domElement) {\n  this.object = object;\n\n  this.domElement = domElement !== undefined ? domElement : document;\n\n  // Set to false to disable this control\n  this.enabled = true;\n\n  // \"target\" sets the location of focus, where the object orbits around\n  this.target = new THREE.Vector3();\n\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n\n  // How far you can zoom in and out ( OrthographicCamera only )\n  this.minZoom = 0;\n  this.maxZoom = Infinity;\n\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  this.minPolarAngle = 0; // radians\n  this.maxPolarAngle = Math.PI; // radians\n\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  this.minAzimuthAngle = -Infinity; // radians\n  this.maxAzimuthAngle = Infinity; // radians\n\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  this.enableDamping = false;\n  this.dampingFactor = 0.25;\n\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  this.enableZoom = true;\n  this.zoomSpeed = 1.0;\n\n  // Set to false to disable rotating\n  this.enableRotate = true;\n  this.rotateSpeed = 1.0;\n\n  // Set to false to disable panning\n  this.enablePan = true;\n  this.panSpeed = 1.0;\n  this.screenSpacePanning = false; // if true, pan in screen-space\n  this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  this.autoRotate = false;\n  this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n  // Set to false to disable use of the keys\n  this.enableKeys = true;\n\n  // The four arrow keys\n  this.keys = {\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    BOTTOM: 40,\n  };\n\n  // Mouse buttons\n  this.mouseButtons = {\n    LEFT: THREE.MOUSE.LEFT,\n    MIDDLE: THREE.MOUSE.MIDDLE,\n    RIGHT: THREE.MOUSE.RIGHT,\n  };\n\n  // for reset\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom;\n\n  //\n  // public methods\n  //\n\n  this.getPolarAngle = function () {\n    return spherical.phi;\n  };\n\n  this.getAzimuthalAngle = function () {\n    return spherical.theta;\n  };\n\n  this.setPolarAngle = function (angle) {\n    spherical.phi = angle;\n    this.forceUpdate();\n  };\n\n  this.setAzimuthalAngle = function (angle) {\n    spherical.theta = angle;\n    this.forceUpdate();\n  };\n\n  this.saveState = function () {\n    scope.target0.copy(scope.target);\n    scope.position0.copy(scope.object.position);\n    scope.zoom0 = scope.object.zoom;\n  };\n\n  this.reset = function () {\n    scope.target.copy(scope.target0);\n    scope.object.position.copy(scope.position0);\n    scope.object.zoom = scope.zoom0;\n\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent(changeEvent);\n\n    scope.update();\n\n    state = STATE.NONE;\n  };\n\n  this.forceUpdate = (function () {\n    var offset = new THREE.Vector3();\n\n    // so camera.up is the orbit axis\n    var quat = new THREE.Quaternion().setFromUnitVectors(\n      object.up,\n      new THREE.Vector3(0, 1, 0)\n    );\n    var quatInverse = quat.clone().inverse();\n\n    var lastPosition = new THREE.Vector3();\n    var lastQuaternion = new THREE.Quaternion();\n\n    return function () {\n      var position = this.object.position;\n\n      offset.copy(position).sub(this.target);\n\n      // rotate offset to \"y-axis-is-up\" space\n      offset.applyQuaternion(quat);\n\n      // restrict spherical.theta to be between desired limits\n      spherical.theta = Math.max(\n        this.minAzimuthAngle,\n        Math.min(this.maxAzimuthAngle, spherical.theta)\n      );\n\n      // restrict spherical.phi to be between desired limits\n      spherical.phi = Math.max(\n        this.minPolarAngle,\n        Math.min(this.maxPolarAngle, spherical.phi)\n      );\n\n      // restrict spherical.phi to be betwee EPS and PI-EPS\n      spherical.phi = Math.max(EPS, Math.min(Math.PI - EPS, spherical.phi));\n\n      var radius = offset.length() * scale;\n\n      // restrict radius to be between desired limits\n      radius = Math.max(this.minDistance, Math.min(this.maxDistance, radius));\n\n      // move target to panned location\n      this.target.add(panOffset);\n\n      offset.x = radius * Math.sin(spherical.phi) * Math.sin(spherical.theta);\n      offset.y = radius * Math.cos(spherical.phi);\n      offset.z = radius * Math.sin(spherical.phi) * Math.cos(spherical.theta);\n\n      // rotate offset back to \"camera-up-vector-is-up\" space\n      offset.applyQuaternion(quatInverse);\n\n      position.copy(this.target).add(offset);\n\n      this.object.lookAt(this.target);\n\n      if (this.enableDamping === true) {\n        spherical.thetaDelta *= 1 - this.dampingFactor;\n        spherical.phiDelta *= 1 - this.dampingFactor;\n      } else {\n        spherical.thetaDelta = 0;\n        spherical.phiDelta = 0;\n      }\n\n      scale = 1;\n      panOffset.set(0, 0, 0);\n\n      // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (\n        zoomChanged ||\n        lastPosition.distanceToSquared(this.object.position) > EPS ||\n        8 * (1 - lastQuaternion.dot(this.object.quaternion)) > EPS\n      ) {\n        lastPosition.copy(this.object.position);\n        lastQuaternion.copy(this.object.quaternion);\n        zoomChanged = false;\n\n        return true;\n      }\n\n      return false;\n    };\n  })();\n\n  // this method is exposed, but perhaps it would be better if we can make it private...\n  this.update = (function () {\n    var offset = new THREE.Vector3();\n\n    // so camera.up is the orbit axis\n    var quat = new THREE.Quaternion().setFromUnitVectors(\n      object.up,\n      new THREE.Vector3(0, 1, 0)\n    );\n    var quatInverse = quat.clone().inverse();\n\n    var lastPosition = new THREE.Vector3();\n    var lastQuaternion = new THREE.Quaternion();\n\n    return function update() {\n      var position = scope.object.position;\n\n      offset.copy(position).sub(scope.target);\n\n      // rotate offset to \"y-axis-is-up\" space\n      offset.applyQuaternion(quat);\n\n      // angle from z-axis around y-axis\n      spherical.setFromVector3(offset);\n\n      if (scope.autoRotate && state === STATE.NONE) {\n        rotateLeft(getAutoRotationAngle());\n      }\n\n      spherical.theta += sphericalDelta.theta;\n      spherical.phi += sphericalDelta.phi;\n\n      // restrict theta to be between desired limits\n      spherical.theta = Math.max(\n        scope.minAzimuthAngle,\n        Math.min(scope.maxAzimuthAngle, spherical.theta)\n      );\n\n      // restrict phi to be between desired limits\n      spherical.phi = Math.max(\n        scope.minPolarAngle,\n        Math.min(scope.maxPolarAngle, spherical.phi)\n      );\n\n      spherical.makeSafe();\n\n      spherical.radius *= scale;\n\n      // restrict radius to be between desired limits\n      spherical.radius = Math.max(\n        scope.minDistance,\n        Math.min(scope.maxDistance, spherical.radius)\n      );\n\n      // move target to panned location\n      scope.target.add(panOffset);\n\n      offset.setFromSpherical(spherical);\n\n      // rotate offset back to \"camera-up-vector-is-up\" space\n      offset.applyQuaternion(quatInverse);\n\n      position.copy(scope.target).add(offset);\n\n      scope.object.lookAt(scope.target);\n\n      if (scope.enableDamping === true) {\n        sphericalDelta.theta *= 1 - scope.dampingFactor;\n        sphericalDelta.phi *= 1 - scope.dampingFactor;\n\n        panOffset.multiplyScalar(1 - scope.dampingFactor);\n      } else {\n        sphericalDelta.set(0, 0, 0);\n\n        panOffset.set(0, 0, 0);\n      }\n\n      scale = 1;\n\n      // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (\n        zoomChanged ||\n        lastPosition.distanceToSquared(scope.object.position) > EPS ||\n        8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS\n      ) {\n        scope.dispatchEvent(changeEvent);\n\n        lastPosition.copy(scope.object.position);\n        lastQuaternion.copy(scope.object.quaternion);\n        zoomChanged = false;\n\n        return true;\n      }\n\n      return false;\n    };\n  })();\n\n  this.dispose = function () {\n    scope.domElement.removeEventListener(\"contextmenu\", onContextMenu, false);\n    scope.domElement.removeEventListener(\"mousedown\", onMouseDown, false);\n    scope.domElement.removeEventListener(\"wheel\", onMouseWheel, false);\n\n    scope.domElement.removeEventListener(\"touchstart\", onTouchStart, false);\n    scope.domElement.removeEventListener(\"touchend\", onTouchEnd, false);\n    scope.domElement.removeEventListener(\"touchmove\", onTouchMove, false);\n\n    document.removeEventListener(\"mousemove\", onMouseMove, false);\n    document.removeEventListener(\"mouseup\", onMouseUp, false);\n\n    window.removeEventListener(\"keydown\", onKeyDown, false);\n\n    //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n  };\n\n  //\n  // internals\n  //\n\n  var scope = this;\n\n  var changeEvent = {\n    type: \"change\",\n  };\n  var startEvent = {\n    type: \"start\",\n  };\n  var endEvent = {\n    type: \"end\",\n  };\n\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_DOLLY_PAN: 4,\n  };\n\n  var state = STATE.NONE;\n\n  var EPS = 0.000001;\n\n  // current position in spherical coordinates\n  var spherical = new THREE.Spherical();\n  var sphericalDelta = new THREE.Spherical();\n\n  var scale = 1;\n  var panOffset = new THREE.Vector3();\n  var zoomChanged = false;\n\n  var rotateStart = new THREE.Vector2();\n  var rotateEnd = new THREE.Vector2();\n  var rotateDelta = new THREE.Vector2();\n\n  var panStart = new THREE.Vector2();\n  var panEnd = new THREE.Vector2();\n  var panDelta = new THREE.Vector2();\n\n  var dollyStart = new THREE.Vector2();\n  var dollyEnd = new THREE.Vector2();\n  var dollyDelta = new THREE.Vector2();\n\n  function getAutoRotationAngle() {\n    return ((2 * Math.PI) / 60 / 60) * scope.autoRotateSpeed;\n  }\n\n  function getZoomScale() {\n    return Math.pow(0.95, scope.zoomSpeed);\n  }\n\n  function rotateLeft(angle) {\n    sphericalDelta.theta -= angle;\n  }\n\n  function rotateUp(angle) {\n    sphericalDelta.phi -= angle;\n  }\n\n  var panLeft = (function () {\n    var v = new THREE.Vector3();\n\n    return function panLeft(distance, objectMatrix) {\n      v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n      v.multiplyScalar(-distance);\n\n      panOffset.add(v);\n    };\n  })();\n\n  var panUp = (function () {\n    var v = new THREE.Vector3();\n\n    return function panUp(distance, objectMatrix) {\n      if (scope.screenSpacePanning === true) {\n        v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        v.setFromMatrixColumn(objectMatrix, 0);\n        v.crossVectors(scope.object.up, v);\n      }\n\n      v.multiplyScalar(distance);\n\n      panOffset.add(v);\n    };\n  })();\n\n  // deltaX and deltaY are in pixels; right and down are positive\n  var pan = (function () {\n    var offset = new THREE.Vector3();\n\n    return function pan(deltaX, deltaY) {\n      var element =\n        scope.domElement === document\n          ? scope.domElement.body\n          : scope.domElement;\n\n      if (scope.object.isPerspectiveCamera) {\n        // perspective\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target);\n        var targetDistance = offset.length();\n\n        // half of the fov is center to top of screen\n        targetDistance *= Math.tan(((scope.object.fov / 2) * Math.PI) / 180.0);\n\n        // we use only clientHeight here so aspect ratio does not distort speed\n        panLeft(\n          (2 * deltaX * targetDistance) / element.clientHeight,\n          scope.object.matrix\n        );\n        panUp(\n          (2 * deltaY * targetDistance) / element.clientHeight,\n          scope.object.matrix\n        );\n      } else if (scope.object.isOrthographicCamera) {\n        // orthographic\n        panLeft(\n          (deltaX * (scope.object.right - scope.object.left)) /\n            scope.object.zoom /\n            element.clientWidth,\n          scope.object.matrix\n        );\n        panUp(\n          (deltaY * (scope.object.top - scope.object.bottom)) /\n            scope.object.zoom /\n            element.clientHeight,\n          scope.object.matrix\n        );\n      } else {\n        // camera neither orthographic nor perspective\n        console.warn(\n          \"WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.\"\n        );\n        scope.enablePan = false;\n      }\n    };\n  })();\n\n  function dollyIn(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale /= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(\n        scope.minZoom,\n        Math.min(scope.maxZoom, scope.object.zoom * dollyScale)\n      );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn(\n        \"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"\n      );\n      scope.enableZoom = false;\n    }\n  }\n\n  function dollyOut(dollyScale) {\n    if (scope.object.isPerspectiveCamera) {\n      scale *= dollyScale;\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.zoom = Math.max(\n        scope.minZoom,\n        Math.min(scope.maxZoom, scope.object.zoom / dollyScale)\n      );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n    } else {\n      console.warn(\n        \"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"\n      );\n      scope.enableZoom = false;\n    }\n  }\n\n  //\n  // event callbacks - update the object state\n  //\n\n  function handleMouseDownRotate(event) {\n    //console.log( 'handleMouseDownRotate' );\n\n    rotateStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownDolly(event) {\n    //console.log( 'handleMouseDownDolly' );\n\n    dollyStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownPan(event) {\n    //console.log( 'handleMouseDownPan' );\n\n    panStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseMoveRotate(event) {\n    //console.log( 'handleMouseMoveRotate' );\n\n    rotateEnd.set(event.clientX, event.clientY);\n\n    rotateDelta\n      .subVectors(rotateEnd, rotateStart)\n      .multiplyScalar(scope.rotateSpeed);\n\n    var element =\n      scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    rotateLeft((2 * Math.PI * rotateDelta.x) / element.clientHeight); // yes, height\n\n    rotateUp((2 * Math.PI * rotateDelta.y) / element.clientHeight);\n\n    rotateStart.copy(rotateEnd);\n\n    scope.update();\n  }\n\n  function handleMouseMoveDolly(event) {\n    //console.log( 'handleMouseMoveDolly' );\n\n    dollyEnd.set(event.clientX, event.clientY);\n\n    dollyDelta.subVectors(dollyEnd, dollyStart);\n\n    if (dollyDelta.y > 0) {\n      dollyIn(getZoomScale());\n    } else if (dollyDelta.y < 0) {\n      dollyOut(getZoomScale());\n    }\n\n    dollyStart.copy(dollyEnd);\n\n    scope.update();\n  }\n\n  function handleMouseMovePan(event) {\n    //console.log( 'handleMouseMovePan' );\n\n    panEnd.set(event.clientX, event.clientY);\n\n    panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n\n    pan(panDelta.x, panDelta.y);\n\n    panStart.copy(panEnd);\n\n    scope.update();\n  }\n\n  function handleMouseUp(event) {\n    // console.log( 'handleMouseUp' );\n  }\n\n  function handleMouseWheel(event) {\n    // console.log( 'handleMouseWheel' );\n\n    if (event.deltaY < 0) {\n      dollyOut(getZoomScale());\n    } else if (event.deltaY > 0) {\n      dollyIn(getZoomScale());\n    }\n\n    scope.update();\n  }\n\n  function handleKeyDown(event) {\n    //console.log( 'handleKeyDown' );\n\n    switch (event.keyCode) {\n      case scope.keys.UP:\n        pan(0, scope.keyPanSpeed);\n        scope.update();\n        break;\n\n      case scope.keys.BOTTOM:\n        pan(0, -scope.keyPanSpeed);\n        scope.update();\n        break;\n\n      case scope.keys.LEFT:\n        pan(scope.keyPanSpeed, 0);\n        scope.update();\n        break;\n\n      case scope.keys.RIGHT:\n        pan(-scope.keyPanSpeed, 0);\n        scope.update();\n        break;\n    }\n  }\n\n  function handleTouchStartRotate(event) {\n    //console.log( 'handleTouchStartRotate' );\n\n    rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n  }\n\n  function handleTouchStartDollyPan(event) {\n    //console.log( 'handleTouchStartDollyPan' );\n\n    if (scope.enableZoom) {\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      dollyStart.set(0, distance);\n    }\n\n    if (scope.enablePan) {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n      panStart.set(x, y);\n    }\n  }\n\n  function handleTouchMoveRotate(event) {\n    //console.log( 'handleTouchMoveRotate' );\n\n    rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n    rotateDelta\n      .subVectors(rotateEnd, rotateStart)\n      .multiplyScalar(scope.rotateSpeed);\n\n    var element =\n      scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    rotateLeft((2 * Math.PI * rotateDelta.x) / element.clientHeight); // yes, height\n\n    rotateUp((2 * Math.PI * rotateDelta.y) / element.clientHeight);\n\n    rotateStart.copy(rotateEnd);\n\n    scope.update();\n  }\n\n  function handleTouchMoveDollyPan(event) {\n    //console.log( 'handleTouchMoveDollyPan' );\n\n    if (scope.enableZoom) {\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      dollyEnd.set(0, distance);\n\n      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n\n      dollyIn(dollyDelta.y);\n\n      dollyStart.copy(dollyEnd);\n    }\n\n    if (scope.enablePan) {\n      var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n      var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n      panEnd.set(x, y);\n\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n\n      pan(panDelta.x, panDelta.y);\n\n      panStart.copy(panEnd);\n    }\n\n    scope.update();\n  }\n\n  function handleTouchEnd(event) {\n    //console.log( 'handleTouchEnd' );\n  }\n\n  //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n  function onMouseDown(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n\n    switch (event.button) {\n      case scope.mouseButtons.LEFT:\n        if (event.ctrlKey || event.metaKey) {\n          if (scope.enablePan === false) return;\n\n          handleMouseDownPan(event);\n\n          state = STATE.PAN;\n        } else {\n          if (scope.enableRotate === false) return;\n\n          handleMouseDownRotate(event);\n\n          state = STATE.ROTATE;\n        }\n\n        break;\n\n      case scope.mouseButtons.MIDDLE:\n        if (scope.enableZoom === false) return;\n\n        handleMouseDownDolly(event);\n\n        state = STATE.DOLLY;\n\n        break;\n\n      case scope.mouseButtons.RIGHT:\n        if (scope.enablePan === false) return;\n\n        handleMouseDownPan(event);\n\n        state = STATE.PAN;\n\n        break;\n    }\n\n    if (state !== STATE.NONE) {\n      document.addEventListener(\"mousemove\", onMouseMove, false);\n      document.addEventListener(\"mouseup\", onMouseUp, false);\n\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onMouseMove(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n\n    switch (state) {\n      case STATE.ROTATE:\n        if (scope.enableRotate === false) return;\n\n        handleMouseMoveRotate(event);\n\n        break;\n\n      case STATE.DOLLY:\n        if (scope.enableZoom === false) return;\n\n        handleMouseMoveDolly(event);\n\n        break;\n\n      case STATE.PAN:\n        if (scope.enablePan === false) return;\n\n        handleMouseMovePan(event);\n\n        break;\n    }\n  }\n\n  function onMouseUp(event) {\n    if (scope.enabled === false) return;\n\n    handleMouseUp(event);\n\n    document.removeEventListener(\"mousemove\", onMouseMove, false);\n    document.removeEventListener(\"mouseup\", onMouseUp, false);\n\n    scope.dispatchEvent(endEvent);\n\n    state = STATE.NONE;\n  }\n\n  function onMouseWheel(event) {\n    if (\n      scope.enabled === false ||\n      scope.enableZoom === false ||\n      (state !== STATE.NONE && state !== STATE.ROTATE)\n    )\n      return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    scope.dispatchEvent(startEvent);\n\n    handleMouseWheel(event);\n\n    scope.dispatchEvent(endEvent);\n  }\n\n  function onKeyDown(event) {\n    if (\n      scope.enabled === false ||\n      scope.enableKeys === false ||\n      scope.enablePan === false\n    )\n      return;\n\n    handleKeyDown(event);\n  }\n\n  function onTouchStart(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n\n    switch (event.touches.length) {\n      case 1: // one-fingered touch: rotate\n        if (scope.enableRotate === false) return;\n\n        handleTouchStartRotate(event);\n\n        state = STATE.TOUCH_ROTATE;\n\n        break;\n\n      case 2: // two-fingered touch: dolly-pan\n        if (scope.enableZoom === false && scope.enablePan === false) return;\n\n        handleTouchStartDollyPan(event);\n\n        state = STATE.TOUCH_DOLLY_PAN;\n\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n\n    if (state !== STATE.NONE) {\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onTouchMove(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.touches.length) {\n      case 1: // one-fingered touch: rotate\n        if (scope.enableRotate === false) return;\n        if (state !== STATE.TOUCH_ROTATE) return; // is this needed?\n\n        handleTouchMoveRotate(event);\n\n        break;\n\n      case 2: // two-fingered touch: dolly-pan\n        if (scope.enableZoom === false && scope.enablePan === false) return;\n        if (state !== STATE.TOUCH_DOLLY_PAN) return; // is this needed?\n\n        handleTouchMoveDollyPan(event);\n\n        break;\n\n      default:\n        state = STATE.NONE;\n    }\n  }\n\n  function onTouchEnd(event) {\n    if (scope.enabled === false) return;\n\n    handleTouchEnd(event);\n\n    scope.dispatchEvent(endEvent);\n\n    state = STATE.NONE;\n  }\n\n  function onContextMenu(event) {\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n  }\n\n  //\n\n  scope.domElement.addEventListener(\"contextmenu\", onContextMenu, false);\n\n  scope.domElement.addEventListener(\"mousedown\", onMouseDown, false);\n  scope.domElement.addEventListener(\"wheel\", onMouseWheel, false);\n\n  scope.domElement.addEventListener(\"touchstart\", onTouchStart, false);\n  scope.domElement.addEventListener(\"touchend\", onTouchEnd, false);\n  scope.domElement.addEventListener(\"touchmove\", onTouchMove, false);\n\n  window.addEventListener(\"keydown\", onKeyDown, false);\n\n  // force an update at start\n\n  this.update();\n};\n\nTHREE.OrbitControls.prototype = Object.create(THREE.EventDispatcher.prototype);\nTHREE.OrbitControls.prototype.constructor = THREE.OrbitControls;\n\nObject.defineProperties(THREE.OrbitControls.prototype, {\n  center: {\n    get: function () {\n      console.warn(\"THREE.OrbitControls: .center has been renamed to .target\");\n      return this.target;\n    },\n  },\n\n  // backward compatibility\n\n  noZoom: {\n    get: function () {\n      console.warn(\n        \"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"\n      );\n      return !this.enableZoom;\n    },\n\n    set: function (value) {\n      console.warn(\n        \"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"\n      );\n      this.enableZoom = !value;\n    },\n  },\n\n  noRotate: {\n    get: function () {\n      console.warn(\n        \"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"\n      );\n      return !this.enableRotate;\n    },\n\n    set: function (value) {\n      console.warn(\n        \"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"\n      );\n      this.enableRotate = !value;\n    },\n  },\n\n  noPan: {\n    get: function () {\n      console.warn(\n        \"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"\n      );\n      return !this.enablePan;\n    },\n\n    set: function (value) {\n      console.warn(\n        \"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"\n      );\n      this.enablePan = !value;\n    },\n  },\n\n  noKeys: {\n    get: function () {\n      console.warn(\n        \"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"\n      );\n      return !this.enableKeys;\n    },\n\n    set: function (value) {\n      console.warn(\n        \"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"\n      );\n      this.enableKeys = !value;\n    },\n  },\n\n  staticMoving: {\n    get: function () {\n      console.warn(\n        \"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"\n      );\n      return !this.enableDamping;\n    },\n\n    set: function (value) {\n      console.warn(\n        \"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"\n      );\n      this.enableDamping = !value;\n    },\n  },\n\n  dynamicDampingFactor: {\n    get: function () {\n      console.warn(\n        \"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"\n      );\n      return this.dampingFactor;\n    },\n\n    set: function (value) {\n      console.warn(\n        \"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"\n      );\n      this.dampingFactor = value;\n    },\n  },\n});\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof Object ? ObjectPrototype : null;\n};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAARCAYAAAA2cze9AAAAAXNSR0IArs4c6QAABD9JREFUOBGVlMluG0cQhv9eZiM54ipRqy2LsWzIC5IIQWDAh1yCPIF9CZBLAD+HrkHexH4JX3MJjCSSYctgFmuLKHLI2Zee6dTIQHLIyQUUZzjT83f1V383w0fGwcGB+Xg8dnM/65ipapYVHEBbWVEwrSiKKilN08PQ/ovRC/b4ux+27uy45tYyLvaWl5MnT59WL54/50eeZ2VTo6n6q0sbvx/1Ho1fbbDe8l2j1dwRjrOtwddLXfUKVbTTNBV5XqScsYkoyndp6X/LsP/M2Ow1fhyNRt90ltxTKdiVIXgKyW0w2ZOm5U5z0d6X0eDZStZxG01DVFRSkqAIQsQLH5HnIQxD5LqE1e7AWV3BZZZvSaQeC0PuTmN2N+HiriEBITiEYYFTysrAhDJOQrTiM1RhhAIasG1o2wIcG6K1DiNLUfo+dBAheXOMKgo1SVEVnOd5plBSwUIKcGlAqgqiKGAZQE5jKgKI7S3Ya0Og1ay/gopiaG+OYjYDK3KIbgf2JzuQ3S5kUuBavP4xJFVLFTPGwSkJz/X/+rlJyrK9BCYWKF79BnU5JSwplK6QcaBgDCpNkAUBFOEyGi0sePVBHKARFJwLEiDxOnmdDIyukCbK8xPo+TnkrU2Yn94H73VR0cRJmkGQqI4iiKqE6Thg9EzOgg/iBflJo173f0FUKWozaeg0BRvdgny4Bz6ZIH99DHV2jnw2R0po4jhGmMTI8xSGacMabSOVLch7JJG0DaRFiSDMYBFkJglDSWiIt8g1itYSzPEY2c+vrrmKzXXYj76A1WlfjzcrBUkTpIREUtX6/TnSyyvIJ0/uoSEbsDZu46q0cOnnKJkgMzjoLzlY6zax2rHxwFqDW30OnZNXZh7U6QWyw7eIriaIp7MPVmQVrJUhnHt30NjaJSwvXqDTG+LLB+/R3b0NLPfBnRYckcPOL2FeEMsjWv50gcBPoMkVjLiKQQ+s34G1tQZN7CtqKPcX4LMF8sM38Io5ie/tQbkDzBRH8dMvZEEFS0hkpglBHpaNJsx+D3I0gj2kiVsutYJRA2MUiwWy6RTFhDIKyMqEcrgC88Ee+op8ULdNxz7Mh5/BXh2SxyXZ0qDGmJD1PQmJXIHRTlSv36HyFkBK1ZOTSiHo8CArkCVZXkKHC6iTv1GJI3hZLX50BOzcMdSvh7ScY3ASBe08RtXrusLa85ZF3nXAXRfsxiYKAUTEfh6GOgiDLA7iLEkTrSTM5vqgMej2kPkRk2e2rXF6Pnu7znDz5g00yRkV4VC1eFmiJJGAtrV/cTKPovA0D+NxFPh/Eo4/wsn0IvC8qwgR+YyGA422cDcGO9v7RSFCWhTY98Cua/W/doeD+41Gc8O0jCZjQrGqnFZKTUjwJPXmx2FwPr4A5mfA4iUQElEi+//4CuhQ+v/unH06AQaAu0RHEdlb0sFXxXSs+AAVhfQlJV0/Kv4BBjMI848b/CoAAAAASUVORK5CYII=\"","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nmodule.exports = function (it) {\n  var result = toIntegerOrInfinity(it);\n  if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\nexportTypedArrayMethod('at', function at(index) {\n  var O = aTypedArray(this);\n  var len = lengthOfArrayLike(O);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n  return (k < 0 || k >= len) ? undefined : O[k];\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findLast = require('../internals/array-iteration-from-last').findLast;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findLast` method\n// https://github.com/tc39/proposal-array-find-from-last\nexportTypedArrayMethod('findLast', function findLast(predicate /* , thisArg */) {\n  return $findLast(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\n\nvar FORCED = fails(function () {\n  return ''.at(0) !== '\\uD842';\n});\n\n// `String.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'String', proto: true, forced: FORCED }, {\n  at: function at(index) {\n    var S = toString(requireObjectCoercible(this));\n    var len = S.length;\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : S.charAt(k);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\n$({ target: 'Array', proto: true }, {\n  at: function at(index) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var relativeIndex = toIntegerOrInfinity(index);\n    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n    return (k < 0 || k >= len) ? undefined : O[k];\n  }\n});\n\naddToUnscopables('at');\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findLastIndex = require('../internals/array-iteration-from-last').findLastIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findLastIndex` method\n// https://github.com/tc39/proposal-array-find-from-last\nexportTypedArrayMethod('findLastIndex', function findLastIndex(predicate /* , thisArg */) {\n  return $findLastIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toOffset = require('../internals/to-offset');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line es/no-typed-arrays -- required for testing\n  new Int8Array(1).set({});\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var length = this.length;\n  var src = toObject(arrayLike);\n  var len = lengthOfArrayLike(src);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, FORCED);\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar classof = require('../internals/classof');\nvar tryToString = require('../internals/try-to-string');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\n\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar isPrototypeOf = ObjectPrototype.isPrototypeOf;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\nvar TYPED_ARRAY_CONSTRUCTOR = uid('TYPED_ARRAY_CONSTRUCTOR');\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQIRED = false;\nvar NAME, Constructor, Prototype;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (isCallable(C) && (!setPrototypeOf || isPrototypeOf.call(TypedArray, C))) return C;\n  throw TypeError(tryToString(C) + ' is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && hasOwn(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) { /* empty */ }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && hasOwn(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) createNonEnumerableProperty(Prototype, TYPED_ARRAY_CONSTRUCTOR, Constructor);\n  else NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\nfor (NAME in BigIntArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) createNonEnumerableProperty(Prototype, TYPED_ARRAY_CONSTRUCTOR, Constructor);\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !isCallable(TypedArray) || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !hasOwn(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_CONSTRUCTOR: TYPED_ARRAY_CONSTRUCTOR,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","// ThreeJS 3D library.\n\n(function (global, factory) {\n  typeof exports === \"object\" && typeof module !== \"undefined\"\n    ? factory(exports)\n    : typeof define === \"function\" && define.amd\n    ? define([\"exports\"], factory)\n    : ((global = global || self), factory((global.THREE = {})));\n})(this, function (exports) {\n  \"use strict\";\n\n  // Polyfills\n\n  if (Number.EPSILON === undefined) {\n    Number.EPSILON = Math.pow(2, -52);\n  }\n\n  if (Number.isInteger === undefined) {\n    // Missing in IE\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n    Number.isInteger = function (value) {\n      return (\n        typeof value === \"number\" &&\n        isFinite(value) &&\n        Math.floor(value) === value\n      );\n    };\n  }\n\n  //\n\n  if (Math.sign === undefined) {\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n    Math.sign = function (x) {\n      return x < 0 ? -1 : x > 0 ? 1 : +x;\n    };\n  }\n\n  if (\"name\" in Function.prototype === false) {\n    // Missing in IE\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n    Object.defineProperty(Function.prototype, \"name\", {\n      get: function () {\n        return this.toString().match(/^\\s*function\\s*([^\\(\\s]*)/)[1];\n      },\n    });\n  }\n\n  if (Object.assign === undefined) {\n    // Missing in IE\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n    Object.assign = function (target) {\n      if (target === undefined || target === null) {\n        throw new TypeError(\"Cannot convert undefined or null to object\");\n      }\n\n      var output = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var source = arguments[index];\n\n        if (source !== undefined && source !== null) {\n          for (var nextKey in source) {\n            if (Object.prototype.hasOwnProperty.call(source, nextKey)) {\n              output[nextKey] = source[nextKey];\n            }\n          }\n        }\n      }\n\n      return output;\n    };\n  }\n\n  var REVISION = \"112\";\n  var MOUSE = {\n    LEFT: 0,\n    MIDDLE: 1,\n    RIGHT: 2,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2,\n  };\n  var TOUCH = {\n    ROTATE: 0,\n    PAN: 1,\n    DOLLY_PAN: 2,\n    DOLLY_ROTATE: 3,\n  };\n  var CullFaceNone = 0;\n  var CullFaceBack = 1;\n  var CullFaceFront = 2;\n  var CullFaceFrontBack = 3;\n  var FrontFaceDirectionCW = 0;\n  var FrontFaceDirectionCCW = 1;\n  var BasicShadowMap = 0;\n  var PCFShadowMap = 1;\n  var PCFSoftShadowMap = 2;\n  var VSMShadowMap = 3;\n  var FrontSide = 0;\n  var BackSide = 1;\n  var DoubleSide = 2;\n  var FlatShading = 1;\n  var SmoothShading = 2;\n  var NoColors = 0;\n  var FaceColors = 1;\n  var VertexColors = 2;\n  var NoBlending = 0;\n  var NormalBlending = 1;\n  var AdditiveBlending = 2;\n  var SubtractiveBlending = 3;\n  var MultiplyBlending = 4;\n  var CustomBlending = 5;\n  var AddEquation = 100;\n  var SubtractEquation = 101;\n  var ReverseSubtractEquation = 102;\n  var MinEquation = 103;\n  var MaxEquation = 104;\n  var ZeroFactor = 200;\n  var OneFactor = 201;\n  var SrcColorFactor = 202;\n  var OneMinusSrcColorFactor = 203;\n  var SrcAlphaFactor = 204;\n  var OneMinusSrcAlphaFactor = 205;\n  var DstAlphaFactor = 206;\n  var OneMinusDstAlphaFactor = 207;\n  var DstColorFactor = 208;\n  var OneMinusDstColorFactor = 209;\n  var SrcAlphaSaturateFactor = 210;\n  var NeverDepth = 0;\n  var AlwaysDepth = 1;\n  var LessDepth = 2;\n  var LessEqualDepth = 3;\n  var EqualDepth = 4;\n  var GreaterEqualDepth = 5;\n  var GreaterDepth = 6;\n  var NotEqualDepth = 7;\n  var MultiplyOperation = 0;\n  var MixOperation = 1;\n  var AddOperation = 2;\n  var NoToneMapping = 0;\n  var LinearToneMapping = 1;\n  var ReinhardToneMapping = 2;\n  var Uncharted2ToneMapping = 3;\n  var CineonToneMapping = 4;\n  var ACESFilmicToneMapping = 5;\n\n  var UVMapping = 300;\n  var CubeReflectionMapping = 301;\n  var CubeRefractionMapping = 302;\n  var EquirectangularReflectionMapping = 303;\n  var EquirectangularRefractionMapping = 304;\n  var SphericalReflectionMapping = 305;\n  var CubeUVReflectionMapping = 306;\n  var CubeUVRefractionMapping = 307;\n  var RepeatWrapping = 1000;\n  var ClampToEdgeWrapping = 1001;\n  var MirroredRepeatWrapping = 1002;\n  var NearestFilter = 1003;\n  var NearestMipmapNearestFilter = 1004;\n  var NearestMipMapNearestFilter = 1004;\n  var NearestMipmapLinearFilter = 1005;\n  var NearestMipMapLinearFilter = 1005;\n  var LinearFilter = 1006;\n  var LinearMipmapNearestFilter = 1007;\n  var LinearMipMapNearestFilter = 1007;\n  var LinearMipmapLinearFilter = 1008;\n  var LinearMipMapLinearFilter = 1008;\n  var UnsignedByteType = 1009;\n  var ByteType = 1010;\n  var ShortType = 1011;\n  var UnsignedShortType = 1012;\n  var IntType = 1013;\n  var UnsignedIntType = 1014;\n  var FloatType = 1015;\n  var HalfFloatType = 1016;\n  var UnsignedShort4444Type = 1017;\n  var UnsignedShort5551Type = 1018;\n  var UnsignedShort565Type = 1019;\n  var UnsignedInt248Type = 1020;\n  var AlphaFormat = 1021;\n  var RGBFormat = 1022;\n  var RGBAFormat = 1023;\n  var LuminanceFormat = 1024;\n  var LuminanceAlphaFormat = 1025;\n  var RGBEFormat = RGBAFormat;\n  var DepthFormat = 1026;\n  var DepthStencilFormat = 1027;\n  var RedFormat = 1028;\n  var RedIntegerFormat = 1029;\n  var RGFormat = 1030;\n  var RGIntegerFormat = 1031;\n  var RGBIntegerFormat = 1032;\n  var RGBAIntegerFormat = 1033;\n\n  var RGB_S3TC_DXT1_Format = 33776;\n  var RGBA_S3TC_DXT1_Format = 33777;\n  var RGBA_S3TC_DXT3_Format = 33778;\n  var RGBA_S3TC_DXT5_Format = 33779;\n  var RGB_PVRTC_4BPPV1_Format = 35840;\n  var RGB_PVRTC_2BPPV1_Format = 35841;\n  var RGBA_PVRTC_4BPPV1_Format = 35842;\n  var RGBA_PVRTC_2BPPV1_Format = 35843;\n  var RGB_ETC1_Format = 36196;\n  var RGBA_ASTC_4x4_Format = 37808;\n  var RGBA_ASTC_5x4_Format = 37809;\n  var RGBA_ASTC_5x5_Format = 37810;\n  var RGBA_ASTC_6x5_Format = 37811;\n  var RGBA_ASTC_6x6_Format = 37812;\n  var RGBA_ASTC_8x5_Format = 37813;\n  var RGBA_ASTC_8x6_Format = 37814;\n  var RGBA_ASTC_8x8_Format = 37815;\n  var RGBA_ASTC_10x5_Format = 37816;\n  var RGBA_ASTC_10x6_Format = 37817;\n  var RGBA_ASTC_10x8_Format = 37818;\n  var RGBA_ASTC_10x10_Format = 37819;\n  var RGBA_ASTC_12x10_Format = 37820;\n  var RGBA_ASTC_12x12_Format = 37821;\n  var LoopOnce = 2200;\n  var LoopRepeat = 2201;\n  var LoopPingPong = 2202;\n  var InterpolateDiscrete = 2300;\n  var InterpolateLinear = 2301;\n  var InterpolateSmooth = 2302;\n  var ZeroCurvatureEnding = 2400;\n  var ZeroSlopeEnding = 2401;\n  var WrapAroundEnding = 2402;\n  var TrianglesDrawMode = 0;\n  var TriangleStripDrawMode = 1;\n  var TriangleFanDrawMode = 2;\n  var LinearEncoding = 3000;\n  var sRGBEncoding = 3001;\n  var GammaEncoding = 3007;\n  var RGBEEncoding = 3002;\n  var LogLuvEncoding = 3003;\n  var RGBM7Encoding = 3004;\n  var RGBM16Encoding = 3005;\n  var RGBDEncoding = 3006;\n  var BasicDepthPacking = 3200;\n  var RGBADepthPacking = 3201;\n  var TangentSpaceNormalMap = 0;\n  var ObjectSpaceNormalMap = 1;\n\n  var ZeroStencilOp = 0;\n  var KeepStencilOp = 7680;\n  var ReplaceStencilOp = 7681;\n  var IncrementStencilOp = 7682;\n  var DecrementStencilOp = 7683;\n  var IncrementWrapStencilOp = 34055;\n  var DecrementWrapStencilOp = 34056;\n  var InvertStencilOp = 5386;\n\n  var NeverStencilFunc = 512;\n  var LessStencilFunc = 513;\n  var EqualStencilFunc = 514;\n  var LessEqualStencilFunc = 515;\n  var GreaterStencilFunc = 516;\n  var NotEqualStencilFunc = 517;\n  var GreaterEqualStencilFunc = 518;\n  var AlwaysStencilFunc = 519;\n\n  var StaticDrawUsage = 35044;\n  var DynamicDrawUsage = 35048;\n  var StreamDrawUsage = 35040;\n  var StaticReadUsage = 35045;\n  var DynamicReadUsage = 35049;\n  var StreamReadUsage = 35041;\n  var StaticCopyUsage = 35046;\n  var DynamicCopyUsage = 35050;\n  var StreamCopyUsage = 35042;\n\n  /**\n   * https://github.com/mrdoob/eventdispatcher.js/\n   */\n\n  function EventDispatcher() {}\n\n  Object.assign(EventDispatcher.prototype, {\n    addEventListener: function (type, listener) {\n      if (this._listeners === undefined) {\n        this._listeners = {};\n      }\n\n      var listeners = this._listeners;\n\n      if (listeners[type] === undefined) {\n        listeners[type] = [];\n      }\n\n      if (listeners[type].indexOf(listener) === -1) {\n        listeners[type].push(listener);\n      }\n    },\n\n    hasEventListener: function (type, listener) {\n      if (this._listeners === undefined) {\n        return false;\n      }\n\n      var listeners = this._listeners;\n\n      return (\n        listeners[type] !== undefined &&\n        listeners[type].indexOf(listener) !== -1\n      );\n    },\n\n    removeEventListener: function (type, listener) {\n      if (this._listeners === undefined) {\n        return;\n      }\n\n      var listeners = this._listeners;\n      var listenerArray = listeners[type];\n\n      if (listenerArray !== undefined) {\n        var index = listenerArray.indexOf(listener);\n\n        if (index !== -1) {\n          listenerArray.splice(index, 1);\n        }\n      }\n    },\n\n    dispatchEvent: function (event) {\n      if (this._listeners === undefined) {\n        return;\n      }\n\n      var listeners = this._listeners;\n      var listenerArray = listeners[event.type];\n\n      if (listenerArray !== undefined) {\n        event.target = this;\n\n        var array = listenerArray.slice(0);\n\n        for (var i = 0, l = array.length; i < l; i++) {\n          array[i].call(this, event);\n        }\n      }\n    },\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _lut = [];\n\n  for (var i = 0; i < 256; i++) {\n    _lut[i] = (i < 16 ? \"0\" : \"\") + i.toString(16);\n  }\n\n  var _Math = {\n    DEG2RAD: Math.PI / 180,\n    RAD2DEG: 180 / Math.PI,\n\n    generateUUID: function () {\n      // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n      var d0 = (Math.random() * 0xffffffff) | 0;\n      var d1 = (Math.random() * 0xffffffff) | 0;\n      var d2 = (Math.random() * 0xffffffff) | 0;\n      var d3 = (Math.random() * 0xffffffff) | 0;\n      var uuid =\n        _lut[d0 & 0xff] +\n        _lut[(d0 >> 8) & 0xff] +\n        _lut[(d0 >> 16) & 0xff] +\n        _lut[(d0 >> 24) & 0xff] +\n        \"-\" +\n        _lut[d1 & 0xff] +\n        _lut[(d1 >> 8) & 0xff] +\n        \"-\" +\n        _lut[((d1 >> 16) & 0x0f) | 0x40] +\n        _lut[(d1 >> 24) & 0xff] +\n        \"-\" +\n        _lut[(d2 & 0x3f) | 0x80] +\n        _lut[(d2 >> 8) & 0xff] +\n        \"-\" +\n        _lut[(d2 >> 16) & 0xff] +\n        _lut[(d2 >> 24) & 0xff] +\n        _lut[d3 & 0xff] +\n        _lut[(d3 >> 8) & 0xff] +\n        _lut[(d3 >> 16) & 0xff] +\n        _lut[(d3 >> 24) & 0xff];\n\n      // .toUpperCase() here flattens concatenated strings to save heap memory space.\n      return uuid.toUpperCase();\n    },\n\n    clamp: function (value, min, max) {\n      return Math.max(min, Math.min(max, value));\n    },\n\n    // compute euclidian modulo of m % n\n    // https://en.wikipedia.org/wiki/Modulo_operation\n\n    euclideanModulo: function (n, m) {\n      return ((n % m) + m) % m;\n    },\n\n    // Linear mapping from range <a1, a2> to range <b1, b2>\n\n    mapLinear: function (x, a1, a2, b1, b2) {\n      return b1 + ((x - a1) * (b2 - b1)) / (a2 - a1);\n    },\n\n    // https://en.wikipedia.org/wiki/Linear_interpolation\n\n    lerp: function (x, y, t) {\n      return (1 - t) * x + t * y;\n    },\n\n    // http://en.wikipedia.org/wiki/Smoothstep\n\n    smoothstep: function (x, min, max) {\n      if (x <= min) {\n        return 0;\n      }\n      if (x >= max) {\n        return 1;\n      }\n\n      x = (x - min) / (max - min);\n\n      return x * x * (3 - 2 * x);\n    },\n\n    smootherstep: function (x, min, max) {\n      if (x <= min) {\n        return 0;\n      }\n      if (x >= max) {\n        return 1;\n      }\n\n      x = (x - min) / (max - min);\n\n      return x * x * x * (x * (x * 6 - 15) + 10);\n    },\n\n    // Random integer from <low, high> interval\n\n    randInt: function (low, high) {\n      return low + Math.floor(Math.random() * (high - low + 1));\n    },\n\n    // Random float from <low, high> interval\n\n    randFloat: function (low, high) {\n      return low + Math.random() * (high - low);\n    },\n\n    // Random float from <-range/2, range/2> interval\n\n    randFloatSpread: function (range) {\n      return range * (0.5 - Math.random());\n    },\n\n    degToRad: function (degrees) {\n      return degrees * _Math.DEG2RAD;\n    },\n\n    radToDeg: function (radians) {\n      return radians * _Math.RAD2DEG;\n    },\n\n    isPowerOfTwo: function (value) {\n      return (value & (value - 1)) === 0 && value !== 0;\n    },\n\n    ceilPowerOfTwo: function (value) {\n      return Math.pow(2, Math.ceil(Math.log(value) / Math.LN2));\n    },\n\n    floorPowerOfTwo: function (value) {\n      return Math.pow(2, Math.floor(Math.log(value) / Math.LN2));\n    },\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author philogb / http://blog.thejit.org/\n   * @author egraether / http://egraether.com/\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   */\n\n  function Vector2(x, y) {\n    this.x = x || 0;\n    this.y = y || 0;\n  }\n\n  Object.defineProperties(Vector2.prototype, {\n    width: {\n      get: function () {\n        return this.x;\n      },\n\n      set: function (value) {\n        this.x = value;\n      },\n    },\n\n    height: {\n      get: function () {\n        return this.y;\n      },\n\n      set: function (value) {\n        this.y = value;\n      },\n    },\n  });\n\n  Object.assign(Vector2.prototype, {\n    isVector2: true,\n\n    set: function (x, y) {\n      this.x = x;\n      this.y = y;\n\n      return this;\n    },\n\n    setScalar: function (scalar) {\n      this.x = scalar;\n      this.y = scalar;\n\n      return this;\n    },\n\n    setX: function (x) {\n      this.x = x;\n\n      return this;\n    },\n\n    setY: function (y) {\n      this.y = y;\n\n      return this;\n    },\n\n    setComponent: function (index, value) {\n      switch (index) {\n        case 0:\n          this.x = value;\n          break;\n        case 1:\n          this.y = value;\n          break;\n        default:\n          throw new Error(\"index is out of range: \" + index);\n      }\n\n      return this;\n    },\n\n    getComponent: function (index) {\n      switch (index) {\n        case 0:\n          return this.x;\n        case 1:\n          return this.y;\n        default:\n          throw new Error(\"index is out of range: \" + index);\n      }\n    },\n\n    clone: function () {\n      return new this.constructor(this.x, this.y);\n    },\n\n    copy: function (v) {\n      this.x = v.x;\n      this.y = v.y;\n\n      return this;\n    },\n\n    add: function (v, w) {\n      if (w !== undefined) {\n        console.warn(\n          \"THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"\n        );\n        return this.addVectors(v, w);\n      }\n\n      this.x += v.x;\n      this.y += v.y;\n\n      return this;\n    },\n\n    addScalar: function (s) {\n      this.x += s;\n      this.y += s;\n\n      return this;\n    },\n\n    addVectors: function (a, b) {\n      this.x = a.x + b.x;\n      this.y = a.y + b.y;\n\n      return this;\n    },\n\n    addScaledVector: function (v, s) {\n      this.x += v.x * s;\n      this.y += v.y * s;\n\n      return this;\n    },\n\n    sub: function (v, w) {\n      if (w !== undefined) {\n        console.warn(\n          \"THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"\n        );\n        return this.subVectors(v, w);\n      }\n\n      this.x -= v.x;\n      this.y -= v.y;\n\n      return this;\n    },\n\n    subScalar: function (s) {\n      this.x -= s;\n      this.y -= s;\n\n      return this;\n    },\n\n    subVectors: function (a, b) {\n      this.x = a.x - b.x;\n      this.y = a.y - b.y;\n\n      return this;\n    },\n\n    multiply: function (v) {\n      this.x *= v.x;\n      this.y *= v.y;\n\n      return this;\n    },\n\n    multiplyScalar: function (scalar) {\n      this.x *= scalar;\n      this.y *= scalar;\n\n      return this;\n    },\n\n    divide: function (v) {\n      this.x /= v.x;\n      this.y /= v.y;\n\n      return this;\n    },\n\n    divideScalar: function (scalar) {\n      return this.multiplyScalar(1 / scalar);\n    },\n\n    applyMatrix3: function (m) {\n      var x = this.x,\n        y = this.y;\n      var e = m.elements;\n\n      this.x = e[0] * x + e[3] * y + e[6];\n      this.y = e[1] * x + e[4] * y + e[7];\n\n      return this;\n    },\n\n    min: function (v) {\n      this.x = Math.min(this.x, v.x);\n      this.y = Math.min(this.y, v.y);\n\n      return this;\n    },\n\n    max: function (v) {\n      this.x = Math.max(this.x, v.x);\n      this.y = Math.max(this.y, v.y);\n\n      return this;\n    },\n\n    clamp: function (min, max) {\n      // assumes min < max, componentwise\n\n      this.x = Math.max(min.x, Math.min(max.x, this.x));\n      this.y = Math.max(min.y, Math.min(max.y, this.y));\n\n      return this;\n    },\n\n    clampScalar: function (minVal, maxVal) {\n      this.x = Math.max(minVal, Math.min(maxVal, this.x));\n      this.y = Math.max(minVal, Math.min(maxVal, this.y));\n\n      return this;\n    },\n\n    clampLength: function (min, max) {\n      var length = this.length();\n\n      return this.divideScalar(length || 1).multiplyScalar(\n        Math.max(min, Math.min(max, length))\n      );\n    },\n\n    floor: function () {\n      this.x = Math.floor(this.x);\n      this.y = Math.floor(this.y);\n\n      return this;\n    },\n\n    ceil: function () {\n      this.x = Math.ceil(this.x);\n      this.y = Math.ceil(this.y);\n\n      return this;\n    },\n\n    round: function () {\n      this.x = Math.round(this.x);\n      this.y = Math.round(this.y);\n\n      return this;\n    },\n\n    roundToZero: function () {\n      this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n      this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n\n      return this;\n    },\n\n    negate: function () {\n      this.x = -this.x;\n      this.y = -this.y;\n\n      return this;\n    },\n\n    dot: function (v) {\n      return this.x * v.x + this.y * v.y;\n    },\n\n    cross: function (v) {\n      return this.x * v.y - this.y * v.x;\n    },\n\n    lengthSq: function () {\n      return this.x * this.x + this.y * this.y;\n    },\n\n    length: function () {\n      return Math.sqrt(this.x * this.x + this.y * this.y);\n    },\n\n    manhattanLength: function () {\n      return Math.abs(this.x) + Math.abs(this.y);\n    },\n\n    normalize: function () {\n      return this.divideScalar(this.length() || 1);\n    },\n\n    angle: function () {\n      // computes the angle in radians with respect to the positive x-axis\n\n      var angle = Math.atan2(this.y, this.x);\n\n      if (angle < 0) {\n        angle += 2 * Math.PI;\n      }\n\n      return angle;\n    },\n\n    distanceTo: function (v) {\n      return Math.sqrt(this.distanceToSquared(v));\n    },\n\n    distanceToSquared: function (v) {\n      var dx = this.x - v.x,\n        dy = this.y - v.y;\n      return dx * dx + dy * dy;\n    },\n\n    manhattanDistanceTo: function (v) {\n      return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\n    },\n\n    setLength: function (length) {\n      return this.normalize().multiplyScalar(length);\n    },\n\n    lerp: function (v, alpha) {\n      this.x += (v.x - this.x) * alpha;\n      this.y += (v.y - this.y) * alpha;\n\n      return this;\n    },\n\n    lerpVectors: function (v1, v2, alpha) {\n      return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n    },\n\n    equals: function (v) {\n      return v.x === this.x && v.y === this.y;\n    },\n\n    fromArray: function (array, offset) {\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this.x = array[offset];\n      this.y = array[offset + 1];\n\n      return this;\n    },\n\n    toArray: function (array, offset) {\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      array[offset] = this.x;\n      array[offset + 1] = this.y;\n\n      return array;\n    },\n\n    fromBufferAttribute: function (attribute, index, offset) {\n      if (offset !== undefined) {\n        console.warn(\n          \"THREE.Vector2: offset has been removed from .fromBufferAttribute().\"\n        );\n      }\n\n      this.x = attribute.getX(index);\n      this.y = attribute.getY(index);\n\n      return this;\n    },\n\n    rotateAround: function (center, angle) {\n      var c = Math.cos(angle),\n        s = Math.sin(angle);\n\n      var x = this.x - center.x;\n      var y = this.y - center.y;\n\n      this.x = x * c - y * s + center.x;\n      this.y = x * s + y * c + center.y;\n\n      return this;\n    },\n  });\n\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author bhouston / http://clara.io\n   */\n\n  function Quaternion(x, y, z, w) {\n    this._x = x || 0;\n    this._y = y || 0;\n    this._z = z || 0;\n    this._w = w !== undefined ? w : 1;\n  }\n\n  Object.assign(Quaternion, {\n    slerp: function (qa, qb, qm, t) {\n      return qm.copy(qa).slerp(qb, t);\n    },\n\n    slerpFlat: function (\n      dst,\n      dstOffset,\n      src0,\n      srcOffset0,\n      src1,\n      srcOffset1,\n      t\n    ) {\n      // fuzz-free, array-based Quaternion SLERP operation\n\n      var x0 = src0[srcOffset0 + 0],\n        y0 = src0[srcOffset0 + 1],\n        z0 = src0[srcOffset0 + 2],\n        w0 = src0[srcOffset0 + 3],\n        x1 = src1[srcOffset1 + 0],\n        y1 = src1[srcOffset1 + 1],\n        z1 = src1[srcOffset1 + 2],\n        w1 = src1[srcOffset1 + 3];\n\n      if (w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1) {\n        var s = 1 - t,\n          cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n          dir = cos >= 0 ? 1 : -1,\n          sqrSin = 1 - cos * cos;\n\n        // Skip the Slerp for tiny steps to avoid numeric problems:\n        if (sqrSin > Number.EPSILON) {\n          var sin = Math.sqrt(sqrSin),\n            len = Math.atan2(sin, cos * dir);\n\n          s = Math.sin(s * len) / sin;\n          t = Math.sin(t * len) / sin;\n        }\n\n        var tDir = t * dir;\n\n        x0 = x0 * s + x1 * tDir;\n        y0 = y0 * s + y1 * tDir;\n        z0 = z0 * s + z1 * tDir;\n        w0 = w0 * s + w1 * tDir;\n\n        // Normalize in case we just did a lerp:\n        if (s === 1 - t) {\n          var f = 1 / Math.sqrt(x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0);\n\n          x0 *= f;\n          y0 *= f;\n          z0 *= f;\n          w0 *= f;\n        }\n      }\n\n      dst[dstOffset] = x0;\n      dst[dstOffset + 1] = y0;\n      dst[dstOffset + 2] = z0;\n      dst[dstOffset + 3] = w0;\n    },\n  });\n\n  Object.defineProperties(Quaternion.prototype, {\n    x: {\n      get: function () {\n        return this._x;\n      },\n\n      set: function (value) {\n        this._x = value;\n        this._onChangeCallback();\n      },\n    },\n\n    y: {\n      get: function () {\n        return this._y;\n      },\n\n      set: function (value) {\n        this._y = value;\n        this._onChangeCallback();\n      },\n    },\n\n    z: {\n      get: function () {\n        return this._z;\n      },\n\n      set: function (value) {\n        this._z = value;\n        this._onChangeCallback();\n      },\n    },\n\n    w: {\n      get: function () {\n        return this._w;\n      },\n\n      set: function (value) {\n        this._w = value;\n        this._onChangeCallback();\n      },\n    },\n  });\n\n  Object.assign(Quaternion.prototype, {\n    isQuaternion: true,\n\n    set: function (x, y, z, w) {\n      this._x = x;\n      this._y = y;\n      this._z = z;\n      this._w = w;\n\n      this._onChangeCallback();\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor(this._x, this._y, this._z, this._w);\n    },\n\n    copy: function (quaternion) {\n      this._x = quaternion.x;\n      this._y = quaternion.y;\n      this._z = quaternion.z;\n      this._w = quaternion.w;\n\n      this._onChangeCallback();\n\n      return this;\n    },\n\n    setFromEuler: function (euler, update) {\n      if (!(euler && euler.isEuler)) {\n        throw new Error(\n          \"THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.\"\n        );\n      }\n\n      var x = euler._x,\n        y = euler._y,\n        z = euler._z,\n        order = euler.order;\n\n      // http://www.mathworks.com/matlabcentral/fileexchange/\n      // \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n      //\tcontent/SpinCalc.m\n\n      var cos = Math.cos;\n      var sin = Math.sin;\n\n      var c1 = cos(x / 2);\n      var c2 = cos(y / 2);\n      var c3 = cos(z / 2);\n\n      var s1 = sin(x / 2);\n      var s2 = sin(y / 2);\n      var s3 = sin(z / 2);\n\n      if (order === \"XYZ\") {\n        this._x = s1 * c2 * c3 + c1 * s2 * s3;\n        this._y = c1 * s2 * c3 - s1 * c2 * s3;\n        this._z = c1 * c2 * s3 + s1 * s2 * c3;\n        this._w = c1 * c2 * c3 - s1 * s2 * s3;\n      } else if (order === \"YXZ\") {\n        this._x = s1 * c2 * c3 + c1 * s2 * s3;\n        this._y = c1 * s2 * c3 - s1 * c2 * s3;\n        this._z = c1 * c2 * s3 - s1 * s2 * c3;\n        this._w = c1 * c2 * c3 + s1 * s2 * s3;\n      } else if (order === \"ZXY\") {\n        this._x = s1 * c2 * c3 - c1 * s2 * s3;\n        this._y = c1 * s2 * c3 + s1 * c2 * s3;\n        this._z = c1 * c2 * s3 + s1 * s2 * c3;\n        this._w = c1 * c2 * c3 - s1 * s2 * s3;\n      } else if (order === \"ZYX\") {\n        this._x = s1 * c2 * c3 - c1 * s2 * s3;\n        this._y = c1 * s2 * c3 + s1 * c2 * s3;\n        this._z = c1 * c2 * s3 - s1 * s2 * c3;\n        this._w = c1 * c2 * c3 + s1 * s2 * s3;\n      } else if (order === \"YZX\") {\n        this._x = s1 * c2 * c3 + c1 * s2 * s3;\n        this._y = c1 * s2 * c3 + s1 * c2 * s3;\n        this._z = c1 * c2 * s3 - s1 * s2 * c3;\n        this._w = c1 * c2 * c3 - s1 * s2 * s3;\n      } else if (order === \"XZY\") {\n        this._x = s1 * c2 * c3 - c1 * s2 * s3;\n        this._y = c1 * s2 * c3 - s1 * c2 * s3;\n        this._z = c1 * c2 * s3 + s1 * s2 * c3;\n        this._w = c1 * c2 * c3 + s1 * s2 * s3;\n      }\n\n      if (update !== false) {\n        this._onChangeCallback();\n      }\n\n      return this;\n    },\n\n    setFromAxisAngle: function (axis, angle) {\n      // http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n      // assumes axis is normalized\n\n      var halfAngle = angle / 2,\n        s = Math.sin(halfAngle);\n\n      this._x = axis.x * s;\n      this._y = axis.y * s;\n      this._z = axis.z * s;\n      this._w = Math.cos(halfAngle);\n\n      this._onChangeCallback();\n\n      return this;\n    },\n\n    setFromRotationMatrix: function (m) {\n      // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n      // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n      var te = m.elements,\n        m11 = te[0],\n        m12 = te[4],\n        m13 = te[8],\n        m21 = te[1],\n        m22 = te[5],\n        m23 = te[9],\n        m31 = te[2],\n        m32 = te[6],\n        m33 = te[10],\n        trace = m11 + m22 + m33,\n        s;\n\n      if (trace > 0) {\n        s = 0.5 / Math.sqrt(trace + 1.0);\n\n        this._w = 0.25 / s;\n        this._x = (m32 - m23) * s;\n        this._y = (m13 - m31) * s;\n        this._z = (m21 - m12) * s;\n      } else if (m11 > m22 && m11 > m33) {\n        s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);\n\n        this._w = (m32 - m23) / s;\n        this._x = 0.25 * s;\n        this._y = (m12 + m21) / s;\n        this._z = (m13 + m31) / s;\n      } else if (m22 > m33) {\n        s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);\n\n        this._w = (m13 - m31) / s;\n        this._x = (m12 + m21) / s;\n        this._y = 0.25 * s;\n        this._z = (m23 + m32) / s;\n      } else {\n        s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);\n\n        this._w = (m21 - m12) / s;\n        this._x = (m13 + m31) / s;\n        this._y = (m23 + m32) / s;\n        this._z = 0.25 * s;\n      }\n\n      this._onChangeCallback();\n\n      return this;\n    },\n\n    setFromUnitVectors: function (vFrom, vTo) {\n      // assumes direction vectors vFrom and vTo are normalized\n\n      var EPS = 0.000001;\n\n      var r = vFrom.dot(vTo) + 1;\n\n      if (r < EPS) {\n        r = 0;\n\n        if (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {\n          this._x = -vFrom.y;\n          this._y = vFrom.x;\n          this._z = 0;\n          this._w = r;\n        } else {\n          this._x = 0;\n          this._y = -vFrom.z;\n          this._z = vFrom.y;\n          this._w = r;\n        }\n      } else {\n        // crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n        this._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n        this._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n        this._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n        this._w = r;\n      }\n\n      return this.normalize();\n    },\n\n    angleTo: function (q) {\n      return 2 * Math.acos(Math.abs(_Math.clamp(this.dot(q), -1, 1)));\n    },\n\n    rotateTowards: function (q, step) {\n      var angle = this.angleTo(q);\n\n      if (angle === 0) {\n        return this;\n      }\n\n      var t = Math.min(1, step / angle);\n\n      this.slerp(q, t);\n\n      return this;\n    },\n\n    inverse: function () {\n      // quaternion is assumed to have unit length\n\n      return this.conjugate();\n    },\n\n    conjugate: function () {\n      this._x *= -1;\n      this._y *= -1;\n      this._z *= -1;\n\n      this._onChangeCallback();\n\n      return this;\n    },\n\n    dot: function (v) {\n      return this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n    },\n\n    lengthSq: function () {\n      return (\n        this._x * this._x +\n        this._y * this._y +\n        this._z * this._z +\n        this._w * this._w\n      );\n    },\n\n    length: function () {\n      return Math.sqrt(\n        this._x * this._x +\n          this._y * this._y +\n          this._z * this._z +\n          this._w * this._w\n      );\n    },\n\n    normalize: function () {\n      var l = this.length();\n\n      if (l === 0) {\n        this._x = 0;\n        this._y = 0;\n        this._z = 0;\n        this._w = 1;\n      } else {\n        l = 1 / l;\n\n        this._x = this._x * l;\n        this._y = this._y * l;\n        this._z = this._z * l;\n        this._w = this._w * l;\n      }\n\n      this._onChangeCallback();\n\n      return this;\n    },\n\n    multiply: function (q, p) {\n      if (p !== undefined) {\n        console.warn(\n          \"THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.\"\n        );\n        return this.multiplyQuaternions(q, p);\n      }\n\n      return this.multiplyQuaternions(this, q);\n    },\n\n    premultiply: function (q) {\n      return this.multiplyQuaternions(q, this);\n    },\n\n    multiplyQuaternions: function (a, b) {\n      // from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n      var qax = a._x,\n        qay = a._y,\n        qaz = a._z,\n        qaw = a._w;\n      var qbx = b._x,\n        qby = b._y,\n        qbz = b._z,\n        qbw = b._w;\n\n      this._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n      this._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n      this._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n      this._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n      this._onChangeCallback();\n\n      return this;\n    },\n\n    slerp: function (qb, t) {\n      if (t === 0) {\n        return this;\n      }\n      if (t === 1) {\n        return this.copy(qb);\n      }\n\n      var x = this._x,\n        y = this._y,\n        z = this._z,\n        w = this._w;\n\n      // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n      var cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n      if (cosHalfTheta < 0) {\n        this._w = -qb._w;\n        this._x = -qb._x;\n        this._y = -qb._y;\n        this._z = -qb._z;\n\n        cosHalfTheta = -cosHalfTheta;\n      } else {\n        this.copy(qb);\n      }\n\n      if (cosHalfTheta >= 1.0) {\n        this._w = w;\n        this._x = x;\n        this._y = y;\n        this._z = z;\n\n        return this;\n      }\n\n      var sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n      if (sqrSinHalfTheta <= Number.EPSILON) {\n        var s = 1 - t;\n        this._w = s * w + t * this._w;\n        this._x = s * x + t * this._x;\n        this._y = s * y + t * this._y;\n        this._z = s * z + t * this._z;\n\n        this.normalize();\n        this._onChangeCallback();\n\n        return this;\n      }\n\n      var sinHalfTheta = Math.sqrt(sqrSinHalfTheta);\n      var halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);\n      var ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,\n        ratioB = Math.sin(t * halfTheta) / sinHalfTheta;\n\n      this._w = w * ratioA + this._w * ratioB;\n      this._x = x * ratioA + this._x * ratioB;\n      this._y = y * ratioA + this._y * ratioB;\n      this._z = z * ratioA + this._z * ratioB;\n\n      this._onChangeCallback();\n\n      return this;\n    },\n\n    equals: function (quaternion) {\n      return (\n        quaternion._x === this._x &&\n        quaternion._y === this._y &&\n        quaternion._z === this._z &&\n        quaternion._w === this._w\n      );\n    },\n\n    fromArray: function (array, offset) {\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this._x = array[offset];\n      this._y = array[offset + 1];\n      this._z = array[offset + 2];\n      this._w = array[offset + 3];\n\n      this._onChangeCallback();\n\n      return this;\n    },\n\n    toArray: function (array, offset) {\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      array[offset] = this._x;\n      array[offset + 1] = this._y;\n      array[offset + 2] = this._z;\n      array[offset + 3] = this._w;\n\n      return array;\n    },\n\n    _onChange: function (callback) {\n      this._onChangeCallback = callback;\n\n      return this;\n    },\n\n    _onChangeCallback: function () {},\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author kile / http://kile.stravaganza.org/\n   * @author philogb / http://blog.thejit.org/\n   * @author mikael emtinger / http://gomo.se/\n   * @author egraether / http://egraether.com/\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  var _vector = new Vector3();\n  var _quaternion = new Quaternion();\n\n  function Vector3(x, y, z) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n  }\n\n  Object.assign(Vector3.prototype, {\n    isVector3: true,\n\n    set: function (x, y, z) {\n      this.x = x;\n      this.y = y;\n      this.z = z;\n\n      return this;\n    },\n\n    setScalar: function (scalar) {\n      this.x = scalar;\n      this.y = scalar;\n      this.z = scalar;\n\n      return this;\n    },\n\n    setX: function (x) {\n      this.x = x;\n\n      return this;\n    },\n\n    setY: function (y) {\n      this.y = y;\n\n      return this;\n    },\n\n    setZ: function (z) {\n      this.z = z;\n\n      return this;\n    },\n\n    setComponent: function (index, value) {\n      switch (index) {\n        case 0:\n          this.x = value;\n          break;\n        case 1:\n          this.y = value;\n          break;\n        case 2:\n          this.z = value;\n          break;\n        default:\n          throw new Error(\"index is out of range: \" + index);\n      }\n\n      return this;\n    },\n\n    getComponent: function (index) {\n      switch (index) {\n        case 0:\n          return this.x;\n        case 1:\n          return this.y;\n        case 2:\n          return this.z;\n        default:\n          throw new Error(\"index is out of range: \" + index);\n      }\n    },\n\n    clone: function () {\n      return new this.constructor(this.x, this.y, this.z);\n    },\n\n    copy: function (v) {\n      this.x = v.x;\n      this.y = v.y;\n      this.z = v.z;\n\n      return this;\n    },\n\n    add: function (v, w) {\n      if (w !== undefined) {\n        console.warn(\n          \"THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"\n        );\n        return this.addVectors(v, w);\n      }\n\n      this.x += v.x;\n      this.y += v.y;\n      this.z += v.z;\n\n      return this;\n    },\n\n    addScalar: function (s) {\n      this.x += s;\n      this.y += s;\n      this.z += s;\n\n      return this;\n    },\n\n    addVectors: function (a, b) {\n      this.x = a.x + b.x;\n      this.y = a.y + b.y;\n      this.z = a.z + b.z;\n\n      return this;\n    },\n\n    addScaledVector: function (v, s) {\n      this.x += v.x * s;\n      this.y += v.y * s;\n      this.z += v.z * s;\n\n      return this;\n    },\n\n    sub: function (v, w) {\n      if (w !== undefined) {\n        console.warn(\n          \"THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"\n        );\n        return this.subVectors(v, w);\n      }\n\n      this.x -= v.x;\n      this.y -= v.y;\n      this.z -= v.z;\n\n      return this;\n    },\n\n    subScalar: function (s) {\n      this.x -= s;\n      this.y -= s;\n      this.z -= s;\n\n      return this;\n    },\n\n    subVectors: function (a, b) {\n      this.x = a.x - b.x;\n      this.y = a.y - b.y;\n      this.z = a.z - b.z;\n\n      return this;\n    },\n\n    multiply: function (v, w) {\n      if (w !== undefined) {\n        console.warn(\n          \"THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.\"\n        );\n        return this.multiplyVectors(v, w);\n      }\n\n      this.x *= v.x;\n      this.y *= v.y;\n      this.z *= v.z;\n\n      return this;\n    },\n\n    multiplyScalar: function (scalar) {\n      this.x *= scalar;\n      this.y *= scalar;\n      this.z *= scalar;\n\n      return this;\n    },\n\n    multiplyVectors: function (a, b) {\n      this.x = a.x * b.x;\n      this.y = a.y * b.y;\n      this.z = a.z * b.z;\n\n      return this;\n    },\n\n    applyEuler: function (euler) {\n      if (!(euler && euler.isEuler)) {\n        console.error(\n          \"THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.\"\n        );\n      }\n\n      return this.applyQuaternion(_quaternion.setFromEuler(euler));\n    },\n\n    applyAxisAngle: function (axis, angle) {\n      return this.applyQuaternion(_quaternion.setFromAxisAngle(axis, angle));\n    },\n\n    applyMatrix3: function (m) {\n      var x = this.x,\n        y = this.y,\n        z = this.z;\n      var e = m.elements;\n\n      this.x = e[0] * x + e[3] * y + e[6] * z;\n      this.y = e[1] * x + e[4] * y + e[7] * z;\n      this.z = e[2] * x + e[5] * y + e[8] * z;\n\n      return this;\n    },\n\n    applyNormalMatrix: function (m) {\n      return this.applyMatrix3(m).normalize();\n    },\n\n    applyMatrix4: function (m) {\n      var x = this.x,\n        y = this.y,\n        z = this.z;\n      var e = m.elements;\n\n      var w = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);\n\n      this.x = (e[0] * x + e[4] * y + e[8] * z + e[12]) * w;\n      this.y = (e[1] * x + e[5] * y + e[9] * z + e[13]) * w;\n      this.z = (e[2] * x + e[6] * y + e[10] * z + e[14]) * w;\n\n      return this;\n    },\n\n    applyQuaternion: function (q) {\n      var x = this.x,\n        y = this.y,\n        z = this.z;\n      var qx = q.x,\n        qy = q.y,\n        qz = q.z,\n        qw = q.w;\n\n      // calculate quat * vector\n\n      var ix = qw * x + qy * z - qz * y;\n      var iy = qw * y + qz * x - qx * z;\n      var iz = qw * z + qx * y - qy * x;\n      var iw = -qx * x - qy * y - qz * z;\n\n      // calculate result * inverse quat\n\n      this.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n      this.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n      this.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n\n      return this;\n    },\n\n    project: function (camera) {\n      return this.applyMatrix4(camera.matrixWorldInverse).applyMatrix4(\n        camera.projectionMatrix\n      );\n    },\n\n    unproject: function (camera) {\n      return this.applyMatrix4(camera.projectionMatrixInverse).applyMatrix4(\n        camera.matrixWorld\n      );\n    },\n\n    transformDirection: function (m) {\n      // input: THREE.Matrix4 affine matrix\n      // vector interpreted as a direction\n\n      var x = this.x,\n        y = this.y,\n        z = this.z;\n      var e = m.elements;\n\n      this.x = e[0] * x + e[4] * y + e[8] * z;\n      this.y = e[1] * x + e[5] * y + e[9] * z;\n      this.z = e[2] * x + e[6] * y + e[10] * z;\n\n      return this.normalize();\n    },\n\n    divide: function (v) {\n      this.x /= v.x;\n      this.y /= v.y;\n      this.z /= v.z;\n\n      return this;\n    },\n\n    divideScalar: function (scalar) {\n      return this.multiplyScalar(1 / scalar);\n    },\n\n    min: function (v) {\n      this.x = Math.min(this.x, v.x);\n      this.y = Math.min(this.y, v.y);\n      this.z = Math.min(this.z, v.z);\n\n      return this;\n    },\n\n    max: function (v) {\n      this.x = Math.max(this.x, v.x);\n      this.y = Math.max(this.y, v.y);\n      this.z = Math.max(this.z, v.z);\n\n      return this;\n    },\n\n    clamp: function (min, max) {\n      // assumes min < max, componentwise\n\n      this.x = Math.max(min.x, Math.min(max.x, this.x));\n      this.y = Math.max(min.y, Math.min(max.y, this.y));\n      this.z = Math.max(min.z, Math.min(max.z, this.z));\n\n      return this;\n    },\n\n    clampScalar: function (minVal, maxVal) {\n      this.x = Math.max(minVal, Math.min(maxVal, this.x));\n      this.y = Math.max(minVal, Math.min(maxVal, this.y));\n      this.z = Math.max(minVal, Math.min(maxVal, this.z));\n\n      return this;\n    },\n\n    clampLength: function (min, max) {\n      var length = this.length();\n\n      return this.divideScalar(length || 1).multiplyScalar(\n        Math.max(min, Math.min(max, length))\n      );\n    },\n\n    floor: function () {\n      this.x = Math.floor(this.x);\n      this.y = Math.floor(this.y);\n      this.z = Math.floor(this.z);\n\n      return this;\n    },\n\n    ceil: function () {\n      this.x = Math.ceil(this.x);\n      this.y = Math.ceil(this.y);\n      this.z = Math.ceil(this.z);\n\n      return this;\n    },\n\n    round: function () {\n      this.x = Math.round(this.x);\n      this.y = Math.round(this.y);\n      this.z = Math.round(this.z);\n\n      return this;\n    },\n\n    roundToZero: function () {\n      this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n      this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n      this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);\n\n      return this;\n    },\n\n    negate: function () {\n      this.x = -this.x;\n      this.y = -this.y;\n      this.z = -this.z;\n\n      return this;\n    },\n\n    dot: function (v) {\n      return this.x * v.x + this.y * v.y + this.z * v.z;\n    },\n\n    // TODO lengthSquared?\n\n    lengthSq: function () {\n      return this.x * this.x + this.y * this.y + this.z * this.z;\n    },\n\n    length: function () {\n      return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    },\n\n    manhattanLength: function () {\n      return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\n    },\n\n    normalize: function () {\n      return this.divideScalar(this.length() || 1);\n    },\n\n    setLength: function (length) {\n      return this.normalize().multiplyScalar(length);\n    },\n\n    lerp: function (v, alpha) {\n      this.x += (v.x - this.x) * alpha;\n      this.y += (v.y - this.y) * alpha;\n      this.z += (v.z - this.z) * alpha;\n\n      return this;\n    },\n\n    lerpVectors: function (v1, v2, alpha) {\n      return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n    },\n\n    cross: function (v, w) {\n      if (w !== undefined) {\n        console.warn(\n          \"THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.\"\n        );\n        return this.crossVectors(v, w);\n      }\n\n      return this.crossVectors(this, v);\n    },\n\n    crossVectors: function (a, b) {\n      var ax = a.x,\n        ay = a.y,\n        az = a.z;\n      var bx = b.x,\n        by = b.y,\n        bz = b.z;\n\n      this.x = ay * bz - az * by;\n      this.y = az * bx - ax * bz;\n      this.z = ax * by - ay * bx;\n\n      return this;\n    },\n\n    projectOnVector: function (v) {\n      // v cannot be the zero v\n\n      var scalar = v.dot(this) / v.lengthSq();\n\n      return this.copy(v).multiplyScalar(scalar);\n    },\n\n    projectOnPlane: function (planeNormal) {\n      _vector.copy(this).projectOnVector(planeNormal);\n\n      return this.sub(_vector);\n    },\n\n    reflect: function (normal) {\n      // reflect incident vector off plane orthogonal to normal\n      // normal is assumed to have unit length\n\n      return this.sub(\n        _vector.copy(normal).multiplyScalar(2 * this.dot(normal))\n      );\n    },\n\n    angleTo: function (v) {\n      var denominator = Math.sqrt(this.lengthSq() * v.lengthSq());\n\n      if (denominator === 0) {\n        console.error(\n          \"THREE.Vector3: angleTo() can't handle zero length vectors.\"\n        );\n      }\n\n      var theta = this.dot(v) / denominator;\n\n      // clamp, to handle numerical problems\n\n      return Math.acos(_Math.clamp(theta, -1, 1));\n    },\n\n    distanceTo: function (v) {\n      return Math.sqrt(this.distanceToSquared(v));\n    },\n\n    distanceToSquared: function (v) {\n      var dx = this.x - v.x,\n        dy = this.y - v.y,\n        dz = this.z - v.z;\n\n      return dx * dx + dy * dy + dz * dz;\n    },\n\n    manhattanDistanceTo: function (v) {\n      return (\n        Math.abs(this.x - v.x) + Math.abs(this.y - v.y) + Math.abs(this.z - v.z)\n      );\n    },\n\n    setFromSpherical: function (s) {\n      return this.setFromSphericalCoords(s.radius, s.phi, s.theta);\n    },\n\n    setFromSphericalCoords: function (radius, phi, theta) {\n      var sinPhiRadius = Math.sin(phi) * radius;\n\n      this.x = sinPhiRadius * Math.sin(theta);\n      this.y = Math.cos(phi) * radius;\n      this.z = sinPhiRadius * Math.cos(theta);\n\n      return this;\n    },\n\n    setFromCylindrical: function (c) {\n      return this.setFromCylindricalCoords(c.radius, c.theta, c.y);\n    },\n\n    setFromCylindricalCoords: function (radius, theta, y) {\n      this.x = radius * Math.sin(theta);\n      this.y = y;\n      this.z = radius * Math.cos(theta);\n\n      return this;\n    },\n\n    setFromMatrixPosition: function (m) {\n      var e = m.elements;\n\n      this.x = e[12];\n      this.y = e[13];\n      this.z = e[14];\n\n      return this;\n    },\n\n    setFromMatrixScale: function (m) {\n      var sx = this.setFromMatrixColumn(m, 0).length();\n      var sy = this.setFromMatrixColumn(m, 1).length();\n      var sz = this.setFromMatrixColumn(m, 2).length();\n\n      this.x = sx;\n      this.y = sy;\n      this.z = sz;\n\n      return this;\n    },\n\n    setFromMatrixColumn: function (m, index) {\n      return this.fromArray(m.elements, index * 4);\n    },\n\n    equals: function (v) {\n      return v.x === this.x && v.y === this.y && v.z === this.z;\n    },\n\n    fromArray: function (array, offset) {\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this.x = array[offset];\n      this.y = array[offset + 1];\n      this.z = array[offset + 2];\n\n      return this;\n    },\n\n    toArray: function (array, offset) {\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      array[offset] = this.x;\n      array[offset + 1] = this.y;\n      array[offset + 2] = this.z;\n\n      return array;\n    },\n\n    fromBufferAttribute: function (attribute, index, offset) {\n      if (offset !== undefined) {\n        console.warn(\n          \"THREE.Vector3: offset has been removed from .fromBufferAttribute().\"\n        );\n      }\n\n      this.x = attribute.getX(index);\n      this.y = attribute.getY(index);\n      this.z = attribute.getZ(index);\n\n      return this;\n    },\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author bhouston / http://clara.io\n   * @author tschw\n   */\n\n  var _vector$1 = new Vector3();\n\n  function Matrix3() {\n    this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n    if (arguments.length > 0) {\n      console.error(\n        \"THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.\"\n      );\n    }\n  }\n\n  Object.assign(Matrix3.prototype, {\n    isMatrix3: true,\n\n    set: function (n11, n12, n13, n21, n22, n23, n31, n32, n33) {\n      var te = this.elements;\n\n      te[0] = n11;\n      te[1] = n21;\n      te[2] = n31;\n      te[3] = n12;\n      te[4] = n22;\n      te[5] = n32;\n      te[6] = n13;\n      te[7] = n23;\n      te[8] = n33;\n\n      return this;\n    },\n\n    identity: function () {\n      this.set(1, 0, 0, 0, 1, 0, 0, 0, 1);\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor().fromArray(this.elements);\n    },\n\n    copy: function (m) {\n      var te = this.elements;\n      var me = m.elements;\n\n      te[0] = me[0];\n      te[1] = me[1];\n      te[2] = me[2];\n      te[3] = me[3];\n      te[4] = me[4];\n      te[5] = me[5];\n      te[6] = me[6];\n      te[7] = me[7];\n      te[8] = me[8];\n\n      return this;\n    },\n\n    setFromMatrix4: function (m) {\n      var me = m.elements;\n\n      this.set(me[0], me[4], me[8], me[1], me[5], me[9], me[2], me[6], me[10]);\n\n      return this;\n    },\n\n    applyToBufferAttribute: function (attribute) {\n      for (var i = 0, l = attribute.count; i < l; i++) {\n        _vector$1.x = attribute.getX(i);\n        _vector$1.y = attribute.getY(i);\n        _vector$1.z = attribute.getZ(i);\n\n        _vector$1.applyMatrix3(this);\n\n        attribute.setXYZ(i, _vector$1.x, _vector$1.y, _vector$1.z);\n      }\n\n      return attribute;\n    },\n\n    multiply: function (m) {\n      return this.multiplyMatrices(this, m);\n    },\n\n    premultiply: function (m) {\n      return this.multiplyMatrices(m, this);\n    },\n\n    multiplyMatrices: function (a, b) {\n      var ae = a.elements;\n      var be = b.elements;\n      var te = this.elements;\n\n      var a11 = ae[0],\n        a12 = ae[3],\n        a13 = ae[6];\n      var a21 = ae[1],\n        a22 = ae[4],\n        a23 = ae[7];\n      var a31 = ae[2],\n        a32 = ae[5],\n        a33 = ae[8];\n\n      var b11 = be[0],\n        b12 = be[3],\n        b13 = be[6];\n      var b21 = be[1],\n        b22 = be[4],\n        b23 = be[7];\n      var b31 = be[2],\n        b32 = be[5],\n        b33 = be[8];\n\n      te[0] = a11 * b11 + a12 * b21 + a13 * b31;\n      te[3] = a11 * b12 + a12 * b22 + a13 * b32;\n      te[6] = a11 * b13 + a12 * b23 + a13 * b33;\n\n      te[1] = a21 * b11 + a22 * b21 + a23 * b31;\n      te[4] = a21 * b12 + a22 * b22 + a23 * b32;\n      te[7] = a21 * b13 + a22 * b23 + a23 * b33;\n\n      te[2] = a31 * b11 + a32 * b21 + a33 * b31;\n      te[5] = a31 * b12 + a32 * b22 + a33 * b32;\n      te[8] = a31 * b13 + a32 * b23 + a33 * b33;\n\n      return this;\n    },\n\n    multiplyScalar: function (s) {\n      var te = this.elements;\n\n      te[0] *= s;\n      te[3] *= s;\n      te[6] *= s;\n      te[1] *= s;\n      te[4] *= s;\n      te[7] *= s;\n      te[2] *= s;\n      te[5] *= s;\n      te[8] *= s;\n\n      return this;\n    },\n\n    determinant: function () {\n      var te = this.elements;\n\n      var a = te[0],\n        b = te[1],\n        c = te[2],\n        d = te[3],\n        e = te[4],\n        f = te[5],\n        g = te[6],\n        h = te[7],\n        i = te[8];\n\n      return (\n        a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g\n      );\n    },\n\n    getInverse: function (matrix, throwOnDegenerate) {\n      if (matrix && matrix.isMatrix4) {\n        console.error(\n          \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\"\n        );\n      }\n\n      var me = matrix.elements,\n        te = this.elements,\n        n11 = me[0],\n        n21 = me[1],\n        n31 = me[2],\n        n12 = me[3],\n        n22 = me[4],\n        n32 = me[5],\n        n13 = me[6],\n        n23 = me[7],\n        n33 = me[8],\n        t11 = n33 * n22 - n32 * n23,\n        t12 = n32 * n13 - n33 * n12,\n        t13 = n23 * n12 - n22 * n13,\n        det = n11 * t11 + n21 * t12 + n31 * t13;\n\n      if (det === 0) {\n        var msg =\n          \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n        if (throwOnDegenerate === true) {\n          throw new Error(msg);\n        } else {\n          console.warn(msg);\n        }\n\n        return this.identity();\n      }\n\n      var detInv = 1 / det;\n\n      te[0] = t11 * detInv;\n      te[1] = (n31 * n23 - n33 * n21) * detInv;\n      te[2] = (n32 * n21 - n31 * n22) * detInv;\n\n      te[3] = t12 * detInv;\n      te[4] = (n33 * n11 - n31 * n13) * detInv;\n      te[5] = (n31 * n12 - n32 * n11) * detInv;\n\n      te[6] = t13 * detInv;\n      te[7] = (n21 * n13 - n23 * n11) * detInv;\n      te[8] = (n22 * n11 - n21 * n12) * detInv;\n\n      return this;\n    },\n\n    transpose: function () {\n      var tmp,\n        m = this.elements;\n\n      tmp = m[1];\n      m[1] = m[3];\n      m[3] = tmp;\n      tmp = m[2];\n      m[2] = m[6];\n      m[6] = tmp;\n      tmp = m[5];\n      m[5] = m[7];\n      m[7] = tmp;\n\n      return this;\n    },\n\n    getNormalMatrix: function (matrix4) {\n      return this.setFromMatrix4(matrix4).getInverse(this).transpose();\n    },\n\n    transposeIntoArray: function (r) {\n      var m = this.elements;\n\n      r[0] = m[0];\n      r[1] = m[3];\n      r[2] = m[6];\n      r[3] = m[1];\n      r[4] = m[4];\n      r[5] = m[7];\n      r[6] = m[2];\n      r[7] = m[5];\n      r[8] = m[8];\n\n      return this;\n    },\n\n    setUvTransform: function (tx, ty, sx, sy, rotation, cx, cy) {\n      var c = Math.cos(rotation);\n      var s = Math.sin(rotation);\n\n      this.set(\n        sx * c,\n        sx * s,\n        -sx * (c * cx + s * cy) + cx + tx,\n        -sy * s,\n        sy * c,\n        -sy * (-s * cx + c * cy) + cy + ty,\n        0,\n        0,\n        1\n      );\n    },\n\n    scale: function (sx, sy) {\n      var te = this.elements;\n\n      te[0] *= sx;\n      te[3] *= sx;\n      te[6] *= sx;\n      te[1] *= sy;\n      te[4] *= sy;\n      te[7] *= sy;\n\n      return this;\n    },\n\n    rotate: function (theta) {\n      var c = Math.cos(theta);\n      var s = Math.sin(theta);\n\n      var te = this.elements;\n\n      var a11 = te[0],\n        a12 = te[3],\n        a13 = te[6];\n      var a21 = te[1],\n        a22 = te[4],\n        a23 = te[7];\n\n      te[0] = c * a11 + s * a21;\n      te[3] = c * a12 + s * a22;\n      te[6] = c * a13 + s * a23;\n\n      te[1] = -s * a11 + c * a21;\n      te[4] = -s * a12 + c * a22;\n      te[7] = -s * a13 + c * a23;\n\n      return this;\n    },\n\n    translate: function (tx, ty) {\n      var te = this.elements;\n\n      te[0] += tx * te[2];\n      te[3] += tx * te[5];\n      te[6] += tx * te[8];\n      te[1] += ty * te[2];\n      te[4] += ty * te[5];\n      te[7] += ty * te[8];\n\n      return this;\n    },\n\n    equals: function (matrix) {\n      var te = this.elements;\n      var me = matrix.elements;\n\n      for (var i = 0; i < 9; i++) {\n        if (te[i] !== me[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n    fromArray: function (array, offset) {\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      for (var i = 0; i < 9; i++) {\n        this.elements[i] = array[i + offset];\n      }\n\n      return this;\n    },\n\n    toArray: function (array, offset) {\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      var te = this.elements;\n\n      array[offset] = te[0];\n      array[offset + 1] = te[1];\n      array[offset + 2] = te[2];\n\n      array[offset + 3] = te[3];\n      array[offset + 4] = te[4];\n      array[offset + 5] = te[5];\n\n      array[offset + 6] = te[6];\n      array[offset + 7] = te[7];\n      array[offset + 8] = te[8];\n\n      return array;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author szimek / https://github.com/szimek/\n   */\n\n  var _canvas;\n\n  var ImageUtils = {\n    getDataURL: function (image) {\n      var canvas;\n\n      if (typeof HTMLCanvasElement == \"undefined\") {\n        return image.src;\n      } else if (image instanceof HTMLCanvasElement) {\n        canvas = image;\n      } else {\n        if (_canvas === undefined) {\n          _canvas = document.createElementNS(\n            \"http://www.w3.org/1999/xhtml\",\n            \"canvas\"\n          );\n        }\n\n        _canvas.width = image.width;\n        _canvas.height = image.height;\n\n        var context = _canvas.getContext(\"2d\");\n\n        if (image instanceof ImageData) {\n          context.putImageData(image, 0, 0);\n        } else {\n          context.drawImage(image, 0, 0, image.width, image.height);\n        }\n\n        canvas = _canvas;\n      }\n\n      if (canvas.width > 2048 || canvas.height > 2048) {\n        return canvas.toDataURL(\"image/jpeg\", 0.6);\n      } else {\n        return canvas.toDataURL(\"image/png\");\n      }\n    },\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author szimek / https://github.com/szimek/\n   */\n\n  var textureId = 0;\n\n  function Texture(\n    image,\n    mapping,\n    wrapS,\n    wrapT,\n    magFilter,\n    minFilter,\n    format,\n    type,\n    anisotropy,\n    encoding\n  ) {\n    Object.defineProperty(this, \"id\", {\n      value: textureId++,\n    });\n\n    this.uuid = _Math.generateUUID();\n\n    this.name = \"\";\n\n    this.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n    this.mipmaps = [];\n\n    this.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n    this.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n    this.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n    this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n    this.minFilter =\n      minFilter !== undefined ? minFilter : LinearMipmapLinearFilter;\n\n    this.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n    this.format = format !== undefined ? format : RGBAFormat;\n    this.internalFormat = null;\n    this.type = type !== undefined ? type : UnsignedByteType;\n\n    this.offset = new Vector2(0, 0);\n    this.repeat = new Vector2(1, 1);\n    this.center = new Vector2(0, 0);\n    this.rotation = 0;\n\n    this.matrixAutoUpdate = true;\n    this.matrix = new Matrix3();\n\n    this.generateMipmaps = true;\n    this.premultiplyAlpha = false;\n    this.flipY = true;\n    this.unpackAlignment = 4; // valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n    // Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n    //\n    // Also changing the encoding after already used by a Material will not automatically make the Material\n    // update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n    this.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n    this.version = 0;\n    this.onUpdate = null;\n  }\n\n  Texture.DEFAULT_IMAGE = undefined;\n  Texture.DEFAULT_MAPPING = UVMapping;\n\n  Texture.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n    constructor: Texture,\n\n    isTexture: true,\n\n    updateMatrix: function () {\n      this.matrix.setUvTransform(\n        this.offset.x,\n        this.offset.y,\n        this.repeat.x,\n        this.repeat.y,\n        this.rotation,\n        this.center.x,\n        this.center.y\n      );\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (source) {\n      this.name = source.name;\n\n      this.image = source.image;\n      this.mipmaps = source.mipmaps.slice(0);\n\n      this.mapping = source.mapping;\n\n      this.wrapS = source.wrapS;\n      this.wrapT = source.wrapT;\n\n      this.magFilter = source.magFilter;\n      this.minFilter = source.minFilter;\n\n      this.anisotropy = source.anisotropy;\n\n      this.format = source.format;\n      this.internalFormat = source.internalFormat;\n      this.type = source.type;\n\n      this.offset.copy(source.offset);\n      this.repeat.copy(source.repeat);\n      this.center.copy(source.center);\n      this.rotation = source.rotation;\n\n      this.matrixAutoUpdate = source.matrixAutoUpdate;\n      this.matrix.copy(source.matrix);\n\n      this.generateMipmaps = source.generateMipmaps;\n      this.premultiplyAlpha = source.premultiplyAlpha;\n      this.flipY = source.flipY;\n      this.unpackAlignment = source.unpackAlignment;\n      this.encoding = source.encoding;\n\n      return this;\n    },\n\n    toJSON: function (meta) {\n      var isRootObject = meta === undefined || typeof meta === \"string\";\n\n      if (!isRootObject && meta.textures[this.uuid] !== undefined) {\n        return meta.textures[this.uuid];\n      }\n\n      var output = {\n        metadata: {\n          version: 4.5,\n          type: \"Texture\",\n          generator: \"Texture.toJSON\",\n        },\n\n        uuid: this.uuid,\n        name: this.name,\n\n        mapping: this.mapping,\n\n        repeat: [this.repeat.x, this.repeat.y],\n        offset: [this.offset.x, this.offset.y],\n        center: [this.center.x, this.center.y],\n        rotation: this.rotation,\n\n        wrap: [this.wrapS, this.wrapT],\n\n        format: this.format,\n        type: this.type,\n        encoding: this.encoding,\n\n        minFilter: this.minFilter,\n        magFilter: this.magFilter,\n        anisotropy: this.anisotropy,\n\n        flipY: this.flipY,\n\n        premultiplyAlpha: this.premultiplyAlpha,\n        unpackAlignment: this.unpackAlignment,\n      };\n\n      if (this.image !== undefined) {\n        // TODO: Move to THREE.Image\n\n        var image = this.image;\n\n        if (image.uuid === undefined) {\n          image.uuid = _Math.generateUUID(); // UGH\n        }\n\n        if (!isRootObject && meta.images[image.uuid] === undefined) {\n          var url;\n\n          if (Array.isArray(image)) {\n            // process array of images e.g. CubeTexture\n\n            url = [];\n\n            for (var i = 0, l = image.length; i < l; i++) {\n              url.push(ImageUtils.getDataURL(image[i]));\n            }\n          } else {\n            // process single image\n\n            url = ImageUtils.getDataURL(image);\n          }\n\n          meta.images[image.uuid] = {\n            uuid: image.uuid,\n            url: url,\n          };\n        }\n\n        output.image = image.uuid;\n      }\n\n      if (!isRootObject) {\n        meta.textures[this.uuid] = output;\n      }\n\n      return output;\n    },\n\n    dispose: function () {\n      this.dispatchEvent({\n        type: \"dispose\",\n      });\n    },\n\n    transformUv: function (uv) {\n      if (this.mapping !== UVMapping) {\n        return uv;\n      }\n\n      uv.applyMatrix3(this.matrix);\n\n      if (uv.x < 0 || uv.x > 1) {\n        switch (this.wrapS) {\n          case RepeatWrapping:\n            uv.x = uv.x - Math.floor(uv.x);\n            break;\n\n          case ClampToEdgeWrapping:\n            uv.x = uv.x < 0 ? 0 : 1;\n            break;\n\n          case MirroredRepeatWrapping:\n            if (Math.abs(Math.floor(uv.x) % 2) === 1) {\n              uv.x = Math.ceil(uv.x) - uv.x;\n            } else {\n              uv.x = uv.x - Math.floor(uv.x);\n            }\n            break;\n        }\n      }\n\n      if (uv.y < 0 || uv.y > 1) {\n        switch (this.wrapT) {\n          case RepeatWrapping:\n            uv.y = uv.y - Math.floor(uv.y);\n            break;\n\n          case ClampToEdgeWrapping:\n            uv.y = uv.y < 0 ? 0 : 1;\n            break;\n\n          case MirroredRepeatWrapping:\n            if (Math.abs(Math.floor(uv.y) % 2) === 1) {\n              uv.y = Math.ceil(uv.y) - uv.y;\n            } else {\n              uv.y = uv.y - Math.floor(uv.y);\n            }\n            break;\n        }\n      }\n\n      if (this.flipY) {\n        uv.y = 1 - uv.y;\n      }\n\n      return uv;\n    },\n  });\n\n  Object.defineProperty(Texture.prototype, \"needsUpdate\", {\n    set: function (value) {\n      if (value === true) {\n        this.version++;\n      }\n    },\n  });\n\n  /**\n   * @author supereggbert / http://www.paulbrunt.co.uk/\n   * @author philogb / http://blog.thejit.org/\n   * @author mikael emtinger / http://gomo.se/\n   * @author egraether / http://egraether.com/\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function Vector4(x, y, z, w) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n    this.w = w !== undefined ? w : 1;\n  }\n\n  Object.defineProperties(Vector4.prototype, {\n    width: {\n      get: function () {\n        return this.z;\n      },\n\n      set: function (value) {\n        this.z = value;\n      },\n    },\n\n    height: {\n      get: function () {\n        return this.w;\n      },\n\n      set: function (value) {\n        this.w = value;\n      },\n    },\n  });\n\n  Object.assign(Vector4.prototype, {\n    isVector4: true,\n\n    set: function (x, y, z, w) {\n      this.x = x;\n      this.y = y;\n      this.z = z;\n      this.w = w;\n\n      return this;\n    },\n\n    setScalar: function (scalar) {\n      this.x = scalar;\n      this.y = scalar;\n      this.z = scalar;\n      this.w = scalar;\n\n      return this;\n    },\n\n    setX: function (x) {\n      this.x = x;\n\n      return this;\n    },\n\n    setY: function (y) {\n      this.y = y;\n\n      return this;\n    },\n\n    setZ: function (z) {\n      this.z = z;\n\n      return this;\n    },\n\n    setW: function (w) {\n      this.w = w;\n\n      return this;\n    },\n\n    setComponent: function (index, value) {\n      switch (index) {\n        case 0:\n          this.x = value;\n          break;\n        case 1:\n          this.y = value;\n          break;\n        case 2:\n          this.z = value;\n          break;\n        case 3:\n          this.w = value;\n          break;\n        default:\n          throw new Error(\"index is out of range: \" + index);\n      }\n\n      return this;\n    },\n\n    getComponent: function (index) {\n      switch (index) {\n        case 0:\n          return this.x;\n        case 1:\n          return this.y;\n        case 2:\n          return this.z;\n        case 3:\n          return this.w;\n        default:\n          throw new Error(\"index is out of range: \" + index);\n      }\n    },\n\n    clone: function () {\n      return new this.constructor(this.x, this.y, this.z, this.w);\n    },\n\n    copy: function (v) {\n      this.x = v.x;\n      this.y = v.y;\n      this.z = v.z;\n      this.w = v.w !== undefined ? v.w : 1;\n\n      return this;\n    },\n\n    add: function (v, w) {\n      if (w !== undefined) {\n        console.warn(\n          \"THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"\n        );\n        return this.addVectors(v, w);\n      }\n\n      this.x += v.x;\n      this.y += v.y;\n      this.z += v.z;\n      this.w += v.w;\n\n      return this;\n    },\n\n    addScalar: function (s) {\n      this.x += s;\n      this.y += s;\n      this.z += s;\n      this.w += s;\n\n      return this;\n    },\n\n    addVectors: function (a, b) {\n      this.x = a.x + b.x;\n      this.y = a.y + b.y;\n      this.z = a.z + b.z;\n      this.w = a.w + b.w;\n\n      return this;\n    },\n\n    addScaledVector: function (v, s) {\n      this.x += v.x * s;\n      this.y += v.y * s;\n      this.z += v.z * s;\n      this.w += v.w * s;\n\n      return this;\n    },\n\n    sub: function (v, w) {\n      if (w !== undefined) {\n        console.warn(\n          \"THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"\n        );\n        return this.subVectors(v, w);\n      }\n\n      this.x -= v.x;\n      this.y -= v.y;\n      this.z -= v.z;\n      this.w -= v.w;\n\n      return this;\n    },\n\n    subScalar: function (s) {\n      this.x -= s;\n      this.y -= s;\n      this.z -= s;\n      this.w -= s;\n\n      return this;\n    },\n\n    subVectors: function (a, b) {\n      this.x = a.x - b.x;\n      this.y = a.y - b.y;\n      this.z = a.z - b.z;\n      this.w = a.w - b.w;\n\n      return this;\n    },\n\n    multiplyScalar: function (scalar) {\n      this.x *= scalar;\n      this.y *= scalar;\n      this.z *= scalar;\n      this.w *= scalar;\n\n      return this;\n    },\n\n    applyMatrix4: function (m) {\n      var x = this.x,\n        y = this.y,\n        z = this.z,\n        w = this.w;\n      var e = m.elements;\n\n      this.x = e[0] * x + e[4] * y + e[8] * z + e[12] * w;\n      this.y = e[1] * x + e[5] * y + e[9] * z + e[13] * w;\n      this.z = e[2] * x + e[6] * y + e[10] * z + e[14] * w;\n      this.w = e[3] * x + e[7] * y + e[11] * z + e[15] * w;\n\n      return this;\n    },\n\n    divideScalar: function (scalar) {\n      return this.multiplyScalar(1 / scalar);\n    },\n\n    setAxisAngleFromQuaternion: function (q) {\n      // http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n      // q is assumed to be normalized\n\n      this.w = 2 * Math.acos(q.w);\n\n      var s = Math.sqrt(1 - q.w * q.w);\n\n      if (s < 0.0001) {\n        this.x = 1;\n        this.y = 0;\n        this.z = 0;\n      } else {\n        this.x = q.x / s;\n        this.y = q.y / s;\n        this.z = q.z / s;\n      }\n\n      return this;\n    },\n\n    setAxisAngleFromRotationMatrix: function (m) {\n      // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n      // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n      var angle,\n        x,\n        y,\n        z, // variables for result\n        epsilon = 0.01, // margin to allow for rounding errors\n        epsilon2 = 0.1, // margin to distinguish between 0 and 180 degrees\n        te = m.elements,\n        m11 = te[0],\n        m12 = te[4],\n        m13 = te[8],\n        m21 = te[1],\n        m22 = te[5],\n        m23 = te[9],\n        m31 = te[2],\n        m32 = te[6],\n        m33 = te[10];\n\n      if (\n        Math.abs(m12 - m21) < epsilon &&\n        Math.abs(m13 - m31) < epsilon &&\n        Math.abs(m23 - m32) < epsilon\n      ) {\n        // singularity found\n        // first check for identity matrix which must have +1 for all terms\n        // in leading diagonal and zero in other terms\n\n        if (\n          Math.abs(m12 + m21) < epsilon2 &&\n          Math.abs(m13 + m31) < epsilon2 &&\n          Math.abs(m23 + m32) < epsilon2 &&\n          Math.abs(m11 + m22 + m33 - 3) < epsilon2\n        ) {\n          // this singularity is identity matrix so angle = 0\n\n          this.set(1, 0, 0, 0);\n\n          return this; // zero angle, arbitrary axis\n        }\n\n        // otherwise this singularity is angle = 180\n\n        angle = Math.PI;\n\n        var xx = (m11 + 1) / 2;\n        var yy = (m22 + 1) / 2;\n        var zz = (m33 + 1) / 2;\n        var xy = (m12 + m21) / 4;\n        var xz = (m13 + m31) / 4;\n        var yz = (m23 + m32) / 4;\n\n        if (xx > yy && xx > zz) {\n          // m11 is the largest diagonal term\n\n          if (xx < epsilon) {\n            x = 0;\n            y = 0.707106781;\n            z = 0.707106781;\n          } else {\n            x = Math.sqrt(xx);\n            y = xy / x;\n            z = xz / x;\n          }\n        } else if (yy > zz) {\n          // m22 is the largest diagonal term\n\n          if (yy < epsilon) {\n            x = 0.707106781;\n            y = 0;\n            z = 0.707106781;\n          } else {\n            y = Math.sqrt(yy);\n            x = xy / y;\n            z = yz / y;\n          }\n        } else {\n          // m33 is the largest diagonal term so base result on this\n\n          if (zz < epsilon) {\n            x = 0.707106781;\n            y = 0.707106781;\n            z = 0;\n          } else {\n            z = Math.sqrt(zz);\n            x = xz / z;\n            y = yz / z;\n          }\n        }\n\n        this.set(x, y, z, angle);\n\n        return this; // return 180 deg rotation\n      }\n\n      // as we have reached here there are no singularities so we can handle normally\n\n      var s = Math.sqrt(\n        (m32 - m23) * (m32 - m23) +\n          (m13 - m31) * (m13 - m31) +\n          (m21 - m12) * (m21 - m12)\n      ); // used to normalize\n\n      if (Math.abs(s) < 0.001) {\n        s = 1;\n      }\n\n      // prevent divide by zero, should not happen if matrix is orthogonal and should be\n      // caught by singularity test above, but I've left it in just in case\n\n      this.x = (m32 - m23) / s;\n      this.y = (m13 - m31) / s;\n      this.z = (m21 - m12) / s;\n      this.w = Math.acos((m11 + m22 + m33 - 1) / 2);\n\n      return this;\n    },\n\n    min: function (v) {\n      this.x = Math.min(this.x, v.x);\n      this.y = Math.min(this.y, v.y);\n      this.z = Math.min(this.z, v.z);\n      this.w = Math.min(this.w, v.w);\n\n      return this;\n    },\n\n    max: function (v) {\n      this.x = Math.max(this.x, v.x);\n      this.y = Math.max(this.y, v.y);\n      this.z = Math.max(this.z, v.z);\n      this.w = Math.max(this.w, v.w);\n\n      return this;\n    },\n\n    clamp: function (min, max) {\n      // assumes min < max, componentwise\n\n      this.x = Math.max(min.x, Math.min(max.x, this.x));\n      this.y = Math.max(min.y, Math.min(max.y, this.y));\n      this.z = Math.max(min.z, Math.min(max.z, this.z));\n      this.w = Math.max(min.w, Math.min(max.w, this.w));\n\n      return this;\n    },\n\n    clampScalar: function (minVal, maxVal) {\n      this.x = Math.max(minVal, Math.min(maxVal, this.x));\n      this.y = Math.max(minVal, Math.min(maxVal, this.y));\n      this.z = Math.max(minVal, Math.min(maxVal, this.z));\n      this.w = Math.max(minVal, Math.min(maxVal, this.w));\n\n      return this;\n    },\n\n    clampLength: function (min, max) {\n      var length = this.length();\n\n      return this.divideScalar(length || 1).multiplyScalar(\n        Math.max(min, Math.min(max, length))\n      );\n    },\n\n    floor: function () {\n      this.x = Math.floor(this.x);\n      this.y = Math.floor(this.y);\n      this.z = Math.floor(this.z);\n      this.w = Math.floor(this.w);\n\n      return this;\n    },\n\n    ceil: function () {\n      this.x = Math.ceil(this.x);\n      this.y = Math.ceil(this.y);\n      this.z = Math.ceil(this.z);\n      this.w = Math.ceil(this.w);\n\n      return this;\n    },\n\n    round: function () {\n      this.x = Math.round(this.x);\n      this.y = Math.round(this.y);\n      this.z = Math.round(this.z);\n      this.w = Math.round(this.w);\n\n      return this;\n    },\n\n    roundToZero: function () {\n      this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n      this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n      this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);\n      this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w);\n\n      return this;\n    },\n\n    negate: function () {\n      this.x = -this.x;\n      this.y = -this.y;\n      this.z = -this.z;\n      this.w = -this.w;\n\n      return this;\n    },\n\n    dot: function (v) {\n      return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n    },\n\n    lengthSq: function () {\n      return (\n        this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w\n      );\n    },\n\n    length: function () {\n      return Math.sqrt(\n        this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w\n      );\n    },\n\n    manhattanLength: function () {\n      return (\n        Math.abs(this.x) +\n        Math.abs(this.y) +\n        Math.abs(this.z) +\n        Math.abs(this.w)\n      );\n    },\n\n    normalize: function () {\n      return this.divideScalar(this.length() || 1);\n    },\n\n    setLength: function (length) {\n      return this.normalize().multiplyScalar(length);\n    },\n\n    lerp: function (v, alpha) {\n      this.x += (v.x - this.x) * alpha;\n      this.y += (v.y - this.y) * alpha;\n      this.z += (v.z - this.z) * alpha;\n      this.w += (v.w - this.w) * alpha;\n\n      return this;\n    },\n\n    lerpVectors: function (v1, v2, alpha) {\n      return this.subVectors(v2, v1).multiplyScalar(alpha).add(v1);\n    },\n\n    equals: function (v) {\n      return (\n        v.x === this.x && v.y === this.y && v.z === this.z && v.w === this.w\n      );\n    },\n\n    fromArray: function (array, offset) {\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this.x = array[offset];\n      this.y = array[offset + 1];\n      this.z = array[offset + 2];\n      this.w = array[offset + 3];\n\n      return this;\n    },\n\n    toArray: function (array, offset) {\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      array[offset] = this.x;\n      array[offset + 1] = this.y;\n      array[offset + 2] = this.z;\n      array[offset + 3] = this.w;\n\n      return array;\n    },\n\n    fromBufferAttribute: function (attribute, index, offset) {\n      if (offset !== undefined) {\n        console.warn(\n          \"THREE.Vector4: offset has been removed from .fromBufferAttribute().\"\n        );\n      }\n\n      this.x = attribute.getX(index);\n      this.y = attribute.getY(index);\n      this.z = attribute.getZ(index);\n      this.w = attribute.getW(index);\n\n      return this;\n    },\n  });\n\n  /**\n   * @author szimek / https://github.com/szimek/\n   * @author alteredq / http://alteredqualia.com/\n   * @author Marius Kintel / https://github.com/kintel\n   */\n\n  /*\n   In options, we can specify:\n   * Texture parameters for an auto-generated target texture\n   * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n  */\n  function WebGLRenderTarget(width, height, options) {\n    this.width = width;\n    this.height = height;\n\n    this.scissor = new Vector4(0, 0, width, height);\n    this.scissorTest = false;\n\n    this.viewport = new Vector4(0, 0, width, height);\n\n    options = options || {};\n\n    this.texture = new Texture(\n      undefined,\n      undefined,\n      options.wrapS,\n      options.wrapT,\n      options.magFilter,\n      options.minFilter,\n      options.format,\n      options.type,\n      options.anisotropy,\n      options.encoding\n    );\n\n    this.texture.image = {};\n    this.texture.image.width = width;\n    this.texture.image.height = height;\n\n    this.texture.generateMipmaps =\n      options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n    this.texture.minFilter =\n      options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n    this.depthBuffer =\n      options.depthBuffer !== undefined ? options.depthBuffer : true;\n    this.stencilBuffer =\n      options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n    this.depthTexture =\n      options.depthTexture !== undefined ? options.depthTexture : null;\n  }\n\n  WebGLRenderTarget.prototype = Object.assign(\n    Object.create(EventDispatcher.prototype),\n    {\n      constructor: WebGLRenderTarget,\n\n      isWebGLRenderTarget: true,\n\n      setSize: function (width, height) {\n        if (this.width !== width || this.height !== height) {\n          this.width = width;\n          this.height = height;\n\n          this.texture.image.width = width;\n          this.texture.image.height = height;\n\n          this.dispose();\n        }\n\n        this.viewport.set(0, 0, width, height);\n        this.scissor.set(0, 0, width, height);\n      },\n\n      clone: function () {\n        return new this.constructor().copy(this);\n      },\n\n      copy: function (source) {\n        this.width = source.width;\n        this.height = source.height;\n\n        this.viewport.copy(source.viewport);\n\n        this.texture = source.texture.clone();\n\n        this.depthBuffer = source.depthBuffer;\n        this.stencilBuffer = source.stencilBuffer;\n        this.depthTexture = source.depthTexture;\n\n        return this;\n      },\n\n      dispose: function () {\n        this.dispatchEvent({\n          type: \"dispose\",\n        });\n      },\n    }\n  );\n\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   * @author Matt DesLauriers / @mattdesl\n   */\n\n  function WebGLMultisampleRenderTarget(width, height, options) {\n    WebGLRenderTarget.call(this, width, height, options);\n\n    this.samples = 4;\n  }\n\n  WebGLMultisampleRenderTarget.prototype = Object.assign(\n    Object.create(WebGLRenderTarget.prototype),\n    {\n      constructor: WebGLMultisampleRenderTarget,\n\n      isWebGLMultisampleRenderTarget: true,\n\n      copy: function (source) {\n        WebGLRenderTarget.prototype.copy.call(this, source);\n\n        this.samples = source.samples;\n\n        return this;\n      },\n    }\n  );\n\n  var _v1 = new Vector3();\n  var _m1 = new Matrix4();\n  var _zero = new Vector3(0, 0, 0);\n  var _one = new Vector3(1, 1, 1);\n  var _x = new Vector3();\n  var _y = new Vector3();\n  var _z = new Vector3();\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author supereggbert / http://www.paulbrunt.co.uk/\n   * @author philogb / http://blog.thejit.org/\n   * @author jordi_ros / http://plattsoft.com\n   * @author D1plo1d / http://github.com/D1plo1d\n   * @author alteredq / http://alteredqualia.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author timknip / http://www.floorplanner.com/\n   * @author bhouston / http://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function Matrix4() {\n    this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\n    if (arguments.length > 0) {\n      console.error(\n        \"THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.\"\n      );\n    }\n  }\n\n  Object.assign(Matrix4.prototype, {\n    isMatrix4: true,\n\n    set: function (\n      n11,\n      n12,\n      n13,\n      n14,\n      n21,\n      n22,\n      n23,\n      n24,\n      n31,\n      n32,\n      n33,\n      n34,\n      n41,\n      n42,\n      n43,\n      n44\n    ) {\n      var te = this.elements;\n\n      te[0] = n11;\n      te[4] = n12;\n      te[8] = n13;\n      te[12] = n14;\n      te[1] = n21;\n      te[5] = n22;\n      te[9] = n23;\n      te[13] = n24;\n      te[2] = n31;\n      te[6] = n32;\n      te[10] = n33;\n      te[14] = n34;\n      te[3] = n41;\n      te[7] = n42;\n      te[11] = n43;\n      te[15] = n44;\n\n      return this;\n    },\n\n    identity: function () {\n      this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n\n      return this;\n    },\n\n    clone: function () {\n      return new Matrix4().fromArray(this.elements);\n    },\n\n    copy: function (m) {\n      var te = this.elements;\n      var me = m.elements;\n\n      te[0] = me[0];\n      te[1] = me[1];\n      te[2] = me[2];\n      te[3] = me[3];\n      te[4] = me[4];\n      te[5] = me[5];\n      te[6] = me[6];\n      te[7] = me[7];\n      te[8] = me[8];\n      te[9] = me[9];\n      te[10] = me[10];\n      te[11] = me[11];\n      te[12] = me[12];\n      te[13] = me[13];\n      te[14] = me[14];\n      te[15] = me[15];\n\n      return this;\n    },\n\n    copyPosition: function (m) {\n      var te = this.elements,\n        me = m.elements;\n\n      te[12] = me[12];\n      te[13] = me[13];\n      te[14] = me[14];\n\n      return this;\n    },\n\n    extractBasis: function (xAxis, yAxis, zAxis) {\n      xAxis.setFromMatrixColumn(this, 0);\n      yAxis.setFromMatrixColumn(this, 1);\n      zAxis.setFromMatrixColumn(this, 2);\n\n      return this;\n    },\n\n    makeBasis: function (xAxis, yAxis, zAxis) {\n      this.set(\n        xAxis.x,\n        yAxis.x,\n        zAxis.x,\n        0,\n        xAxis.y,\n        yAxis.y,\n        zAxis.y,\n        0,\n        xAxis.z,\n        yAxis.z,\n        zAxis.z,\n        0,\n        0,\n        0,\n        0,\n        1\n      );\n\n      return this;\n    },\n\n    extractRotation: function (m) {\n      // this method does not support reflection matrices\n\n      var te = this.elements;\n      var me = m.elements;\n\n      var scaleX = 1 / _v1.setFromMatrixColumn(m, 0).length();\n      var scaleY = 1 / _v1.setFromMatrixColumn(m, 1).length();\n      var scaleZ = 1 / _v1.setFromMatrixColumn(m, 2).length();\n\n      te[0] = me[0] * scaleX;\n      te[1] = me[1] * scaleX;\n      te[2] = me[2] * scaleX;\n      te[3] = 0;\n\n      te[4] = me[4] * scaleY;\n      te[5] = me[5] * scaleY;\n      te[6] = me[6] * scaleY;\n      te[7] = 0;\n\n      te[8] = me[8] * scaleZ;\n      te[9] = me[9] * scaleZ;\n      te[10] = me[10] * scaleZ;\n      te[11] = 0;\n\n      te[12] = 0;\n      te[13] = 0;\n      te[14] = 0;\n      te[15] = 1;\n\n      return this;\n    },\n\n    makeRotationFromEuler: function (euler) {\n      if (!(euler && euler.isEuler)) {\n        console.error(\n          \"THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.\"\n        );\n      }\n\n      var te = this.elements;\n\n      var x = euler.x,\n        y = euler.y,\n        z = euler.z;\n      var a = Math.cos(x),\n        b = Math.sin(x);\n      var c = Math.cos(y),\n        d = Math.sin(y);\n      var e = Math.cos(z),\n        f = Math.sin(z);\n\n      if (euler.order === \"XYZ\") {\n        var ae = a * e,\n          af = a * f,\n          be = b * e,\n          bf = b * f;\n\n        te[0] = c * e;\n        te[4] = -c * f;\n        te[8] = d;\n\n        te[1] = af + be * d;\n        te[5] = ae - bf * d;\n        te[9] = -b * c;\n\n        te[2] = bf - ae * d;\n        te[6] = be + af * d;\n        te[10] = a * c;\n      } else if (euler.order === \"YXZ\") {\n        var ce = c * e,\n          cf = c * f,\n          de = d * e,\n          df = d * f;\n\n        te[0] = ce + df * b;\n        te[4] = de * b - cf;\n        te[8] = a * d;\n\n        te[1] = a * f;\n        te[5] = a * e;\n        te[9] = -b;\n\n        te[2] = cf * b - de;\n        te[6] = df + ce * b;\n        te[10] = a * c;\n      } else if (euler.order === \"ZXY\") {\n        var ce = c * e,\n          cf = c * f,\n          de = d * e,\n          df = d * f;\n\n        te[0] = ce - df * b;\n        te[4] = -a * f;\n        te[8] = de + cf * b;\n\n        te[1] = cf + de * b;\n        te[5] = a * e;\n        te[9] = df - ce * b;\n\n        te[2] = -a * d;\n        te[6] = b;\n        te[10] = a * c;\n      } else if (euler.order === \"ZYX\") {\n        var ae = a * e,\n          af = a * f,\n          be = b * e,\n          bf = b * f;\n\n        te[0] = c * e;\n        te[4] = be * d - af;\n        te[8] = ae * d + bf;\n\n        te[1] = c * f;\n        te[5] = bf * d + ae;\n        te[9] = af * d - be;\n\n        te[2] = -d;\n        te[6] = b * c;\n        te[10] = a * c;\n      } else if (euler.order === \"YZX\") {\n        var ac = a * c,\n          ad = a * d,\n          bc = b * c,\n          bd = b * d;\n\n        te[0] = c * e;\n        te[4] = bd - ac * f;\n        te[8] = bc * f + ad;\n\n        te[1] = f;\n        te[5] = a * e;\n        te[9] = -b * e;\n\n        te[2] = -d * e;\n        te[6] = ad * f + bc;\n        te[10] = ac - bd * f;\n      } else if (euler.order === \"XZY\") {\n        var ac = a * c,\n          ad = a * d,\n          bc = b * c,\n          bd = b * d;\n\n        te[0] = c * e;\n        te[4] = -f;\n        te[8] = d * e;\n\n        te[1] = ac * f + bd;\n        te[5] = a * e;\n        te[9] = ad * f - bc;\n\n        te[2] = bc * f - ad;\n        te[6] = b * e;\n        te[10] = bd * f + ac;\n      }\n\n      // bottom row\n      te[3] = 0;\n      te[7] = 0;\n      te[11] = 0;\n\n      // last column\n      te[12] = 0;\n      te[13] = 0;\n      te[14] = 0;\n      te[15] = 1;\n\n      return this;\n    },\n\n    makeRotationFromQuaternion: function (q) {\n      return this.compose(_zero, q, _one);\n    },\n\n    lookAt: function (eye, target, up) {\n      var te = this.elements;\n\n      _z.subVectors(eye, target);\n\n      if (_z.lengthSq() === 0) {\n        // eye and target are in the same position\n\n        _z.z = 1;\n      }\n\n      _z.normalize();\n      _x.crossVectors(up, _z);\n\n      if (_x.lengthSq() === 0) {\n        // up and z are parallel\n\n        if (Math.abs(up.z) === 1) {\n          _z.x += 0.0001;\n        } else {\n          _z.z += 0.0001;\n        }\n\n        _z.normalize();\n        _x.crossVectors(up, _z);\n      }\n\n      _x.normalize();\n      _y.crossVectors(_z, _x);\n\n      te[0] = _x.x;\n      te[4] = _y.x;\n      te[8] = _z.x;\n      te[1] = _x.y;\n      te[5] = _y.y;\n      te[9] = _z.y;\n      te[2] = _x.z;\n      te[6] = _y.z;\n      te[10] = _z.z;\n\n      return this;\n    },\n\n    multiply: function (m, n) {\n      if (n !== undefined) {\n        console.warn(\n          \"THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.\"\n        );\n        return this.multiplyMatrices(m, n);\n      }\n\n      return this.multiplyMatrices(this, m);\n    },\n\n    premultiply: function (m) {\n      return this.multiplyMatrices(m, this);\n    },\n\n    multiplyMatrices: function (a, b) {\n      var ae = a.elements;\n      var be = b.elements;\n      var te = this.elements;\n\n      var a11 = ae[0],\n        a12 = ae[4],\n        a13 = ae[8],\n        a14 = ae[12];\n      var a21 = ae[1],\n        a22 = ae[5],\n        a23 = ae[9],\n        a24 = ae[13];\n      var a31 = ae[2],\n        a32 = ae[6],\n        a33 = ae[10],\n        a34 = ae[14];\n      var a41 = ae[3],\n        a42 = ae[7],\n        a43 = ae[11],\n        a44 = ae[15];\n\n      var b11 = be[0],\n        b12 = be[4],\n        b13 = be[8],\n        b14 = be[12];\n      var b21 = be[1],\n        b22 = be[5],\n        b23 = be[9],\n        b24 = be[13];\n      var b31 = be[2],\n        b32 = be[6],\n        b33 = be[10],\n        b34 = be[14];\n      var b41 = be[3],\n        b42 = be[7],\n        b43 = be[11],\n        b44 = be[15];\n\n      te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n      te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n      te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n      te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n      te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n      te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n      te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n      te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n      te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n      te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n      te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n      te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n      te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n      te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n      te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n      te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n      return this;\n    },\n\n    multiplyScalar: function (s) {\n      var te = this.elements;\n\n      te[0] *= s;\n      te[4] *= s;\n      te[8] *= s;\n      te[12] *= s;\n      te[1] *= s;\n      te[5] *= s;\n      te[9] *= s;\n      te[13] *= s;\n      te[2] *= s;\n      te[6] *= s;\n      te[10] *= s;\n      te[14] *= s;\n      te[3] *= s;\n      te[7] *= s;\n      te[11] *= s;\n      te[15] *= s;\n\n      return this;\n    },\n\n    applyToBufferAttribute: function (attribute) {\n      for (var i = 0, l = attribute.count; i < l; i++) {\n        _v1.x = attribute.getX(i);\n        _v1.y = attribute.getY(i);\n        _v1.z = attribute.getZ(i);\n\n        _v1.applyMatrix4(this);\n\n        attribute.setXYZ(i, _v1.x, _v1.y, _v1.z);\n      }\n\n      return attribute;\n    },\n\n    determinant: function () {\n      var te = this.elements;\n\n      var n11 = te[0],\n        n12 = te[4],\n        n13 = te[8],\n        n14 = te[12];\n      var n21 = te[1],\n        n22 = te[5],\n        n23 = te[9],\n        n24 = te[13];\n      var n31 = te[2],\n        n32 = te[6],\n        n33 = te[10],\n        n34 = te[14];\n      var n41 = te[3],\n        n42 = te[7],\n        n43 = te[11],\n        n44 = te[15];\n\n      //TODO: make this more efficient\n      //( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n      return (\n        n41 *\n          (+n14 * n23 * n32 -\n            n13 * n24 * n32 -\n            n14 * n22 * n33 +\n            n12 * n24 * n33 +\n            n13 * n22 * n34 -\n            n12 * n23 * n34) +\n        n42 *\n          (+n11 * n23 * n34 -\n            n11 * n24 * n33 +\n            n14 * n21 * n33 -\n            n13 * n21 * n34 +\n            n13 * n24 * n31 -\n            n14 * n23 * n31) +\n        n43 *\n          (+n11 * n24 * n32 -\n            n11 * n22 * n34 -\n            n14 * n21 * n32 +\n            n12 * n21 * n34 +\n            n14 * n22 * n31 -\n            n12 * n24 * n31) +\n        n44 *\n          (-n13 * n22 * n31 -\n            n11 * n23 * n32 +\n            n11 * n22 * n33 +\n            n13 * n21 * n32 -\n            n12 * n21 * n33 +\n            n12 * n23 * n31)\n      );\n    },\n\n    transpose: function () {\n      var te = this.elements;\n      var tmp;\n\n      tmp = te[1];\n      te[1] = te[4];\n      te[4] = tmp;\n      tmp = te[2];\n      te[2] = te[8];\n      te[8] = tmp;\n      tmp = te[6];\n      te[6] = te[9];\n      te[9] = tmp;\n\n      tmp = te[3];\n      te[3] = te[12];\n      te[12] = tmp;\n      tmp = te[7];\n      te[7] = te[13];\n      te[13] = tmp;\n      tmp = te[11];\n      te[11] = te[14];\n      te[14] = tmp;\n\n      return this;\n    },\n\n    setPosition: function (x, y, z) {\n      var te = this.elements;\n\n      if (x.isVector3) {\n        te[12] = x.x;\n        te[13] = x.y;\n        te[14] = x.z;\n      } else {\n        te[12] = x;\n        te[13] = y;\n        te[14] = z;\n      }\n\n      return this;\n    },\n\n    getInverse: function (m, throwOnDegenerate) {\n      // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n      var te = this.elements,\n        me = m.elements,\n        n11 = me[0],\n        n21 = me[1],\n        n31 = me[2],\n        n41 = me[3],\n        n12 = me[4],\n        n22 = me[5],\n        n32 = me[6],\n        n42 = me[7],\n        n13 = me[8],\n        n23 = me[9],\n        n33 = me[10],\n        n43 = me[11],\n        n14 = me[12],\n        n24 = me[13],\n        n34 = me[14],\n        n44 = me[15],\n        t11 =\n          n23 * n34 * n42 -\n          n24 * n33 * n42 +\n          n24 * n32 * n43 -\n          n22 * n34 * n43 -\n          n23 * n32 * n44 +\n          n22 * n33 * n44,\n        t12 =\n          n14 * n33 * n42 -\n          n13 * n34 * n42 -\n          n14 * n32 * n43 +\n          n12 * n34 * n43 +\n          n13 * n32 * n44 -\n          n12 * n33 * n44,\n        t13 =\n          n13 * n24 * n42 -\n          n14 * n23 * n42 +\n          n14 * n22 * n43 -\n          n12 * n24 * n43 -\n          n13 * n22 * n44 +\n          n12 * n23 * n44,\n        t14 =\n          n14 * n23 * n32 -\n          n13 * n24 * n32 -\n          n14 * n22 * n33 +\n          n12 * n24 * n33 +\n          n13 * n22 * n34 -\n          n12 * n23 * n34;\n\n      var det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n      if (det === 0) {\n        var msg =\n          \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n        if (throwOnDegenerate === true) {\n          throw new Error(msg);\n        } else {\n          console.warn(msg);\n        }\n\n        return this.identity();\n      }\n\n      var detInv = 1 / det;\n\n      te[0] = t11 * detInv;\n      te[1] =\n        (n24 * n33 * n41 -\n          n23 * n34 * n41 -\n          n24 * n31 * n43 +\n          n21 * n34 * n43 +\n          n23 * n31 * n44 -\n          n21 * n33 * n44) *\n        detInv;\n      te[2] =\n        (n22 * n34 * n41 -\n          n24 * n32 * n41 +\n          n24 * n31 * n42 -\n          n21 * n34 * n42 -\n          n22 * n31 * n44 +\n          n21 * n32 * n44) *\n        detInv;\n      te[3] =\n        (n23 * n32 * n41 -\n          n22 * n33 * n41 -\n          n23 * n31 * n42 +\n          n21 * n33 * n42 +\n          n22 * n31 * n43 -\n          n21 * n32 * n43) *\n        detInv;\n\n      te[4] = t12 * detInv;\n      te[5] =\n        (n13 * n34 * n41 -\n          n14 * n33 * n41 +\n          n14 * n31 * n43 -\n          n11 * n34 * n43 -\n          n13 * n31 * n44 +\n          n11 * n33 * n44) *\n        detInv;\n      te[6] =\n        (n14 * n32 * n41 -\n          n12 * n34 * n41 -\n          n14 * n31 * n42 +\n          n11 * n34 * n42 +\n          n12 * n31 * n44 -\n          n11 * n32 * n44) *\n        detInv;\n      te[7] =\n        (n12 * n33 * n41 -\n          n13 * n32 * n41 +\n          n13 * n31 * n42 -\n          n11 * n33 * n42 -\n          n12 * n31 * n43 +\n          n11 * n32 * n43) *\n        detInv;\n\n      te[8] = t13 * detInv;\n      te[9] =\n        (n14 * n23 * n41 -\n          n13 * n24 * n41 -\n          n14 * n21 * n43 +\n          n11 * n24 * n43 +\n          n13 * n21 * n44 -\n          n11 * n23 * n44) *\n        detInv;\n      te[10] =\n        (n12 * n24 * n41 -\n          n14 * n22 * n41 +\n          n14 * n21 * n42 -\n          n11 * n24 * n42 -\n          n12 * n21 * n44 +\n          n11 * n22 * n44) *\n        detInv;\n      te[11] =\n        (n13 * n22 * n41 -\n          n12 * n23 * n41 -\n          n13 * n21 * n42 +\n          n11 * n23 * n42 +\n          n12 * n21 * n43 -\n          n11 * n22 * n43) *\n        detInv;\n\n      te[12] = t14 * detInv;\n      te[13] =\n        (n13 * n24 * n31 -\n          n14 * n23 * n31 +\n          n14 * n21 * n33 -\n          n11 * n24 * n33 -\n          n13 * n21 * n34 +\n          n11 * n23 * n34) *\n        detInv;\n      te[14] =\n        (n14 * n22 * n31 -\n          n12 * n24 * n31 -\n          n14 * n21 * n32 +\n          n11 * n24 * n32 +\n          n12 * n21 * n34 -\n          n11 * n22 * n34) *\n        detInv;\n      te[15] =\n        (n12 * n23 * n31 -\n          n13 * n22 * n31 +\n          n13 * n21 * n32 -\n          n11 * n23 * n32 -\n          n12 * n21 * n33 +\n          n11 * n22 * n33) *\n        detInv;\n\n      return this;\n    },\n\n    scale: function (v) {\n      var te = this.elements;\n      var x = v.x,\n        y = v.y,\n        z = v.z;\n\n      te[0] *= x;\n      te[4] *= y;\n      te[8] *= z;\n      te[1] *= x;\n      te[5] *= y;\n      te[9] *= z;\n      te[2] *= x;\n      te[6] *= y;\n      te[10] *= z;\n      te[3] *= x;\n      te[7] *= y;\n      te[11] *= z;\n\n      return this;\n    },\n\n    getMaxScaleOnAxis: function () {\n      var te = this.elements;\n\n      var scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];\n      var scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];\n      var scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];\n\n      return Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));\n    },\n\n    makeTranslation: function (x, y, z) {\n      this.set(1, 0, 0, x, 0, 1, 0, y, 0, 0, 1, z, 0, 0, 0, 1);\n\n      return this;\n    },\n\n    makeRotationX: function (theta) {\n      var c = Math.cos(theta),\n        s = Math.sin(theta);\n\n      this.set(1, 0, 0, 0, 0, c, -s, 0, 0, s, c, 0, 0, 0, 0, 1);\n\n      return this;\n    },\n\n    makeRotationY: function (theta) {\n      var c = Math.cos(theta),\n        s = Math.sin(theta);\n\n      this.set(c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1);\n\n      return this;\n    },\n\n    makeRotationZ: function (theta) {\n      var c = Math.cos(theta),\n        s = Math.sin(theta);\n\n      this.set(c, -s, 0, 0, s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n\n      return this;\n    },\n\n    makeRotationAxis: function (axis, angle) {\n      // Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n      var c = Math.cos(angle);\n      var s = Math.sin(angle);\n      var t = 1 - c;\n      var x = axis.x,\n        y = axis.y,\n        z = axis.z;\n      var tx = t * x,\n        ty = t * y;\n\n      this.set(\n        tx * x + c,\n        tx * y - s * z,\n        tx * z + s * y,\n        0,\n        tx * y + s * z,\n        ty * y + c,\n        ty * z - s * x,\n        0,\n        tx * z - s * y,\n        ty * z + s * x,\n        t * z * z + c,\n        0,\n        0,\n        0,\n        0,\n        1\n      );\n\n      return this;\n    },\n\n    makeScale: function (x, y, z) {\n      this.set(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1);\n\n      return this;\n    },\n\n    makeShear: function (x, y, z) {\n      this.set(1, y, z, 0, x, 1, z, 0, x, y, 1, 0, 0, 0, 0, 1);\n\n      return this;\n    },\n\n    compose: function (position, quaternion, scale) {\n      var te = this.elements;\n\n      var x = quaternion._x,\n        y = quaternion._y,\n        z = quaternion._z,\n        w = quaternion._w;\n      var x2 = x + x,\n        y2 = y + y,\n        z2 = z + z;\n      var xx = x * x2,\n        xy = x * y2,\n        xz = x * z2;\n      var yy = y * y2,\n        yz = y * z2,\n        zz = z * z2;\n      var wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n\n      var sx = scale.x,\n        sy = scale.y,\n        sz = scale.z;\n\n      te[0] = (1 - (yy + zz)) * sx;\n      te[1] = (xy + wz) * sx;\n      te[2] = (xz - wy) * sx;\n      te[3] = 0;\n\n      te[4] = (xy - wz) * sy;\n      te[5] = (1 - (xx + zz)) * sy;\n      te[6] = (yz + wx) * sy;\n      te[7] = 0;\n\n      te[8] = (xz + wy) * sz;\n      te[9] = (yz - wx) * sz;\n      te[10] = (1 - (xx + yy)) * sz;\n      te[11] = 0;\n\n      te[12] = position.x;\n      te[13] = position.y;\n      te[14] = position.z;\n      te[15] = 1;\n\n      return this;\n    },\n\n    decompose: function (position, quaternion, scale) {\n      var te = this.elements;\n\n      var sx = _v1.set(te[0], te[1], te[2]).length();\n      var sy = _v1.set(te[4], te[5], te[6]).length();\n      var sz = _v1.set(te[8], te[9], te[10]).length();\n\n      // if determine is negative, we need to invert one scale\n      var det = this.determinant();\n      if (det < 0) {\n        sx = -sx;\n      }\n\n      position.x = te[12];\n      position.y = te[13];\n      position.z = te[14];\n\n      // scale the rotation part\n      _m1.copy(this);\n\n      var invSX = 1 / sx;\n      var invSY = 1 / sy;\n      var invSZ = 1 / sz;\n\n      _m1.elements[0] *= invSX;\n      _m1.elements[1] *= invSX;\n      _m1.elements[2] *= invSX;\n\n      _m1.elements[4] *= invSY;\n      _m1.elements[5] *= invSY;\n      _m1.elements[6] *= invSY;\n\n      _m1.elements[8] *= invSZ;\n      _m1.elements[9] *= invSZ;\n      _m1.elements[10] *= invSZ;\n\n      quaternion.setFromRotationMatrix(_m1);\n\n      scale.x = sx;\n      scale.y = sy;\n      scale.z = sz;\n\n      return this;\n    },\n\n    makePerspective: function (left, right, top, bottom, near, far) {\n      if (far === undefined) {\n        console.warn(\n          \"THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.\"\n        );\n      }\n\n      var te = this.elements;\n      var x = (2 * near) / (right - left);\n      var y = (2 * near) / (top - bottom);\n\n      var a = (right + left) / (right - left);\n      var b = (top + bottom) / (top - bottom);\n      var c = -(far + near) / (far - near);\n      var d = (-2 * far * near) / (far - near);\n\n      te[0] = x;\n      te[4] = 0;\n      te[8] = a;\n      te[12] = 0;\n      te[1] = 0;\n      te[5] = y;\n      te[9] = b;\n      te[13] = 0;\n      te[2] = 0;\n      te[6] = 0;\n      te[10] = c;\n      te[14] = d;\n      te[3] = 0;\n      te[7] = 0;\n      te[11] = -1;\n      te[15] = 0;\n\n      return this;\n    },\n\n    makeOrthographic: function (left, right, top, bottom, near, far) {\n      var te = this.elements;\n      var w = 1.0 / (right - left);\n      var h = 1.0 / (top - bottom);\n      var p = 1.0 / (far - near);\n\n      var x = (right + left) * w;\n      var y = (top + bottom) * h;\n      var z = (far + near) * p;\n\n      te[0] = 2 * w;\n      te[4] = 0;\n      te[8] = 0;\n      te[12] = -x;\n      te[1] = 0;\n      te[5] = 2 * h;\n      te[9] = 0;\n      te[13] = -y;\n      te[2] = 0;\n      te[6] = 0;\n      te[10] = -2 * p;\n      te[14] = -z;\n      te[3] = 0;\n      te[7] = 0;\n      te[11] = 0;\n      te[15] = 1;\n\n      return this;\n    },\n\n    equals: function (matrix) {\n      var te = this.elements;\n      var me = matrix.elements;\n\n      for (var i = 0; i < 16; i++) {\n        if (te[i] !== me[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n    fromArray: function (array, offset) {\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      for (var i = 0; i < 16; i++) {\n        this.elements[i] = array[i + offset];\n      }\n\n      return this;\n    },\n\n    toArray: function (array, offset) {\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      var te = this.elements;\n\n      array[offset] = te[0];\n      array[offset + 1] = te[1];\n      array[offset + 2] = te[2];\n      array[offset + 3] = te[3];\n\n      array[offset + 4] = te[4];\n      array[offset + 5] = te[5];\n      array[offset + 6] = te[6];\n      array[offset + 7] = te[7];\n\n      array[offset + 8] = te[8];\n      array[offset + 9] = te[9];\n      array[offset + 10] = te[10];\n      array[offset + 11] = te[11];\n\n      array[offset + 12] = te[12];\n      array[offset + 13] = te[13];\n      array[offset + 14] = te[14];\n      array[offset + 15] = te[15];\n\n      return array;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author bhouston / http://clara.io\n   */\n\n  var _matrix = new Matrix4();\n  var _quaternion$1 = new Quaternion();\n\n  function Euler(x, y, z, order) {\n    this._x = x || 0;\n    this._y = y || 0;\n    this._z = z || 0;\n    this._order = order || Euler.DefaultOrder;\n  }\n\n  Euler.RotationOrders = [\"XYZ\", \"YZX\", \"ZXY\", \"XZY\", \"YXZ\", \"ZYX\"];\n\n  Euler.DefaultOrder = \"XYZ\";\n\n  Object.defineProperties(Euler.prototype, {\n    x: {\n      get: function () {\n        return this._x;\n      },\n\n      set: function (value) {\n        this._x = value;\n        this._onChangeCallback();\n      },\n    },\n\n    y: {\n      get: function () {\n        return this._y;\n      },\n\n      set: function (value) {\n        this._y = value;\n        this._onChangeCallback();\n      },\n    },\n\n    z: {\n      get: function () {\n        return this._z;\n      },\n\n      set: function (value) {\n        this._z = value;\n        this._onChangeCallback();\n      },\n    },\n\n    order: {\n      get: function () {\n        return this._order;\n      },\n\n      set: function (value) {\n        this._order = value;\n        this._onChangeCallback();\n      },\n    },\n  });\n\n  Object.assign(Euler.prototype, {\n    isEuler: true,\n\n    set: function (x, y, z, order) {\n      this._x = x;\n      this._y = y;\n      this._z = z;\n      this._order = order || this._order;\n\n      this._onChangeCallback();\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor(this._x, this._y, this._z, this._order);\n    },\n\n    copy: function (euler) {\n      this._x = euler._x;\n      this._y = euler._y;\n      this._z = euler._z;\n      this._order = euler._order;\n\n      this._onChangeCallback();\n\n      return this;\n    },\n\n    setFromRotationMatrix: function (m, order, update) {\n      var clamp = _Math.clamp;\n\n      // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n      var te = m.elements;\n      var m11 = te[0],\n        m12 = te[4],\n        m13 = te[8];\n      var m21 = te[1],\n        m22 = te[5],\n        m23 = te[9];\n      var m31 = te[2],\n        m32 = te[6],\n        m33 = te[10];\n\n      order = order || this._order;\n\n      if (order === \"XYZ\") {\n        this._y = Math.asin(clamp(m13, -1, 1));\n\n        if (Math.abs(m13) < 0.9999999) {\n          this._x = Math.atan2(-m23, m33);\n          this._z = Math.atan2(-m12, m11);\n        } else {\n          this._x = Math.atan2(m32, m22);\n          this._z = 0;\n        }\n      } else if (order === \"YXZ\") {\n        this._x = Math.asin(-clamp(m23, -1, 1));\n\n        if (Math.abs(m23) < 0.9999999) {\n          this._y = Math.atan2(m13, m33);\n          this._z = Math.atan2(m21, m22);\n        } else {\n          this._y = Math.atan2(-m31, m11);\n          this._z = 0;\n        }\n      } else if (order === \"ZXY\") {\n        this._x = Math.asin(clamp(m32, -1, 1));\n\n        if (Math.abs(m32) < 0.9999999) {\n          this._y = Math.atan2(-m31, m33);\n          this._z = Math.atan2(-m12, m22);\n        } else {\n          this._y = 0;\n          this._z = Math.atan2(m21, m11);\n        }\n      } else if (order === \"ZYX\") {\n        this._y = Math.asin(-clamp(m31, -1, 1));\n\n        if (Math.abs(m31) < 0.9999999) {\n          this._x = Math.atan2(m32, m33);\n          this._z = Math.atan2(m21, m11);\n        } else {\n          this._x = 0;\n          this._z = Math.atan2(-m12, m22);\n        }\n      } else if (order === \"YZX\") {\n        this._z = Math.asin(clamp(m21, -1, 1));\n\n        if (Math.abs(m21) < 0.9999999) {\n          this._x = Math.atan2(-m23, m22);\n          this._y = Math.atan2(-m31, m11);\n        } else {\n          this._x = 0;\n          this._y = Math.atan2(m13, m33);\n        }\n      } else if (order === \"XZY\") {\n        this._z = Math.asin(-clamp(m12, -1, 1));\n\n        if (Math.abs(m12) < 0.9999999) {\n          this._x = Math.atan2(m32, m22);\n          this._y = Math.atan2(m13, m11);\n        } else {\n          this._x = Math.atan2(-m23, m33);\n          this._y = 0;\n        }\n      } else {\n        console.warn(\n          \"THREE.Euler: .setFromRotationMatrix() given unsupported order: \" +\n            order\n        );\n      }\n\n      this._order = order;\n\n      if (update !== false) {\n        this._onChangeCallback();\n      }\n\n      return this;\n    },\n\n    setFromQuaternion: function (q, order, update) {\n      _matrix.makeRotationFromQuaternion(q);\n\n      return this.setFromRotationMatrix(_matrix, order, update);\n    },\n\n    setFromVector3: function (v, order) {\n      return this.set(v.x, v.y, v.z, order || this._order);\n    },\n\n    reorder: function (newOrder) {\n      // WARNING: this discards revolution information -bhouston\n\n      _quaternion$1.setFromEuler(this);\n\n      return this.setFromQuaternion(_quaternion$1, newOrder);\n    },\n\n    equals: function (euler) {\n      return (\n        euler._x === this._x &&\n        euler._y === this._y &&\n        euler._z === this._z &&\n        euler._order === this._order\n      );\n    },\n\n    fromArray: function (array) {\n      this._x = array[0];\n      this._y = array[1];\n      this._z = array[2];\n      if (array[3] !== undefined) {\n        this._order = array[3];\n      }\n\n      this._onChangeCallback();\n\n      return this;\n    },\n\n    toArray: function (array, offset) {\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      array[offset] = this._x;\n      array[offset + 1] = this._y;\n      array[offset + 2] = this._z;\n      array[offset + 3] = this._order;\n\n      return array;\n    },\n\n    toVector3: function (optionalResult) {\n      if (optionalResult) {\n        return optionalResult.set(this._x, this._y, this._z);\n      } else {\n        return new Vector3(this._x, this._y, this._z);\n      }\n    },\n\n    _onChange: function (callback) {\n      this._onChangeCallback = callback;\n\n      return this;\n    },\n\n    _onChangeCallback: function () {},\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Layers() {\n    this.mask = 1 | 0;\n  }\n\n  Object.assign(Layers.prototype, {\n    set: function (channel) {\n      this.mask = (1 << channel) | 0;\n    },\n\n    enable: function (channel) {\n      this.mask |= (1 << channel) | 0;\n    },\n\n    enableAll: function () {\n      this.mask = 0xffffffff | 0;\n    },\n\n    toggle: function (channel) {\n      this.mask ^= (1 << channel) | 0;\n    },\n\n    disable: function (channel) {\n      this.mask &= ~((1 << channel) | 0);\n    },\n\n    disableAll: function () {\n      this.mask = 0;\n    },\n\n    test: function (layers) {\n      return (this.mask & layers.mask) !== 0;\n    },\n  });\n\n  var _object3DId = 0;\n\n  var _v1$1 = new Vector3();\n  var _q1 = new Quaternion();\n  var _m1$1 = new Matrix4();\n  var _target = new Vector3();\n\n  var _position = new Vector3();\n  var _scale = new Vector3();\n  var _quaternion$2 = new Quaternion();\n\n  var _xAxis = new Vector3(1, 0, 0);\n  var _yAxis = new Vector3(0, 1, 0);\n  var _zAxis = new Vector3(0, 0, 1);\n\n  var _addedEvent = {\n    type: \"added\",\n  };\n  var _removedEvent = {\n    type: \"removed\",\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author WestLangley / http://github.com/WestLangley\n   * @author elephantatwork / www.elephantatwork.ch\n   */\n\n  function Object3D() {\n    Object.defineProperty(this, \"id\", {\n      value: _object3DId++,\n    });\n\n    this.uuid = _Math.generateUUID();\n\n    this.name = \"\";\n    this.type = \"Object3D\";\n\n    this.parent = null;\n    this.children = [];\n\n    this.up = Object3D.DefaultUp.clone();\n\n    var position = new Vector3();\n    var rotation = new Euler();\n    var quaternion = new Quaternion();\n    var scale = new Vector3(1, 1, 1);\n\n    function onRotationChange() {\n      quaternion.setFromEuler(rotation, false);\n    }\n\n    function onQuaternionChange() {\n      rotation.setFromQuaternion(quaternion, undefined, false);\n    }\n\n    rotation._onChange(onRotationChange);\n    quaternion._onChange(onQuaternionChange);\n\n    Object.defineProperties(this, {\n      position: {\n        configurable: true,\n        enumerable: true,\n        value: position,\n      },\n      rotation: {\n        configurable: true,\n        enumerable: true,\n        value: rotation,\n      },\n      quaternion: {\n        configurable: true,\n        enumerable: true,\n        value: quaternion,\n      },\n      scale: {\n        configurable: true,\n        enumerable: true,\n        value: scale,\n      },\n      modelViewMatrix: {\n        value: new Matrix4(),\n      },\n      normalMatrix: {\n        value: new Matrix3(),\n      },\n    });\n\n    this.matrix = new Matrix4();\n    this.matrixWorld = new Matrix4();\n\n    this.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n    this.matrixWorldNeedsUpdate = false;\n\n    this.layers = new Layers();\n    this.visible = true;\n\n    this.castShadow = false;\n    this.receiveShadow = false;\n\n    this.frustumCulled = true;\n    this.renderOrder = 0;\n\n    this.userData = {};\n  }\n\n  Object3D.DefaultUp = new Vector3(0, 1, 0);\n  Object3D.DefaultMatrixAutoUpdate = true;\n\n  Object3D.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n    constructor: Object3D,\n\n    isObject3D: true,\n\n    onBeforeRender: function () {},\n    onAfterRender: function () {},\n\n    applyMatrix: function (matrix) {\n      if (this.matrixAutoUpdate) {\n        this.updateMatrix();\n      }\n\n      this.matrix.premultiply(matrix);\n\n      this.matrix.decompose(this.position, this.quaternion, this.scale);\n    },\n\n    applyQuaternion: function (q) {\n      this.quaternion.premultiply(q);\n\n      return this;\n    },\n\n    setRotationFromAxisAngle: function (axis, angle) {\n      // assumes axis is normalized\n\n      this.quaternion.setFromAxisAngle(axis, angle);\n    },\n\n    setRotationFromEuler: function (euler) {\n      this.quaternion.setFromEuler(euler, true);\n    },\n\n    setRotationFromMatrix: function (m) {\n      // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n      this.quaternion.setFromRotationMatrix(m);\n    },\n\n    setRotationFromQuaternion: function (q) {\n      // assumes q is normalized\n\n      this.quaternion.copy(q);\n    },\n\n    rotateOnAxis: function (axis, angle) {\n      // rotate object on axis in object space\n      // axis is assumed to be normalized\n\n      _q1.setFromAxisAngle(axis, angle);\n\n      this.quaternion.multiply(_q1);\n\n      return this;\n    },\n\n    rotateOnWorldAxis: function (axis, angle) {\n      // rotate object on axis in world space\n      // axis is assumed to be normalized\n      // method assumes no rotated parent\n\n      _q1.setFromAxisAngle(axis, angle);\n\n      this.quaternion.premultiply(_q1);\n\n      return this;\n    },\n\n    rotateX: function (angle) {\n      return this.rotateOnAxis(_xAxis, angle);\n    },\n\n    rotateY: function (angle) {\n      return this.rotateOnAxis(_yAxis, angle);\n    },\n\n    rotateZ: function (angle) {\n      return this.rotateOnAxis(_zAxis, angle);\n    },\n\n    translateOnAxis: function (axis, distance) {\n      // translate object by distance along axis in object space\n      // axis is assumed to be normalized\n\n      _v1$1.copy(axis).applyQuaternion(this.quaternion);\n\n      this.position.add(_v1$1.multiplyScalar(distance));\n\n      return this;\n    },\n\n    translateX: function (distance) {\n      return this.translateOnAxis(_xAxis, distance);\n    },\n\n    translateY: function (distance) {\n      return this.translateOnAxis(_yAxis, distance);\n    },\n\n    translateZ: function (distance) {\n      return this.translateOnAxis(_zAxis, distance);\n    },\n\n    localToWorld: function (vector) {\n      return vector.applyMatrix4(this.matrixWorld);\n    },\n\n    worldToLocal: function (vector) {\n      return vector.applyMatrix4(_m1$1.getInverse(this.matrixWorld));\n    },\n\n    lookAt: function (x, y, z) {\n      // This method does not support objects having non-uniformly-scaled parent(s)\n\n      if (x.isVector3) {\n        _target.copy(x);\n      } else {\n        _target.set(x, y, z);\n      }\n\n      var parent = this.parent;\n\n      this.updateWorldMatrix(true, false);\n\n      _position.setFromMatrixPosition(this.matrixWorld);\n\n      if (this.isCamera || this.isLight) {\n        _m1$1.lookAt(_position, _target, this.up);\n      } else {\n        _m1$1.lookAt(_target, _position, this.up);\n      }\n\n      this.quaternion.setFromRotationMatrix(_m1$1);\n\n      if (parent) {\n        _m1$1.extractRotation(parent.matrixWorld);\n        _q1.setFromRotationMatrix(_m1$1);\n        this.quaternion.premultiply(_q1.inverse());\n      }\n    },\n\n    add: function (object) {\n      if (arguments.length > 1) {\n        for (var i = 0; i < arguments.length; i++) {\n          this.add(arguments[i]);\n        }\n\n        return this;\n      }\n\n      if (object === this) {\n        console.error(\n          \"THREE.Object3D.add: object can't be added as a child of itself.\",\n          object\n        );\n        return this;\n      }\n\n      if (object && object.isObject3D) {\n        if (object.parent !== null) {\n          object.parent.remove(object);\n        }\n\n        object.parent = this;\n        this.children.push(object);\n\n        object.dispatchEvent(_addedEvent);\n      } else {\n        console.error(\n          \"THREE.Object3D.add: object not an instance of THREE.Object3D.\",\n          object\n        );\n      }\n\n      return this;\n    },\n\n    remove: function (object) {\n      if (arguments.length > 1) {\n        for (var i = 0; i < arguments.length; i++) {\n          this.remove(arguments[i]);\n        }\n\n        return this;\n      }\n\n      var index = this.children.indexOf(object);\n\n      if (index !== -1) {\n        object.parent = null;\n        this.children.splice(index, 1);\n\n        object.dispatchEvent(_removedEvent);\n      }\n\n      return this;\n    },\n\n    attach: function (object) {\n      // adds object as a child of this, while maintaining the object's world transform\n\n      this.updateWorldMatrix(true, false);\n\n      _m1$1.getInverse(this.matrixWorld);\n\n      if (object.parent !== null) {\n        object.parent.updateWorldMatrix(true, false);\n\n        _m1$1.multiply(object.parent.matrixWorld);\n      }\n\n      object.applyMatrix(_m1$1);\n\n      object.updateWorldMatrix(false, false);\n\n      this.add(object);\n\n      return this;\n    },\n\n    getObjectById: function (id) {\n      return this.getObjectByProperty(\"id\", id);\n    },\n\n    getObjectByName: function (name) {\n      return this.getObjectByProperty(\"name\", name);\n    },\n\n    getObjectByProperty: function (name, value) {\n      if (this[name] === value) {\n        return this;\n      }\n\n      for (var i = 0, l = this.children.length; i < l; i++) {\n        var child = this.children[i];\n        var object = child.getObjectByProperty(name, value);\n\n        if (object !== undefined) {\n          return object;\n        }\n      }\n\n      return undefined;\n    },\n\n    getWorldPosition: function (target) {\n      if (target === undefined) {\n        console.warn(\n          \"THREE.Object3D: .getWorldPosition() target is now required\"\n        );\n        target = new Vector3();\n      }\n\n      this.updateMatrixWorld(true);\n\n      return target.setFromMatrixPosition(this.matrixWorld);\n    },\n\n    getWorldQuaternion: function (target) {\n      if (target === undefined) {\n        console.warn(\n          \"THREE.Object3D: .getWorldQuaternion() target is now required\"\n        );\n        target = new Quaternion();\n      }\n\n      this.updateMatrixWorld(true);\n\n      this.matrixWorld.decompose(_position, target, _scale);\n\n      return target;\n    },\n\n    getWorldScale: function (target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Object3D: .getWorldScale() target is now required\");\n        target = new Vector3();\n      }\n\n      this.updateMatrixWorld(true);\n\n      this.matrixWorld.decompose(_position, _quaternion$2, target);\n\n      return target;\n    },\n\n    getWorldDirection: function (target) {\n      if (target === undefined) {\n        console.warn(\n          \"THREE.Object3D: .getWorldDirection() target is now required\"\n        );\n        target = new Vector3();\n      }\n\n      this.updateMatrixWorld(true);\n\n      var e = this.matrixWorld.elements;\n\n      return target.set(e[8], e[9], e[10]).normalize();\n    },\n\n    raycast: function () {},\n\n    traverse: function (callback) {\n      callback(this);\n\n      var children = this.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].traverse(callback);\n      }\n    },\n\n    traverseVisible: function (callback) {\n      if (this.visible === false) {\n        return;\n      }\n\n      callback(this);\n\n      var children = this.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].traverseVisible(callback);\n      }\n    },\n\n    traverseAncestors: function (callback) {\n      var parent = this.parent;\n\n      if (parent !== null) {\n        callback(parent);\n\n        parent.traverseAncestors(callback);\n      }\n    },\n\n    updateMatrix: function () {\n      this.matrix.compose(this.position, this.quaternion, this.scale);\n\n      this.matrixWorldNeedsUpdate = true;\n    },\n\n    updateMatrixWorld: function (force) {\n      if (this.matrixAutoUpdate) {\n        this.updateMatrix();\n      }\n\n      if (this.matrixWorldNeedsUpdate || force) {\n        if (this.parent === null) {\n          this.matrixWorld.copy(this.matrix);\n        } else {\n          this.matrixWorld.multiplyMatrices(\n            this.parent.matrixWorld,\n            this.matrix\n          );\n        }\n\n        this.matrixWorldNeedsUpdate = false;\n\n        force = true;\n      }\n\n      // update children\n\n      var children = this.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].updateMatrixWorld(force);\n      }\n    },\n\n    updateWorldMatrix: function (updateParents, updateChildren) {\n      var parent = this.parent;\n\n      if (updateParents === true && parent !== null) {\n        parent.updateWorldMatrix(true, false);\n      }\n\n      if (this.matrixAutoUpdate) {\n        this.updateMatrix();\n      }\n\n      if (this.parent === null) {\n        this.matrixWorld.copy(this.matrix);\n      } else {\n        this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n      }\n\n      // update children\n\n      if (updateChildren === true) {\n        var children = this.children;\n\n        for (var i = 0, l = children.length; i < l; i++) {\n          children[i].updateWorldMatrix(false, true);\n        }\n      }\n    },\n\n    toJSON: function (meta) {\n      // meta is a string when called from JSON.stringify\n      var isRootObject = meta === undefined || typeof meta === \"string\";\n\n      var output = {};\n\n      // meta is a hash used to collect geometries, materials.\n      // not providing it implies that this is the root object\n      // being serialized.\n      if (isRootObject) {\n        // initialize meta obj\n        meta = {\n          geometries: {},\n          materials: {},\n          textures: {},\n          images: {},\n          shapes: {},\n        };\n\n        output.metadata = {\n          version: 4.5,\n          type: \"Object\",\n          generator: \"Object3D.toJSON\",\n        };\n      }\n\n      // standard Object3D serialization\n\n      var object = {};\n\n      object.uuid = this.uuid;\n      object.type = this.type;\n\n      if (this.name !== \"\") {\n        object.name = this.name;\n      }\n      if (this.castShadow === true) {\n        object.castShadow = true;\n      }\n      if (this.receiveShadow === true) {\n        object.receiveShadow = true;\n      }\n      if (this.visible === false) {\n        object.visible = false;\n      }\n      if (this.frustumCulled === false) {\n        object.frustumCulled = false;\n      }\n      if (this.renderOrder !== 0) {\n        object.renderOrder = this.renderOrder;\n      }\n      if (JSON.stringify(this.userData) !== \"{}\") {\n        object.userData = this.userData;\n      }\n\n      object.layers = this.layers.mask;\n      object.matrix = this.matrix.toArray();\n\n      if (this.matrixAutoUpdate === false) {\n        object.matrixAutoUpdate = false;\n      }\n\n      // object specific properties\n\n      if (this.isInstancedMesh) {\n        object.type = \"InstancedMesh\";\n        object.count = this.count;\n        object.instanceMatrix = this.instanceMatrix.toJSON();\n      }\n\n      //\n\n      function serialize(library, element) {\n        if (library[element.uuid] === undefined) {\n          library[element.uuid] = element.toJSON(meta);\n        }\n\n        return element.uuid;\n      }\n\n      if (this.isMesh || this.isLine || this.isPoints) {\n        object.geometry = serialize(meta.geometries, this.geometry);\n\n        var parameters = this.geometry.parameters;\n\n        if (parameters !== undefined && parameters.shapes !== undefined) {\n          var shapes = parameters.shapes;\n\n          if (Array.isArray(shapes)) {\n            for (var i = 0, l = shapes.length; i < l; i++) {\n              var shape = shapes[i];\n\n              serialize(meta.shapes, shape);\n            }\n          } else {\n            serialize(meta.shapes, shapes);\n          }\n        }\n      }\n\n      if (this.material !== undefined) {\n        if (Array.isArray(this.material)) {\n          var uuids = [];\n\n          for (var i = 0, l = this.material.length; i < l; i++) {\n            uuids.push(serialize(meta.materials, this.material[i]));\n          }\n\n          object.material = uuids;\n        } else {\n          object.material = serialize(meta.materials, this.material);\n        }\n      }\n\n      //\n\n      if (this.children.length > 0) {\n        object.children = [];\n\n        for (var i = 0; i < this.children.length; i++) {\n          object.children.push(this.children[i].toJSON(meta).object);\n        }\n      }\n\n      if (isRootObject) {\n        var geometries = extractFromCache(meta.geometries);\n        var materials = extractFromCache(meta.materials);\n        var textures = extractFromCache(meta.textures);\n        var images = extractFromCache(meta.images);\n        var shapes = extractFromCache(meta.shapes);\n\n        if (geometries.length > 0) {\n          output.geometries = geometries;\n        }\n        if (materials.length > 0) {\n          output.materials = materials;\n        }\n        if (textures.length > 0) {\n          output.textures = textures;\n        }\n        if (images.length > 0) {\n          output.images = images;\n        }\n        if (shapes.length > 0) {\n          output.shapes = shapes;\n        }\n      }\n\n      output.object = object;\n\n      return output;\n\n      // extract data from the cache hash\n      // remove metadata on each item\n      // and return as array\n      function extractFromCache(cache) {\n        var values = [];\n        for (var key in cache) {\n          var data = cache[key];\n          delete data.metadata;\n          values.push(data);\n        }\n        return values;\n      }\n    },\n\n    clone: function (recursive) {\n      return new this.constructor().copy(this, recursive);\n    },\n\n    copy: function (source, recursive) {\n      if (recursive === undefined) {\n        recursive = true;\n      }\n\n      this.name = source.name;\n\n      this.up.copy(source.up);\n\n      this.position.copy(source.position);\n      this.quaternion.copy(source.quaternion);\n      this.scale.copy(source.scale);\n\n      this.matrix.copy(source.matrix);\n      this.matrixWorld.copy(source.matrixWorld);\n\n      this.matrixAutoUpdate = source.matrixAutoUpdate;\n      this.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n      this.layers.mask = source.layers.mask;\n      this.visible = source.visible;\n\n      this.castShadow = source.castShadow;\n      this.receiveShadow = source.receiveShadow;\n\n      this.frustumCulled = source.frustumCulled;\n      this.renderOrder = source.renderOrder;\n\n      this.userData = JSON.parse(JSON.stringify(source.userData));\n\n      if (recursive === true) {\n        for (var i = 0; i < source.children.length; i++) {\n          var child = source.children[i];\n          this.add(child.clone());\n        }\n      }\n\n      return this;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Scene() {\n    Object3D.call(this);\n\n    this.type = \"Scene\";\n\n    this.background = null;\n    this.environment = null;\n    this.fog = null;\n\n    this.overrideMaterial = null;\n\n    this.autoUpdate = true; // checked by the renderer\n\n    if (typeof __THREE_DEVTOOLS__ !== \"undefined\") {\n      __THREE_DEVTOOLS__.dispatchEvent(\n        new CustomEvent(\"observe\", {\n          detail: this,\n        })\n      ); // eslint-disable-line no-undef\n    }\n  }\n\n  Scene.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Scene,\n\n    isScene: true,\n\n    copy: function (source, recursive) {\n      Object3D.prototype.copy.call(this, source, recursive);\n\n      if (source.background !== null) {\n        this.background = source.background.clone();\n      }\n      if (source.environment !== null) {\n        this.environment = source.environment.clone();\n      }\n      if (source.fog !== null) {\n        this.fog = source.fog.clone();\n      }\n\n      if (source.overrideMaterial !== null) {\n        this.overrideMaterial = source.overrideMaterial.clone();\n      }\n\n      this.autoUpdate = source.autoUpdate;\n      this.matrixAutoUpdate = source.matrixAutoUpdate;\n\n      return this;\n    },\n\n    toJSON: function (meta) {\n      var data = Object3D.prototype.toJSON.call(this, meta);\n\n      if (this.background !== null) {\n        data.object.background = this.background.toJSON(meta);\n      }\n      if (this.environment !== null) {\n        data.object.environment = this.environment.toJSON(meta);\n      }\n      if (this.fog !== null) {\n        data.object.fog = this.fog.toJSON();\n      }\n\n      return data;\n    },\n\n    dispose: function () {\n      this.dispatchEvent({\n        type: \"dispose\",\n      });\n    },\n  });\n\n  var _points = [\n    new Vector3(),\n    new Vector3(),\n    new Vector3(),\n    new Vector3(),\n    new Vector3(),\n    new Vector3(),\n    new Vector3(),\n    new Vector3(),\n  ];\n\n  var _vector$2 = new Vector3();\n\n  var _box = new Box3();\n\n  // triangle centered vertices\n\n  var _v0 = new Vector3();\n  var _v1$2 = new Vector3();\n  var _v2 = new Vector3();\n\n  // triangle edge vectors\n\n  var _f0 = new Vector3();\n  var _f1 = new Vector3();\n  var _f2 = new Vector3();\n\n  var _center = new Vector3();\n  var _extents = new Vector3();\n  var _triangleNormal = new Vector3();\n  var _testAxis = new Vector3();\n\n  /**\n   * @author bhouston / http://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function Box3(min, max) {\n    this.min =\n      min !== undefined ? min : new Vector3(+Infinity, +Infinity, +Infinity);\n    this.max =\n      max !== undefined ? max : new Vector3(-Infinity, -Infinity, -Infinity);\n  }\n\n  Object.assign(Box3.prototype, {\n    isBox3: true,\n\n    set: function (min, max) {\n      this.min.copy(min);\n      this.max.copy(max);\n\n      return this;\n    },\n\n    setFromArray: function (array) {\n      var minX = +Infinity;\n      var minY = +Infinity;\n      var minZ = +Infinity;\n\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n      var maxZ = -Infinity;\n\n      for (var i = 0, l = array.length; i < l; i += 3) {\n        var x = array[i];\n        var y = array[i + 1];\n        var z = array[i + 2];\n\n        if (x < minX) {\n          minX = x;\n        }\n        if (y < minY) {\n          minY = y;\n        }\n        if (z < minZ) {\n          minZ = z;\n        }\n\n        if (x > maxX) {\n          maxX = x;\n        }\n        if (y > maxY) {\n          maxY = y;\n        }\n        if (z > maxZ) {\n          maxZ = z;\n        }\n      }\n\n      this.min.set(minX, minY, minZ);\n      this.max.set(maxX, maxY, maxZ);\n\n      return this;\n    },\n\n    setFromBufferAttribute: function (attribute) {\n      var minX = +Infinity;\n      var minY = +Infinity;\n      var minZ = +Infinity;\n\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n      var maxZ = -Infinity;\n\n      for (var i = 0, l = attribute.count; i < l; i++) {\n        var x = attribute.getX(i);\n        var y = attribute.getY(i);\n        var z = attribute.getZ(i);\n\n        if (x < minX) {\n          minX = x;\n        }\n        if (y < minY) {\n          minY = y;\n        }\n        if (z < minZ) {\n          minZ = z;\n        }\n\n        if (x > maxX) {\n          maxX = x;\n        }\n        if (y > maxY) {\n          maxY = y;\n        }\n        if (z > maxZ) {\n          maxZ = z;\n        }\n      }\n\n      this.min.set(minX, minY, minZ);\n      this.max.set(maxX, maxY, maxZ);\n\n      return this;\n    },\n\n    setFromPoints: function (points) {\n      this.makeEmpty();\n\n      for (var i = 0, il = points.length; i < il; i++) {\n        this.expandByPoint(points[i]);\n      }\n\n      return this;\n    },\n\n    setFromCenterAndSize: function (center, size) {\n      var halfSize = _vector$2.copy(size).multiplyScalar(0.5);\n\n      this.min.copy(center).sub(halfSize);\n      this.max.copy(center).add(halfSize);\n\n      return this;\n    },\n\n    setFromObject: function (object) {\n      this.makeEmpty();\n\n      return this.expandByObject(object);\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (box) {\n      this.min.copy(box.min);\n      this.max.copy(box.max);\n\n      return this;\n    },\n\n    makeEmpty: function () {\n      this.min.x = this.min.y = this.min.z = +Infinity;\n      this.max.x = this.max.y = this.max.z = -Infinity;\n\n      return this;\n    },\n\n    isEmpty: function () {\n      // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n      return (\n        this.max.x < this.min.x ||\n        this.max.y < this.min.y ||\n        this.max.z < this.min.z\n      );\n    },\n\n    getCenter: function (target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Box3: .getCenter() target is now required\");\n        target = new Vector3();\n      }\n\n      return this.isEmpty()\n        ? target.set(0, 0, 0)\n        : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n    },\n\n    getSize: function (target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Box3: .getSize() target is now required\");\n        target = new Vector3();\n      }\n\n      return this.isEmpty()\n        ? target.set(0, 0, 0)\n        : target.subVectors(this.max, this.min);\n    },\n\n    expandByPoint: function (point) {\n      this.min.min(point);\n      this.max.max(point);\n\n      return this;\n    },\n\n    expandByVector: function (vector) {\n      this.min.sub(vector);\n      this.max.add(vector);\n\n      return this;\n    },\n\n    expandByScalar: function (scalar) {\n      this.min.addScalar(-scalar);\n      this.max.addScalar(scalar);\n\n      return this;\n    },\n\n    expandByObject: function (object) {\n      // Computes the world-axis-aligned bounding box of an object (including its children),\n      // accounting for both the object's, and children's, world transforms\n\n      object.updateWorldMatrix(false, false);\n\n      var geometry = object.geometry;\n\n      if (geometry !== undefined) {\n        if (geometry.boundingBox === null) {\n          geometry.computeBoundingBox();\n        }\n\n        _box.copy(geometry.boundingBox);\n        _box.applyMatrix4(object.matrixWorld);\n\n        this.expandByPoint(_box.min);\n        this.expandByPoint(_box.max);\n      }\n\n      var children = object.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        this.expandByObject(children[i]);\n      }\n\n      return this;\n    },\n\n    containsPoint: function (point) {\n      return point.x < this.min.x ||\n        point.x > this.max.x ||\n        point.y < this.min.y ||\n        point.y > this.max.y ||\n        point.z < this.min.z ||\n        point.z > this.max.z\n        ? false\n        : true;\n    },\n\n    containsBox: function (box) {\n      return (\n        this.min.x <= box.min.x &&\n        box.max.x <= this.max.x &&\n        this.min.y <= box.min.y &&\n        box.max.y <= this.max.y &&\n        this.min.z <= box.min.z &&\n        box.max.z <= this.max.z\n      );\n    },\n\n    getParameter: function (point, target) {\n      // This can potentially have a divide by zero if the box\n      // has a size dimension of 0.\n\n      if (target === undefined) {\n        console.warn(\"THREE.Box3: .getParameter() target is now required\");\n        target = new Vector3();\n      }\n\n      return target.set(\n        (point.x - this.min.x) / (this.max.x - this.min.x),\n        (point.y - this.min.y) / (this.max.y - this.min.y),\n        (point.z - this.min.z) / (this.max.z - this.min.z)\n      );\n    },\n\n    intersectsBox: function (box) {\n      // using 6 splitting planes to rule out intersections.\n      return box.max.x < this.min.x ||\n        box.min.x > this.max.x ||\n        box.max.y < this.min.y ||\n        box.min.y > this.max.y ||\n        box.max.z < this.min.z ||\n        box.min.z > this.max.z\n        ? false\n        : true;\n    },\n\n    intersectsSphere: function (sphere) {\n      // Find the point on the AABB closest to the sphere center.\n      this.clampPoint(sphere.center, _vector$2);\n\n      // If that point is inside the sphere, the AABB and sphere intersect.\n      return (\n        _vector$2.distanceToSquared(sphere.center) <=\n        sphere.radius * sphere.radius\n      );\n    },\n\n    intersectsPlane: function (plane) {\n      // We compute the minimum and maximum dot product values. If those values\n      // are on the same side (back or front) of the plane, then there is no intersection.\n\n      var min, max;\n\n      if (plane.normal.x > 0) {\n        min = plane.normal.x * this.min.x;\n        max = plane.normal.x * this.max.x;\n      } else {\n        min = plane.normal.x * this.max.x;\n        max = plane.normal.x * this.min.x;\n      }\n\n      if (plane.normal.y > 0) {\n        min += plane.normal.y * this.min.y;\n        max += plane.normal.y * this.max.y;\n      } else {\n        min += plane.normal.y * this.max.y;\n        max += plane.normal.y * this.min.y;\n      }\n\n      if (plane.normal.z > 0) {\n        min += plane.normal.z * this.min.z;\n        max += plane.normal.z * this.max.z;\n      } else {\n        min += plane.normal.z * this.max.z;\n        max += plane.normal.z * this.min.z;\n      }\n\n      return min <= -plane.constant && max >= -plane.constant;\n    },\n\n    intersectsTriangle: function (triangle) {\n      if (this.isEmpty()) {\n        return false;\n      }\n\n      // compute box center and extents\n      this.getCenter(_center);\n      _extents.subVectors(this.max, _center);\n\n      // translate triangle to aabb origin\n      _v0.subVectors(triangle.a, _center);\n      _v1$2.subVectors(triangle.b, _center);\n      _v2.subVectors(triangle.c, _center);\n\n      // compute edge vectors for triangle\n      _f0.subVectors(_v1$2, _v0);\n      _f1.subVectors(_v2, _v1$2);\n      _f2.subVectors(_v0, _v2);\n\n      // test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n      // make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n      // axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n      var axes = [\n        0,\n        -_f0.z,\n        _f0.y,\n        0,\n        -_f1.z,\n        _f1.y,\n        0,\n        -_f2.z,\n        _f2.y,\n        _f0.z,\n        0,\n        -_f0.x,\n        _f1.z,\n        0,\n        -_f1.x,\n        _f2.z,\n        0,\n        -_f2.x,\n        -_f0.y,\n        _f0.x,\n        0,\n        -_f1.y,\n        _f1.x,\n        0,\n        -_f2.y,\n        _f2.x,\n        0,\n      ];\n      if (!satForAxes(axes, _v0, _v1$2, _v2, _extents)) {\n        return false;\n      }\n\n      // test 3 face normals from the aabb\n      axes = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      if (!satForAxes(axes, _v0, _v1$2, _v2, _extents)) {\n        return false;\n      }\n\n      // finally testing the face normal of the triangle\n      // use already existing triangle edge vectors here\n      _triangleNormal.crossVectors(_f0, _f1);\n      axes = [_triangleNormal.x, _triangleNormal.y, _triangleNormal.z];\n\n      return satForAxes(axes, _v0, _v1$2, _v2, _extents);\n    },\n\n    clampPoint: function (point, target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Box3: .clampPoint() target is now required\");\n        target = new Vector3();\n      }\n\n      return target.copy(point).clamp(this.min, this.max);\n    },\n\n    distanceToPoint: function (point) {\n      var clampedPoint = _vector$2.copy(point).clamp(this.min, this.max);\n\n      return clampedPoint.sub(point).length();\n    },\n\n    getBoundingSphere: function (target) {\n      if (target === undefined) {\n        console.error(\n          \"THREE.Box3: .getBoundingSphere() target is now required\"\n        );\n        //target = new Sphere(); // removed to avoid cyclic dependency\n      }\n\n      this.getCenter(target.center);\n\n      target.radius = this.getSize(_vector$2).length() * 0.5;\n\n      return target;\n    },\n\n    intersect: function (box) {\n      this.min.max(box.min);\n      this.max.min(box.max);\n\n      // ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n      if (this.isEmpty()) {\n        this.makeEmpty();\n      }\n\n      return this;\n    },\n\n    union: function (box) {\n      this.min.min(box.min);\n      this.max.max(box.max);\n\n      return this;\n    },\n\n    applyMatrix4: function (matrix) {\n      // transform of empty box is an empty box.\n      if (this.isEmpty()) {\n        return this;\n      }\n\n      // NOTE: I am using a binary pattern to specify all 2^3 combinations below\n      _points[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(matrix); // 000\n      _points[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(matrix); // 001\n      _points[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(matrix); // 010\n      _points[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(matrix); // 011\n      _points[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(matrix); // 100\n      _points[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(matrix); // 101\n      _points[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(matrix); // 110\n      _points[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(matrix); // 111\n\n      this.setFromPoints(_points);\n\n      return this;\n    },\n\n    translate: function (offset) {\n      this.min.add(offset);\n      this.max.add(offset);\n\n      return this;\n    },\n\n    equals: function (box) {\n      return box.min.equals(this.min) && box.max.equals(this.max);\n    },\n  });\n\n  function satForAxes(axes, v0, v1, v2, extents) {\n    var i, j;\n\n    for (i = 0, j = axes.length - 3; i <= j; i += 3) {\n      _testAxis.fromArray(axes, i);\n      // project the aabb onto the seperating axis\n      var r =\n        extents.x * Math.abs(_testAxis.x) +\n        extents.y * Math.abs(_testAxis.y) +\n        extents.z * Math.abs(_testAxis.z);\n      // project all 3 vertices of the triangle onto the seperating axis\n      var p0 = v0.dot(_testAxis);\n      var p1 = v1.dot(_testAxis);\n      var p2 = v2.dot(_testAxis);\n      // actual test, basically see if either of the most extreme of the triangle points intersects r\n      if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n        // points of the projected triangle are outside the projected half-length of the aabb\n        // the axis is seperating and we can exit\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  var _box$1 = new Box3();\n\n  /**\n   * @author bhouston / http://clara.io\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Sphere(center, radius) {\n    this.center = center !== undefined ? center : new Vector3();\n    this.radius = radius !== undefined ? radius : 0;\n  }\n\n  Object.assign(Sphere.prototype, {\n    set: function (center, radius) {\n      this.center.copy(center);\n      this.radius = radius;\n\n      return this;\n    },\n\n    setFromPoints: function (points, optionalCenter) {\n      var center = this.center;\n\n      if (optionalCenter !== undefined) {\n        center.copy(optionalCenter);\n      } else {\n        _box$1.setFromPoints(points).getCenter(center);\n      }\n\n      var maxRadiusSq = 0;\n\n      for (var i = 0, il = points.length; i < il; i++) {\n        maxRadiusSq = Math.max(\n          maxRadiusSq,\n          center.distanceToSquared(points[i])\n        );\n      }\n\n      this.radius = Math.sqrt(maxRadiusSq);\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (sphere) {\n      this.center.copy(sphere.center);\n      this.radius = sphere.radius;\n\n      return this;\n    },\n\n    empty: function () {\n      return this.radius <= 0;\n    },\n\n    containsPoint: function (point) {\n      return point.distanceToSquared(this.center) <= this.radius * this.radius;\n    },\n\n    distanceToPoint: function (point) {\n      return point.distanceTo(this.center) - this.radius;\n    },\n\n    intersectsSphere: function (sphere) {\n      var radiusSum = this.radius + sphere.radius;\n\n      return (\n        sphere.center.distanceToSquared(this.center) <= radiusSum * radiusSum\n      );\n    },\n\n    intersectsBox: function (box) {\n      return box.intersectsSphere(this);\n    },\n\n    intersectsPlane: function (plane) {\n      return Math.abs(plane.distanceToPoint(this.center)) <= this.radius;\n    },\n\n    clampPoint: function (point, target) {\n      var deltaLengthSq = this.center.distanceToSquared(point);\n\n      if (target === undefined) {\n        console.warn(\"THREE.Sphere: .clampPoint() target is now required\");\n        target = new Vector3();\n      }\n\n      target.copy(point);\n\n      if (deltaLengthSq > this.radius * this.radius) {\n        target.sub(this.center).normalize();\n        target.multiplyScalar(this.radius).add(this.center);\n      }\n\n      return target;\n    },\n\n    getBoundingBox: function (target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Sphere: .getBoundingBox() target is now required\");\n        target = new Box3();\n      }\n\n      target.set(this.center, this.center);\n      target.expandByScalar(this.radius);\n\n      return target;\n    },\n\n    applyMatrix4: function (matrix) {\n      this.center.applyMatrix4(matrix);\n      this.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n      return this;\n    },\n\n    translate: function (offset) {\n      this.center.add(offset);\n\n      return this;\n    },\n\n    equals: function (sphere) {\n      return sphere.center.equals(this.center) && sphere.radius === this.radius;\n    },\n  });\n\n  var _vector$3 = new Vector3();\n  var _segCenter = new Vector3();\n  var _segDir = new Vector3();\n  var _diff = new Vector3();\n\n  var _edge1 = new Vector3();\n  var _edge2 = new Vector3();\n  var _normal = new Vector3();\n\n  /**\n   * @author bhouston / http://clara.io\n   */\n\n  function Ray(origin, direction) {\n    this.origin = origin !== undefined ? origin : new Vector3();\n    this.direction =\n      direction !== undefined ? direction : new Vector3(0, 0, -1);\n  }\n\n  Object.assign(Ray.prototype, {\n    set: function (origin, direction) {\n      this.origin.copy(origin);\n      this.direction.copy(direction);\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (ray) {\n      this.origin.copy(ray.origin);\n      this.direction.copy(ray.direction);\n\n      return this;\n    },\n\n    at: function (t, target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Ray: .at() target is now required\");\n        target = new Vector3();\n      }\n\n      return target.copy(this.direction).multiplyScalar(t).add(this.origin);\n    },\n\n    lookAt: function (v) {\n      this.direction.copy(v).sub(this.origin).normalize();\n\n      return this;\n    },\n\n    recast: function (t) {\n      this.origin.copy(this.at(t, _vector$3));\n\n      return this;\n    },\n\n    closestPointToPoint: function (point, target) {\n      if (target === undefined) {\n        console.warn(\n          \"THREE.Ray: .closestPointToPoint() target is now required\"\n        );\n        target = new Vector3();\n      }\n\n      target.subVectors(point, this.origin);\n\n      var directionDistance = target.dot(this.direction);\n\n      if (directionDistance < 0) {\n        return target.copy(this.origin);\n      }\n\n      return target\n        .copy(this.direction)\n        .multiplyScalar(directionDistance)\n        .add(this.origin);\n    },\n\n    distanceToPoint: function (point) {\n      return Math.sqrt(this.distanceSqToPoint(point));\n    },\n\n    distanceSqToPoint: function (point) {\n      var directionDistance = _vector$3\n        .subVectors(point, this.origin)\n        .dot(this.direction);\n\n      // point behind the ray\n\n      if (directionDistance < 0) {\n        return this.origin.distanceToSquared(point);\n      }\n\n      _vector$3\n        .copy(this.direction)\n        .multiplyScalar(directionDistance)\n        .add(this.origin);\n\n      return _vector$3.distanceToSquared(point);\n    },\n\n    distanceSqToSegment: function (\n      v0,\n      v1,\n      optionalPointOnRay,\n      optionalPointOnSegment\n    ) {\n      // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n      // It returns the min distance between the ray and the segment\n      // defined by v0 and v1\n      // It can also set two optional targets :\n      // - The closest point on the ray\n      // - The closest point on the segment\n\n      _segCenter.copy(v0).add(v1).multiplyScalar(0.5);\n      _segDir.copy(v1).sub(v0).normalize();\n      _diff.copy(this.origin).sub(_segCenter);\n\n      var segExtent = v0.distanceTo(v1) * 0.5;\n      var a01 = -this.direction.dot(_segDir);\n      var b0 = _diff.dot(this.direction);\n      var b1 = -_diff.dot(_segDir);\n      var c = _diff.lengthSq();\n      var det = Math.abs(1 - a01 * a01);\n      var s0, s1, sqrDist, extDet;\n\n      if (det > 0) {\n        // The ray and segment are not parallel.\n\n        s0 = a01 * b1 - b0;\n        s1 = a01 * b0 - b1;\n        extDet = segExtent * det;\n\n        if (s0 >= 0) {\n          if (s1 >= -extDet) {\n            if (s1 <= extDet) {\n              // region 0\n              // Minimum at interior points of ray and segment.\n\n              var invDet = 1 / det;\n              s0 *= invDet;\n              s1 *= invDet;\n              sqrDist =\n                s0 * (s0 + a01 * s1 + 2 * b0) +\n                s1 * (a01 * s0 + s1 + 2 * b1) +\n                c;\n            } else {\n              // region 1\n\n              s1 = segExtent;\n              s0 = Math.max(0, -(a01 * s1 + b0));\n              sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n            }\n          } else {\n            // region 5\n\n            s1 = -segExtent;\n            s0 = Math.max(0, -(a01 * s1 + b0));\n            sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n          }\n        } else {\n          if (s1 <= -extDet) {\n            // region 4\n\n            s0 = Math.max(0, -(-a01 * segExtent + b0));\n            s1 =\n              s0 > 0\n                ? -segExtent\n                : Math.min(Math.max(-segExtent, -b1), segExtent);\n            sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n          } else if (s1 <= extDet) {\n            // region 3\n\n            s0 = 0;\n            s1 = Math.min(Math.max(-segExtent, -b1), segExtent);\n            sqrDist = s1 * (s1 + 2 * b1) + c;\n          } else {\n            // region 2\n\n            s0 = Math.max(0, -(a01 * segExtent + b0));\n            s1 =\n              s0 > 0\n                ? segExtent\n                : Math.min(Math.max(-segExtent, -b1), segExtent);\n            sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n          }\n        }\n      } else {\n        // Ray and segment are parallel.\n\n        s1 = a01 > 0 ? -segExtent : segExtent;\n        s0 = Math.max(0, -(a01 * s1 + b0));\n        sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n      }\n\n      if (optionalPointOnRay) {\n        optionalPointOnRay\n          .copy(this.direction)\n          .multiplyScalar(s0)\n          .add(this.origin);\n      }\n\n      if (optionalPointOnSegment) {\n        optionalPointOnSegment.copy(_segDir).multiplyScalar(s1).add(_segCenter);\n      }\n\n      return sqrDist;\n    },\n\n    intersectSphere: function (sphere, target) {\n      _vector$3.subVectors(sphere.center, this.origin);\n      var tca = _vector$3.dot(this.direction);\n      var d2 = _vector$3.dot(_vector$3) - tca * tca;\n      var radius2 = sphere.radius * sphere.radius;\n\n      if (d2 > radius2) {\n        return null;\n      }\n\n      var thc = Math.sqrt(radius2 - d2);\n\n      // t0 = first intersect point - entrance on front of sphere\n      var t0 = tca - thc;\n\n      // t1 = second intersect point - exit point on back of sphere\n      var t1 = tca + thc;\n\n      // test to see if both t0 and t1 are behind the ray - if so, return null\n      if (t0 < 0 && t1 < 0) {\n        return null;\n      }\n\n      // test to see if t0 is behind the ray:\n      // if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n      // in order to always return an intersect point that is in front of the ray.\n      if (t0 < 0) {\n        return this.at(t1, target);\n      }\n\n      // else t0 is in front of the ray, so return the first collision point scaled by t0\n      return this.at(t0, target);\n    },\n\n    intersectsSphere: function (sphere) {\n      return (\n        this.distanceSqToPoint(sphere.center) <= sphere.radius * sphere.radius\n      );\n    },\n\n    distanceToPlane: function (plane) {\n      var denominator = plane.normal.dot(this.direction);\n\n      if (denominator === 0) {\n        // line is coplanar, return origin\n        if (plane.distanceToPoint(this.origin) === 0) {\n          return 0;\n        }\n\n        // Null is preferable to undefined since undefined means.... it is undefined\n\n        return null;\n      }\n\n      var t = -(this.origin.dot(plane.normal) + plane.constant) / denominator;\n\n      // Return if the ray never intersects the plane\n\n      return t >= 0 ? t : null;\n    },\n\n    intersectPlane: function (plane, target) {\n      var t = this.distanceToPlane(plane);\n\n      if (t === null) {\n        return null;\n      }\n\n      return this.at(t, target);\n    },\n\n    intersectsPlane: function (plane) {\n      // check if the ray lies on the plane first\n\n      var distToPoint = plane.distanceToPoint(this.origin);\n\n      if (distToPoint === 0) {\n        return true;\n      }\n\n      var denominator = plane.normal.dot(this.direction);\n\n      if (denominator * distToPoint < 0) {\n        return true;\n      }\n\n      // ray origin is behind the plane (and is pointing behind it)\n\n      return false;\n    },\n\n    intersectBox: function (box, target) {\n      var tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n      var invdirx = 1 / this.direction.x,\n        invdiry = 1 / this.direction.y,\n        invdirz = 1 / this.direction.z;\n\n      var origin = this.origin;\n\n      if (invdirx >= 0) {\n        tmin = (box.min.x - origin.x) * invdirx;\n        tmax = (box.max.x - origin.x) * invdirx;\n      } else {\n        tmin = (box.max.x - origin.x) * invdirx;\n        tmax = (box.min.x - origin.x) * invdirx;\n      }\n\n      if (invdiry >= 0) {\n        tymin = (box.min.y - origin.y) * invdiry;\n        tymax = (box.max.y - origin.y) * invdiry;\n      } else {\n        tymin = (box.max.y - origin.y) * invdiry;\n        tymax = (box.min.y - origin.y) * invdiry;\n      }\n\n      if (tmin > tymax || tymin > tmax) {\n        return null;\n      }\n\n      // These lines also handle the case where tmin or tmax is NaN\n      // (result of 0 * Infinity). x !== x returns true if x is NaN\n\n      if (tymin > tmin || tmin !== tmin) {\n        tmin = tymin;\n      }\n\n      if (tymax < tmax || tmax !== tmax) {\n        tmax = tymax;\n      }\n\n      if (invdirz >= 0) {\n        tzmin = (box.min.z - origin.z) * invdirz;\n        tzmax = (box.max.z - origin.z) * invdirz;\n      } else {\n        tzmin = (box.max.z - origin.z) * invdirz;\n        tzmax = (box.min.z - origin.z) * invdirz;\n      }\n\n      if (tmin > tzmax || tzmin > tmax) {\n        return null;\n      }\n\n      if (tzmin > tmin || tmin !== tmin) {\n        tmin = tzmin;\n      }\n\n      if (tzmax < tmax || tmax !== tmax) {\n        tmax = tzmax;\n      }\n\n      //return point closest to the ray (positive side)\n\n      if (tmax < 0) {\n        return null;\n      }\n\n      return this.at(tmin >= 0 ? tmin : tmax, target);\n    },\n\n    intersectsBox: function (box) {\n      return this.intersectBox(box, _vector$3) !== null;\n    },\n\n    intersectTriangle: function (a, b, c, backfaceCulling, target) {\n      // Compute the offset origin, edges, and normal.\n\n      // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n      _edge1.subVectors(b, a);\n      _edge2.subVectors(c, a);\n      _normal.crossVectors(_edge1, _edge2);\n\n      // Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n      // E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n      //   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n      //   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n      //   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n      var DdN = this.direction.dot(_normal);\n      var sign;\n\n      if (DdN > 0) {\n        if (backfaceCulling) {\n          return null;\n        }\n        sign = 1;\n      } else if (DdN < 0) {\n        sign = -1;\n        DdN = -DdN;\n      } else {\n        return null;\n      }\n\n      _diff.subVectors(this.origin, a);\n      var DdQxE2 =\n        sign * this.direction.dot(_edge2.crossVectors(_diff, _edge2));\n\n      // b1 < 0, no intersection\n      if (DdQxE2 < 0) {\n        return null;\n      }\n\n      var DdE1xQ = sign * this.direction.dot(_edge1.cross(_diff));\n\n      // b2 < 0, no intersection\n      if (DdE1xQ < 0) {\n        return null;\n      }\n\n      // b1+b2 > 1, no intersection\n      if (DdQxE2 + DdE1xQ > DdN) {\n        return null;\n      }\n\n      // Line intersects triangle, check if ray does.\n      var QdN = -sign * _diff.dot(_normal);\n\n      // t < 0, no intersection\n      if (QdN < 0) {\n        return null;\n      }\n\n      // Ray intersects triangle.\n      return this.at(QdN / DdN, target);\n    },\n\n    applyMatrix4: function (matrix4) {\n      this.origin.applyMatrix4(matrix4);\n      this.direction.transformDirection(matrix4);\n\n      return this;\n    },\n\n    equals: function (ray) {\n      return (\n        ray.origin.equals(this.origin) && ray.direction.equals(this.direction)\n      );\n    },\n  });\n\n  /**\n   * @author bhouston / http://clara.io\n   */\n\n  var _vector1 = new Vector3();\n  var _vector2 = new Vector3();\n  var _normalMatrix = new Matrix3();\n\n  function Plane(normal, constant) {\n    // normal is assumed to be normalized\n\n    this.normal = normal !== undefined ? normal : new Vector3(1, 0, 0);\n    this.constant = constant !== undefined ? constant : 0;\n  }\n\n  Object.assign(Plane.prototype, {\n    isPlane: true,\n\n    set: function (normal, constant) {\n      this.normal.copy(normal);\n      this.constant = constant;\n\n      return this;\n    },\n\n    setComponents: function (x, y, z, w) {\n      this.normal.set(x, y, z);\n      this.constant = w;\n\n      return this;\n    },\n\n    setFromNormalAndCoplanarPoint: function (normal, point) {\n      this.normal.copy(normal);\n      this.constant = -point.dot(this.normal);\n\n      return this;\n    },\n\n    setFromCoplanarPoints: function (a, b, c) {\n      var normal = _vector1\n        .subVectors(c, b)\n        .cross(_vector2.subVectors(a, b))\n        .normalize();\n\n      // Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n      this.setFromNormalAndCoplanarPoint(normal, a);\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (plane) {\n      this.normal.copy(plane.normal);\n      this.constant = plane.constant;\n\n      return this;\n    },\n\n    normalize: function () {\n      // Note: will lead to a divide by zero if the plane is invalid.\n\n      var inverseNormalLength = 1.0 / this.normal.length();\n      this.normal.multiplyScalar(inverseNormalLength);\n      this.constant *= inverseNormalLength;\n\n      return this;\n    },\n\n    negate: function () {\n      this.constant *= -1;\n      this.normal.negate();\n\n      return this;\n    },\n\n    distanceToPoint: function (point) {\n      return this.normal.dot(point) + this.constant;\n    },\n\n    distanceToSphere: function (sphere) {\n      return this.distanceToPoint(sphere.center) - sphere.radius;\n    },\n\n    projectPoint: function (point, target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Plane: .projectPoint() target is now required\");\n        target = new Vector3();\n      }\n\n      return target\n        .copy(this.normal)\n        .multiplyScalar(-this.distanceToPoint(point))\n        .add(point);\n    },\n\n    intersectLine: function (line, target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Plane: .intersectLine() target is now required\");\n        target = new Vector3();\n      }\n\n      var direction = line.delta(_vector1);\n\n      var denominator = this.normal.dot(direction);\n\n      if (denominator === 0) {\n        // line is coplanar, return origin\n        if (this.distanceToPoint(line.start) === 0) {\n          return target.copy(line.start);\n        }\n\n        // Unsure if this is the correct method to handle this case.\n        return undefined;\n      }\n\n      var t = -(line.start.dot(this.normal) + this.constant) / denominator;\n\n      if (t < 0 || t > 1) {\n        return undefined;\n      }\n\n      return target.copy(direction).multiplyScalar(t).add(line.start);\n    },\n\n    intersectsLine: function (line) {\n      // Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n      var startSign = this.distanceToPoint(line.start);\n      var endSign = this.distanceToPoint(line.end);\n\n      return (startSign < 0 && endSign > 0) || (endSign < 0 && startSign > 0);\n    },\n\n    intersectsBox: function (box) {\n      return box.intersectsPlane(this);\n    },\n\n    intersectsSphere: function (sphere) {\n      return sphere.intersectsPlane(this);\n    },\n\n    coplanarPoint: function (target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Plane: .coplanarPoint() target is now required\");\n        target = new Vector3();\n      }\n\n      return target.copy(this.normal).multiplyScalar(-this.constant);\n    },\n\n    applyMatrix4: function (matrix, optionalNormalMatrix) {\n      var normalMatrix =\n        optionalNormalMatrix || _normalMatrix.getNormalMatrix(matrix);\n\n      var referencePoint = this.coplanarPoint(_vector1).applyMatrix4(matrix);\n\n      var normal = this.normal.applyMatrix3(normalMatrix).normalize();\n\n      this.constant = -referencePoint.dot(normal);\n\n      return this;\n    },\n\n    translate: function (offset) {\n      this.constant -= offset.dot(this.normal);\n\n      return this;\n    },\n\n    equals: function (plane) {\n      return (\n        plane.normal.equals(this.normal) && plane.constant === this.constant\n      );\n    },\n  });\n\n  /**\n   * @author bhouston / http://clara.io\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _v0$1 = new Vector3();\n  var _v1$3 = new Vector3();\n  var _v2$1 = new Vector3();\n  var _v3 = new Vector3();\n\n  var _vab = new Vector3();\n  var _vac = new Vector3();\n  var _vbc = new Vector3();\n  var _vap = new Vector3();\n  var _vbp = new Vector3();\n  var _vcp = new Vector3();\n\n  function Triangle(a, b, c) {\n    this.a = a !== undefined ? a : new Vector3();\n    this.b = b !== undefined ? b : new Vector3();\n    this.c = c !== undefined ? c : new Vector3();\n  }\n\n  Object.assign(Triangle, {\n    getNormal: function (a, b, c, target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Triangle: .getNormal() target is now required\");\n        target = new Vector3();\n      }\n\n      target.subVectors(c, b);\n      _v0$1.subVectors(a, b);\n      target.cross(_v0$1);\n\n      var targetLengthSq = target.lengthSq();\n      if (targetLengthSq > 0) {\n        return target.multiplyScalar(1 / Math.sqrt(targetLengthSq));\n      }\n\n      return target.set(0, 0, 0);\n    },\n\n    // static/instance method to calculate barycentric coordinates\n    // based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n    getBarycoord: function (point, a, b, c, target) {\n      _v0$1.subVectors(c, a);\n      _v1$3.subVectors(b, a);\n      _v2$1.subVectors(point, a);\n\n      var dot00 = _v0$1.dot(_v0$1);\n      var dot01 = _v0$1.dot(_v1$3);\n      var dot02 = _v0$1.dot(_v2$1);\n      var dot11 = _v1$3.dot(_v1$3);\n      var dot12 = _v1$3.dot(_v2$1);\n\n      var denom = dot00 * dot11 - dot01 * dot01;\n\n      if (target === undefined) {\n        console.warn(\"THREE.Triangle: .getBarycoord() target is now required\");\n        target = new Vector3();\n      }\n\n      // collinear or singular triangle\n      if (denom === 0) {\n        // arbitrary location outside of triangle?\n        // not sure if this is the best idea, maybe should be returning undefined\n        return target.set(-2, -1, -1);\n      }\n\n      var invDenom = 1 / denom;\n      var u = (dot11 * dot02 - dot01 * dot12) * invDenom;\n      var v = (dot00 * dot12 - dot01 * dot02) * invDenom;\n\n      // barycentric coordinates must always sum to 1\n      return target.set(1 - u - v, v, u);\n    },\n\n    containsPoint: function (point, a, b, c) {\n      Triangle.getBarycoord(point, a, b, c, _v3);\n\n      return _v3.x >= 0 && _v3.y >= 0 && _v3.x + _v3.y <= 1;\n    },\n\n    getUV: function (point, p1, p2, p3, uv1, uv2, uv3, target) {\n      this.getBarycoord(point, p1, p2, p3, _v3);\n\n      target.set(0, 0);\n      target.addScaledVector(uv1, _v3.x);\n      target.addScaledVector(uv2, _v3.y);\n      target.addScaledVector(uv3, _v3.z);\n\n      return target;\n    },\n\n    isFrontFacing: function (a, b, c, direction) {\n      _v0$1.subVectors(c, b);\n      _v1$3.subVectors(a, b);\n\n      // strictly front facing\n      return _v0$1.cross(_v1$3).dot(direction) < 0 ? true : false;\n    },\n  });\n\n  Object.assign(Triangle.prototype, {\n    set: function (a, b, c) {\n      this.a.copy(a);\n      this.b.copy(b);\n      this.c.copy(c);\n\n      return this;\n    },\n\n    setFromPointsAndIndices: function (points, i0, i1, i2) {\n      this.a.copy(points[i0]);\n      this.b.copy(points[i1]);\n      this.c.copy(points[i2]);\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (triangle) {\n      this.a.copy(triangle.a);\n      this.b.copy(triangle.b);\n      this.c.copy(triangle.c);\n\n      return this;\n    },\n\n    getArea: function () {\n      _v0$1.subVectors(this.c, this.b);\n      _v1$3.subVectors(this.a, this.b);\n\n      return _v0$1.cross(_v1$3).length() * 0.5;\n    },\n\n    getMidpoint: function (target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Triangle: .getMidpoint() target is now required\");\n        target = new Vector3();\n      }\n\n      return target\n        .addVectors(this.a, this.b)\n        .add(this.c)\n        .multiplyScalar(1 / 3);\n    },\n\n    getNormal: function (target) {\n      return Triangle.getNormal(this.a, this.b, this.c, target);\n    },\n\n    getPlane: function (target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Triangle: .getPlane() target is now required\");\n        target = new Plane();\n      }\n\n      return target.setFromCoplanarPoints(this.a, this.b, this.c);\n    },\n\n    getBarycoord: function (point, target) {\n      return Triangle.getBarycoord(point, this.a, this.b, this.c, target);\n    },\n\n    getUV: function (point, uv1, uv2, uv3, target) {\n      return Triangle.getUV(\n        point,\n        this.a,\n        this.b,\n        this.c,\n        uv1,\n        uv2,\n        uv3,\n        target\n      );\n    },\n\n    containsPoint: function (point) {\n      return Triangle.containsPoint(point, this.a, this.b, this.c);\n    },\n\n    isFrontFacing: function (direction) {\n      return Triangle.isFrontFacing(this.a, this.b, this.c, direction);\n    },\n\n    intersectsBox: function (box) {\n      return box.intersectsTriangle(this);\n    },\n\n    closestPointToPoint: function (p, target) {\n      if (target === undefined) {\n        console.warn(\n          \"THREE.Triangle: .closestPointToPoint() target is now required\"\n        );\n        target = new Vector3();\n      }\n\n      var a = this.a,\n        b = this.b,\n        c = this.c;\n      var v, w;\n\n      // algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n      // published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n      // under the accompanying license; see chapter 5.1.5 for detailed explanation.\n      // basically, we're distinguishing which of the voronoi regions of the triangle\n      // the point lies in with the minimum amount of redundant computation.\n\n      _vab.subVectors(b, a);\n      _vac.subVectors(c, a);\n      _vap.subVectors(p, a);\n      var d1 = _vab.dot(_vap);\n      var d2 = _vac.dot(_vap);\n      if (d1 <= 0 && d2 <= 0) {\n        // vertex region of A; barycentric coords (1, 0, 0)\n        return target.copy(a);\n      }\n\n      _vbp.subVectors(p, b);\n      var d3 = _vab.dot(_vbp);\n      var d4 = _vac.dot(_vbp);\n      if (d3 >= 0 && d4 <= d3) {\n        // vertex region of B; barycentric coords (0, 1, 0)\n        return target.copy(b);\n      }\n\n      var vc = d1 * d4 - d3 * d2;\n      if (vc <= 0 && d1 >= 0 && d3 <= 0) {\n        v = d1 / (d1 - d3);\n        // edge region of AB; barycentric coords (1-v, v, 0)\n        return target.copy(a).addScaledVector(_vab, v);\n      }\n\n      _vcp.subVectors(p, c);\n      var d5 = _vab.dot(_vcp);\n      var d6 = _vac.dot(_vcp);\n      if (d6 >= 0 && d5 <= d6) {\n        // vertex region of C; barycentric coords (0, 0, 1)\n        return target.copy(c);\n      }\n\n      var vb = d5 * d2 - d1 * d6;\n      if (vb <= 0 && d2 >= 0 && d6 <= 0) {\n        w = d2 / (d2 - d6);\n        // edge region of AC; barycentric coords (1-w, 0, w)\n        return target.copy(a).addScaledVector(_vac, w);\n      }\n\n      var va = d3 * d6 - d5 * d4;\n      if (va <= 0 && d4 - d3 >= 0 && d5 - d6 >= 0) {\n        _vbc.subVectors(c, b);\n        w = (d4 - d3) / (d4 - d3 + (d5 - d6));\n        // edge region of BC; barycentric coords (0, 1-w, w)\n        return target.copy(b).addScaledVector(_vbc, w); // edge region of BC\n      }\n\n      // face region\n      var denom = 1 / (va + vb + vc);\n      // u = va * denom\n      v = vb * denom;\n      w = vc * denom;\n\n      return target.copy(a).addScaledVector(_vab, v).addScaledVector(_vac, w);\n    },\n\n    equals: function (triangle) {\n      return (\n        triangle.a.equals(this.a) &&\n        triangle.b.equals(this.b) &&\n        triangle.c.equals(this.c)\n      );\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _colorKeywords = {\n    aliceblue: 0xf0f8ff,\n    antiquewhite: 0xfaebd7,\n    aqua: 0x00ffff,\n    aquamarine: 0x7fffd4,\n    azure: 0xf0ffff,\n    beige: 0xf5f5dc,\n    bisque: 0xffe4c4,\n    black: 0x000000,\n    blanchedalmond: 0xffebcd,\n    blue: 0x0000ff,\n    blueviolet: 0x8a2be2,\n    brown: 0xa52a2a,\n    burlywood: 0xdeb887,\n    cadetblue: 0x5f9ea0,\n    chartreuse: 0x7fff00,\n    chocolate: 0xd2691e,\n    coral: 0xff7f50,\n    cornflowerblue: 0x6495ed,\n    cornsilk: 0xfff8dc,\n    crimson: 0xdc143c,\n    cyan: 0x00ffff,\n    darkblue: 0x00008b,\n    darkcyan: 0x008b8b,\n    darkgoldenrod: 0xb8860b,\n    darkgray: 0xa9a9a9,\n    darkgreen: 0x006400,\n    darkgrey: 0xa9a9a9,\n    darkkhaki: 0xbdb76b,\n    darkmagenta: 0x8b008b,\n    darkolivegreen: 0x556b2f,\n    darkorange: 0xff8c00,\n    darkorchid: 0x9932cc,\n    darkred: 0x8b0000,\n    darksalmon: 0xe9967a,\n    darkseagreen: 0x8fbc8f,\n    darkslateblue: 0x483d8b,\n    darkslategray: 0x2f4f4f,\n    darkslategrey: 0x2f4f4f,\n    darkturquoise: 0x00ced1,\n    darkviolet: 0x9400d3,\n    deeppink: 0xff1493,\n    deepskyblue: 0x00bfff,\n    dimgray: 0x696969,\n    dimgrey: 0x696969,\n    dodgerblue: 0x1e90ff,\n    firebrick: 0xb22222,\n    floralwhite: 0xfffaf0,\n    forestgreen: 0x228b22,\n    fuchsia: 0xff00ff,\n    gainsboro: 0xdcdcdc,\n    ghostwhite: 0xf8f8ff,\n    gold: 0xffd700,\n    goldenrod: 0xdaa520,\n    gray: 0x808080,\n    green: 0x008000,\n    greenyellow: 0xadff2f,\n    grey: 0x808080,\n    honeydew: 0xf0fff0,\n    hotpink: 0xff69b4,\n    indianred: 0xcd5c5c,\n    indigo: 0x4b0082,\n    ivory: 0xfffff0,\n    khaki: 0xf0e68c,\n    lavender: 0xe6e6fa,\n    lavenderblush: 0xfff0f5,\n    lawngreen: 0x7cfc00,\n    lemonchiffon: 0xfffacd,\n    lightblue: 0xadd8e6,\n    lightcoral: 0xf08080,\n    lightcyan: 0xe0ffff,\n    lightgoldenrodyellow: 0xfafad2,\n    lightgray: 0xd3d3d3,\n    lightgreen: 0x90ee90,\n    lightgrey: 0xd3d3d3,\n    lightpink: 0xffb6c1,\n    lightsalmon: 0xffa07a,\n    lightseagreen: 0x20b2aa,\n    lightskyblue: 0x87cefa,\n    lightslategray: 0x778899,\n    lightslategrey: 0x778899,\n    lightsteelblue: 0xb0c4de,\n    lightyellow: 0xffffe0,\n    lime: 0x00ff00,\n    limegreen: 0x32cd32,\n    linen: 0xfaf0e6,\n    magenta: 0xff00ff,\n    maroon: 0x800000,\n    mediumaquamarine: 0x66cdaa,\n    mediumblue: 0x0000cd,\n    mediumorchid: 0xba55d3,\n    mediumpurple: 0x9370db,\n    mediumseagreen: 0x3cb371,\n    mediumslateblue: 0x7b68ee,\n    mediumspringgreen: 0x00fa9a,\n    mediumturquoise: 0x48d1cc,\n    mediumvioletred: 0xc71585,\n    midnightblue: 0x191970,\n    mintcream: 0xf5fffa,\n    mistyrose: 0xffe4e1,\n    moccasin: 0xffe4b5,\n    navajowhite: 0xffdead,\n    navy: 0x000080,\n    oldlace: 0xfdf5e6,\n    olive: 0x808000,\n    olivedrab: 0x6b8e23,\n    orange: 0xffa500,\n    orangered: 0xff4500,\n    orchid: 0xda70d6,\n    palegoldenrod: 0xeee8aa,\n    palegreen: 0x98fb98,\n    paleturquoise: 0xafeeee,\n    palevioletred: 0xdb7093,\n    papayawhip: 0xffefd5,\n    peachpuff: 0xffdab9,\n    peru: 0xcd853f,\n    pink: 0xffc0cb,\n    plum: 0xdda0dd,\n    powderblue: 0xb0e0e6,\n    purple: 0x800080,\n    rebeccapurple: 0x663399,\n    red: 0xff0000,\n    rosybrown: 0xbc8f8f,\n    royalblue: 0x4169e1,\n    saddlebrown: 0x8b4513,\n    salmon: 0xfa8072,\n    sandybrown: 0xf4a460,\n    seagreen: 0x2e8b57,\n    seashell: 0xfff5ee,\n    sienna: 0xa0522d,\n    silver: 0xc0c0c0,\n    skyblue: 0x87ceeb,\n    slateblue: 0x6a5acd,\n    slategray: 0x708090,\n    slategrey: 0x708090,\n    snow: 0xfffafa,\n    springgreen: 0x00ff7f,\n    steelblue: 0x4682b4,\n    tan: 0xd2b48c,\n    teal: 0x008080,\n    thistle: 0xd8bfd8,\n    tomato: 0xff6347,\n    turquoise: 0x40e0d0,\n    violet: 0xee82ee,\n    wheat: 0xf5deb3,\n    white: 0xffffff,\n    whitesmoke: 0xf5f5f5,\n    yellow: 0xffff00,\n    yellowgreen: 0x9acd32,\n  };\n\n  var _hslA = {\n    h: 0,\n    s: 0,\n    l: 0,\n  };\n  var _hslB = {\n    h: 0,\n    s: 0,\n    l: 0,\n  };\n\n  function Color(r, g, b) {\n    if (g === undefined && b === undefined) {\n      // r is THREE.Color, hex or string\n      return this.set(r);\n    }\n\n    return this.setRGB(r, g, b);\n  }\n\n  function hue2rgb(p, q, t) {\n    if (t < 0) {\n      t += 1;\n    }\n    if (t > 1) {\n      t -= 1;\n    }\n    if (t < 1 / 6) {\n      return p + (q - p) * 6 * t;\n    }\n    if (t < 1 / 2) {\n      return q;\n    }\n    if (t < 2 / 3) {\n      return p + (q - p) * 6 * (2 / 3 - t);\n    }\n    return p;\n  }\n\n  function SRGBToLinear(c) {\n    return c < 0.04045\n      ? c * 0.0773993808\n      : Math.pow(c * 0.9478672986 + 0.0521327014, 2.4);\n  }\n\n  function LinearToSRGB(c) {\n    return c < 0.0031308 ? c * 12.92 : 1.055 * Math.pow(c, 0.41666) - 0.055;\n  }\n\n  Object.assign(Color.prototype, {\n    isColor: true,\n\n    r: 1,\n    g: 1,\n    b: 1,\n\n    set: function (value) {\n      if (value && value.isColor) {\n        this.copy(value);\n      } else if (typeof value === \"number\") {\n        this.setHex(value);\n      } else if (typeof value === \"string\") {\n        this.setStyle(value);\n      }\n\n      return this;\n    },\n\n    setScalar: function (scalar) {\n      this.r = scalar;\n      this.g = scalar;\n      this.b = scalar;\n\n      return this;\n    },\n\n    setHex: function (hex) {\n      hex = Math.floor(hex);\n\n      this.r = ((hex >> 16) & 255) / 255;\n      this.g = ((hex >> 8) & 255) / 255;\n      this.b = (hex & 255) / 255;\n\n      return this;\n    },\n\n    setRGB: function (r, g, b) {\n      this.r = r;\n      this.g = g;\n      this.b = b;\n\n      return this;\n    },\n\n    setHSL: function (h, s, l) {\n      // h,s,l ranges are in 0.0 - 1.0\n      h = _Math.euclideanModulo(h, 1);\n      s = _Math.clamp(s, 0, 1);\n      l = _Math.clamp(l, 0, 1);\n\n      if (s === 0) {\n        this.r = this.g = this.b = l;\n      } else {\n        var p = l <= 0.5 ? l * (1 + s) : l + s - l * s;\n        var q = 2 * l - p;\n\n        this.r = hue2rgb(q, p, h + 1 / 3);\n        this.g = hue2rgb(q, p, h);\n        this.b = hue2rgb(q, p, h - 1 / 3);\n      }\n\n      return this;\n    },\n\n    setStyle: function (style) {\n      function handleAlpha(string) {\n        if (string === undefined) {\n          return;\n        }\n\n        if (parseFloat(string) < 1) {\n          console.warn(\n            \"THREE.Color: Alpha component of \" + style + \" will be ignored.\"\n          );\n        }\n      }\n\n      var m;\n\n      if ((m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(style))) {\n        // rgb / hsl\n\n        var color;\n        var name = m[1];\n        var components = m[2];\n\n        switch (name) {\n          case \"rgb\":\n          case \"rgba\":\n            if (\n              (color =\n                /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(\n                  components\n                ))\n            ) {\n              // rgb(255,0,0) rgba(255,0,0,0.5)\n              this.r = Math.min(255, parseInt(color[1], 10)) / 255;\n              this.g = Math.min(255, parseInt(color[2], 10)) / 255;\n              this.b = Math.min(255, parseInt(color[3], 10)) / 255;\n\n              handleAlpha(color[5]);\n\n              return this;\n            }\n\n            if (\n              (color =\n                /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(\n                  components\n                ))\n            ) {\n              // rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n              this.r = Math.min(100, parseInt(color[1], 10)) / 100;\n              this.g = Math.min(100, parseInt(color[2], 10)) / 100;\n              this.b = Math.min(100, parseInt(color[3], 10)) / 100;\n\n              handleAlpha(color[5]);\n\n              return this;\n            }\n\n            break;\n\n          case \"hsl\":\n          case \"hsla\":\n            if (\n              (color =\n                /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(\n                  components\n                ))\n            ) {\n              // hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n              var h = parseFloat(color[1]) / 360;\n              var s = parseInt(color[2], 10) / 100;\n              var l = parseInt(color[3], 10) / 100;\n\n              handleAlpha(color[5]);\n\n              return this.setHSL(h, s, l);\n            }\n\n            break;\n        }\n      } else if ((m = /^\\#([A-Fa-f0-9]+)$/.exec(style))) {\n        // hex color\n\n        var hex = m[1];\n        var size = hex.length;\n\n        if (size === 3) {\n          // #ff0\n          this.r = parseInt(hex.charAt(0) + hex.charAt(0), 16) / 255;\n          this.g = parseInt(hex.charAt(1) + hex.charAt(1), 16) / 255;\n          this.b = parseInt(hex.charAt(2) + hex.charAt(2), 16) / 255;\n\n          return this;\n        } else if (size === 6) {\n          // #ff0000\n          this.r = parseInt(hex.charAt(0) + hex.charAt(1), 16) / 255;\n          this.g = parseInt(hex.charAt(2) + hex.charAt(3), 16) / 255;\n          this.b = parseInt(hex.charAt(4) + hex.charAt(5), 16) / 255;\n\n          return this;\n        }\n      }\n\n      if (style && style.length > 0) {\n        return this.setColorName(style);\n      }\n\n      return this;\n    },\n\n    setColorName: function (style) {\n      // color keywords\n      var hex = _colorKeywords[style];\n\n      if (hex !== undefined) {\n        // red\n        this.setHex(hex);\n      } else {\n        // unknown color\n        console.warn(\"THREE.Color: Unknown color \" + style);\n      }\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor(this.r, this.g, this.b);\n    },\n\n    copy: function (color) {\n      this.r = color.r;\n      this.g = color.g;\n      this.b = color.b;\n\n      return this;\n    },\n\n    copyGammaToLinear: function (color, gammaFactor) {\n      if (gammaFactor === undefined) {\n        gammaFactor = 2.0;\n      }\n\n      this.r = Math.pow(color.r, gammaFactor);\n      this.g = Math.pow(color.g, gammaFactor);\n      this.b = Math.pow(color.b, gammaFactor);\n\n      return this;\n    },\n\n    copyLinearToGamma: function (color, gammaFactor) {\n      if (gammaFactor === undefined) {\n        gammaFactor = 2.0;\n      }\n\n      var safeInverse = gammaFactor > 0 ? 1.0 / gammaFactor : 1.0;\n\n      this.r = Math.pow(color.r, safeInverse);\n      this.g = Math.pow(color.g, safeInverse);\n      this.b = Math.pow(color.b, safeInverse);\n\n      return this;\n    },\n\n    convertGammaToLinear: function (gammaFactor) {\n      this.copyGammaToLinear(this, gammaFactor);\n\n      return this;\n    },\n\n    convertLinearToGamma: function (gammaFactor) {\n      this.copyLinearToGamma(this, gammaFactor);\n\n      return this;\n    },\n\n    copySRGBToLinear: function (color) {\n      this.r = SRGBToLinear(color.r);\n      this.g = SRGBToLinear(color.g);\n      this.b = SRGBToLinear(color.b);\n\n      return this;\n    },\n\n    copyLinearToSRGB: function (color) {\n      this.r = LinearToSRGB(color.r);\n      this.g = LinearToSRGB(color.g);\n      this.b = LinearToSRGB(color.b);\n\n      return this;\n    },\n\n    convertSRGBToLinear: function () {\n      this.copySRGBToLinear(this);\n\n      return this;\n    },\n\n    convertLinearToSRGB: function () {\n      this.copyLinearToSRGB(this);\n\n      return this;\n    },\n\n    getHex: function () {\n      return (\n        ((this.r * 255) << 16) ^ ((this.g * 255) << 8) ^ ((this.b * 255) << 0)\n      );\n    },\n\n    getHexString: function () {\n      return (\"000000\" + this.getHex().toString(16)).slice(-6);\n    },\n\n    getHSL: function (target) {\n      // h,s,l ranges are in 0.0 - 1.0\n\n      if (target === undefined) {\n        console.warn(\"THREE.Color: .getHSL() target is now required\");\n        target = {\n          h: 0,\n          s: 0,\n          l: 0,\n        };\n      }\n\n      var r = this.r,\n        g = this.g,\n        b = this.b;\n\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n\n      var hue, saturation;\n      var lightness = (min + max) / 2.0;\n\n      if (min === max) {\n        hue = 0;\n        saturation = 0;\n      } else {\n        var delta = max - min;\n\n        saturation =\n          lightness <= 0.5 ? delta / (max + min) : delta / (2 - max - min);\n\n        switch (max) {\n          case r:\n            hue = (g - b) / delta + (g < b ? 6 : 0);\n            break;\n          case g:\n            hue = (b - r) / delta + 2;\n            break;\n          case b:\n            hue = (r - g) / delta + 4;\n            break;\n        }\n\n        hue /= 6;\n      }\n\n      target.h = hue;\n      target.s = saturation;\n      target.l = lightness;\n\n      return target;\n    },\n\n    getStyle: function () {\n      return (\n        \"rgb(\" +\n        ((this.r * 255) | 0) +\n        \",\" +\n        ((this.g * 255) | 0) +\n        \",\" +\n        ((this.b * 255) | 0) +\n        \")\"\n      );\n    },\n\n    offsetHSL: function (h, s, l) {\n      this.getHSL(_hslA);\n\n      _hslA.h += h;\n      _hslA.s += s;\n      _hslA.l += l;\n\n      this.setHSL(_hslA.h, _hslA.s, _hslA.l);\n\n      return this;\n    },\n\n    add: function (color) {\n      this.r += color.r;\n      this.g += color.g;\n      this.b += color.b;\n\n      return this;\n    },\n\n    addColors: function (color1, color2) {\n      this.r = color1.r + color2.r;\n      this.g = color1.g + color2.g;\n      this.b = color1.b + color2.b;\n\n      return this;\n    },\n\n    addScalar: function (s) {\n      this.r += s;\n      this.g += s;\n      this.b += s;\n\n      return this;\n    },\n\n    sub: function (color) {\n      this.r = Math.max(0, this.r - color.r);\n      this.g = Math.max(0, this.g - color.g);\n      this.b = Math.max(0, this.b - color.b);\n\n      return this;\n    },\n\n    multiply: function (color) {\n      this.r *= color.r;\n      this.g *= color.g;\n      this.b *= color.b;\n\n      return this;\n    },\n\n    multiplyScalar: function (s) {\n      this.r *= s;\n      this.g *= s;\n      this.b *= s;\n\n      return this;\n    },\n\n    lerp: function (color, alpha) {\n      this.r += (color.r - this.r) * alpha;\n      this.g += (color.g - this.g) * alpha;\n      this.b += (color.b - this.b) * alpha;\n\n      return this;\n    },\n\n    lerpHSL: function (color, alpha) {\n      this.getHSL(_hslA);\n      color.getHSL(_hslB);\n\n      var h = _Math.lerp(_hslA.h, _hslB.h, alpha);\n      var s = _Math.lerp(_hslA.s, _hslB.s, alpha);\n      var l = _Math.lerp(_hslA.l, _hslB.l, alpha);\n\n      this.setHSL(h, s, l);\n\n      return this;\n    },\n\n    equals: function (c) {\n      return c.r === this.r && c.g === this.g && c.b === this.b;\n    },\n\n    fromArray: function (array, offset) {\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this.r = array[offset];\n      this.g = array[offset + 1];\n      this.b = array[offset + 2];\n\n      return this;\n    },\n\n    toArray: function (array, offset) {\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      array[offset] = this.r;\n      array[offset + 1] = this.g;\n      array[offset + 2] = this.b;\n\n      return array;\n    },\n\n    toJSON: function () {\n      return this.getHex();\n    },\n  });\n\n  Color.NAMES = _colorKeywords;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Face3(a, b, c, normal, color, materialIndex) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n\n    this.normal = normal && normal.isVector3 ? normal : new Vector3();\n    this.vertexNormals = Array.isArray(normal) ? normal : [];\n\n    this.color = color && color.isColor ? color : new Color();\n    this.vertexColors = Array.isArray(color) ? color : [];\n\n    this.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n  }\n\n  Object.assign(Face3.prototype, {\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (source) {\n      this.a = source.a;\n      this.b = source.b;\n      this.c = source.c;\n\n      this.normal.copy(source.normal);\n      this.color.copy(source.color);\n\n      this.materialIndex = source.materialIndex;\n\n      for (var i = 0, il = source.vertexNormals.length; i < il; i++) {\n        this.vertexNormals[i] = source.vertexNormals[i].clone();\n      }\n\n      for (var i = 0, il = source.vertexColors.length; i < il; i++) {\n        this.vertexColors[i] = source.vertexColors[i].clone();\n      }\n\n      return this;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  var materialId = 0;\n\n  function Material() {\n    Object.defineProperty(this, \"id\", {\n      value: materialId++,\n    });\n\n    this.uuid = _Math.generateUUID();\n\n    this.name = \"\";\n    this.type = \"Material\";\n\n    this.fog = true;\n\n    this.blending = NormalBlending;\n    this.side = FrontSide;\n    this.flatShading = false;\n    this.vertexTangents = false;\n    this.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\n\n    this.opacity = 1;\n    this.transparent = false;\n\n    this.blendSrc = SrcAlphaFactor;\n    this.blendDst = OneMinusSrcAlphaFactor;\n    this.blendEquation = AddEquation;\n    this.blendSrcAlpha = null;\n    this.blendDstAlpha = null;\n    this.blendEquationAlpha = null;\n\n    this.depthFunc = LessEqualDepth;\n    this.depthTest = true;\n    this.depthWrite = true;\n\n    this.stencilWriteMask = 0xff;\n    this.stencilFunc = AlwaysStencilFunc;\n    this.stencilRef = 0;\n    this.stencilFuncMask = 0xff;\n    this.stencilFail = KeepStencilOp;\n    this.stencilZFail = KeepStencilOp;\n    this.stencilZPass = KeepStencilOp;\n    this.stencilWrite = false;\n\n    this.clippingPlanes = null;\n    this.clipIntersection = false;\n    this.clipShadows = false;\n\n    this.shadowSide = null;\n\n    this.colorWrite = true;\n\n    this.precision = null; // override the renderer's default precision for this material\n\n    this.polygonOffset = false;\n    this.polygonOffsetFactor = 0;\n    this.polygonOffsetUnits = 0;\n\n    this.dithering = false;\n\n    this.alphaTest = 0;\n    this.premultipliedAlpha = false;\n\n    this.visible = true;\n\n    this.toneMapped = true;\n\n    this.userData = {};\n\n    this.version = 0;\n  }\n\n  Material.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n    constructor: Material,\n\n    isMaterial: true,\n\n    onBeforeCompile: function () {},\n\n    setValues: function (values) {\n      if (values === undefined) {\n        return;\n      }\n\n      for (var key in values) {\n        var newValue = values[key];\n\n        if (newValue === undefined) {\n          console.warn(\"THREE.Material: '\" + key + \"' parameter is undefined.\");\n          continue;\n        }\n\n        // for backward compatability if shading is set in the constructor\n        if (key === \"shading\") {\n          console.warn(\n            \"THREE.\" +\n              this.type +\n              \": .shading has been removed. Use the boolean .flatShading instead.\"\n          );\n          this.flatShading = newValue === FlatShading ? true : false;\n          continue;\n        }\n\n        var currentValue = this[key];\n\n        if (currentValue === undefined) {\n          console.warn(\n            \"THREE.\" +\n              this.type +\n              \": '\" +\n              key +\n              \"' is not a property of this material.\"\n          );\n          continue;\n        }\n\n        if (currentValue && currentValue.isColor) {\n          currentValue.set(newValue);\n        } else if (\n          currentValue &&\n          currentValue.isVector3 &&\n          newValue &&\n          newValue.isVector3\n        ) {\n          currentValue.copy(newValue);\n        } else {\n          this[key] = newValue;\n        }\n      }\n    },\n\n    toJSON: function (meta) {\n      var isRoot = meta === undefined || typeof meta === \"string\";\n\n      if (isRoot) {\n        meta = {\n          textures: {},\n          images: {},\n        };\n      }\n\n      var data = {\n        metadata: {\n          version: 4.5,\n          type: \"Material\",\n          generator: \"Material.toJSON\",\n        },\n      };\n\n      // standard Material serialization\n      data.uuid = this.uuid;\n      data.type = this.type;\n\n      if (this.name !== \"\") {\n        data.name = this.name;\n      }\n\n      if (this.color && this.color.isColor) {\n        data.color = this.color.getHex();\n      }\n\n      if (this.roughness !== undefined) {\n        data.roughness = this.roughness;\n      }\n      if (this.metalness !== undefined) {\n        data.metalness = this.metalness;\n      }\n\n      if (this.sheen && this.sheen.isColor) {\n        data.sheen = this.sheen.getHex();\n      }\n      if (this.emissive && this.emissive.isColor) {\n        data.emissive = this.emissive.getHex();\n      }\n      if (this.emissiveIntensity && this.emissiveIntensity !== 1) {\n        data.emissiveIntensity = this.emissiveIntensity;\n      }\n\n      if (this.specular && this.specular.isColor) {\n        data.specular = this.specular.getHex();\n      }\n      if (this.shininess !== undefined) {\n        data.shininess = this.shininess;\n      }\n      if (this.clearcoat !== undefined) {\n        data.clearcoat = this.clearcoat;\n      }\n      if (this.clearcoatRoughness !== undefined) {\n        data.clearcoatRoughness = this.clearcoatRoughness;\n      }\n\n      if (this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture) {\n        data.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(meta).uuid;\n        data.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n      }\n\n      if (this.map && this.map.isTexture) {\n        data.map = this.map.toJSON(meta).uuid;\n      }\n      if (this.matcap && this.matcap.isTexture) {\n        data.matcap = this.matcap.toJSON(meta).uuid;\n      }\n      if (this.alphaMap && this.alphaMap.isTexture) {\n        data.alphaMap = this.alphaMap.toJSON(meta).uuid;\n      }\n      if (this.lightMap && this.lightMap.isTexture) {\n        data.lightMap = this.lightMap.toJSON(meta).uuid;\n      }\n\n      if (this.aoMap && this.aoMap.isTexture) {\n        data.aoMap = this.aoMap.toJSON(meta).uuid;\n        data.aoMapIntensity = this.aoMapIntensity;\n      }\n\n      if (this.bumpMap && this.bumpMap.isTexture) {\n        data.bumpMap = this.bumpMap.toJSON(meta).uuid;\n        data.bumpScale = this.bumpScale;\n      }\n\n      if (this.normalMap && this.normalMap.isTexture) {\n        data.normalMap = this.normalMap.toJSON(meta).uuid;\n        data.normalMapType = this.normalMapType;\n        data.normalScale = this.normalScale.toArray();\n      }\n\n      if (this.displacementMap && this.displacementMap.isTexture) {\n        data.displacementMap = this.displacementMap.toJSON(meta).uuid;\n        data.displacementScale = this.displacementScale;\n        data.displacementBias = this.displacementBias;\n      }\n\n      if (this.roughnessMap && this.roughnessMap.isTexture) {\n        data.roughnessMap = this.roughnessMap.toJSON(meta).uuid;\n      }\n      if (this.metalnessMap && this.metalnessMap.isTexture) {\n        data.metalnessMap = this.metalnessMap.toJSON(meta).uuid;\n      }\n\n      if (this.emissiveMap && this.emissiveMap.isTexture) {\n        data.emissiveMap = this.emissiveMap.toJSON(meta).uuid;\n      }\n      if (this.specularMap && this.specularMap.isTexture) {\n        data.specularMap = this.specularMap.toJSON(meta).uuid;\n      }\n\n      if (this.envMap && this.envMap.isTexture) {\n        data.envMap = this.envMap.toJSON(meta).uuid;\n        data.reflectivity = this.reflectivity; // Scale behind envMap\n        data.refractionRatio = this.refractionRatio;\n\n        if (this.combine !== undefined) {\n          data.combine = this.combine;\n        }\n        if (this.envMapIntensity !== undefined) {\n          data.envMapIntensity = this.envMapIntensity;\n        }\n      }\n\n      if (this.gradientMap && this.gradientMap.isTexture) {\n        data.gradientMap = this.gradientMap.toJSON(meta).uuid;\n      }\n\n      if (this.size !== undefined) {\n        data.size = this.size;\n      }\n      if (this.sizeAttenuation !== undefined) {\n        data.sizeAttenuation = this.sizeAttenuation;\n      }\n\n      if (this.blending !== NormalBlending) {\n        data.blending = this.blending;\n      }\n      if (this.flatShading === true) {\n        data.flatShading = this.flatShading;\n      }\n      if (this.side !== FrontSide) {\n        data.side = this.side;\n      }\n      if (this.vertexColors !== NoColors) {\n        data.vertexColors = this.vertexColors;\n      }\n\n      if (this.opacity < 1) {\n        data.opacity = this.opacity;\n      }\n      if (this.transparent === true) {\n        data.transparent = this.transparent;\n      }\n\n      data.depthFunc = this.depthFunc;\n      data.depthTest = this.depthTest;\n      data.depthWrite = this.depthWrite;\n\n      data.stencilWrite = this.stencilWrite;\n      data.stencilWriteMask = this.stencilWriteMask;\n      data.stencilFunc = this.stencilFunc;\n      data.stencilRef = this.stencilRef;\n      data.stencilFuncMask = this.stencilFuncMask;\n      data.stencilFail = this.stencilFail;\n      data.stencilZFail = this.stencilZFail;\n      data.stencilZPass = this.stencilZPass;\n\n      // rotation (SpriteMaterial)\n      if (this.rotation && this.rotation !== 0) {\n        data.rotation = this.rotation;\n      }\n\n      if (this.polygonOffset === true) {\n        data.polygonOffset = true;\n      }\n      if (this.polygonOffsetFactor !== 0) {\n        data.polygonOffsetFactor = this.polygonOffsetFactor;\n      }\n      if (this.polygonOffsetUnits !== 0) {\n        data.polygonOffsetUnits = this.polygonOffsetUnits;\n      }\n\n      if (this.linewidth && this.linewidth !== 1) {\n        data.linewidth = this.linewidth;\n      }\n      if (this.dashSize !== undefined) {\n        data.dashSize = this.dashSize;\n      }\n      if (this.gapSize !== undefined) {\n        data.gapSize = this.gapSize;\n      }\n      if (this.scale !== undefined) {\n        data.scale = this.scale;\n      }\n\n      if (this.dithering === true) {\n        data.dithering = true;\n      }\n\n      if (this.alphaTest > 0) {\n        data.alphaTest = this.alphaTest;\n      }\n      if (this.premultipliedAlpha === true) {\n        data.premultipliedAlpha = this.premultipliedAlpha;\n      }\n\n      if (this.wireframe === true) {\n        data.wireframe = this.wireframe;\n      }\n      if (this.wireframeLinewidth > 1) {\n        data.wireframeLinewidth = this.wireframeLinewidth;\n      }\n      if (this.wireframeLinecap !== \"round\") {\n        data.wireframeLinecap = this.wireframeLinecap;\n      }\n      if (this.wireframeLinejoin !== \"round\") {\n        data.wireframeLinejoin = this.wireframeLinejoin;\n      }\n\n      if (this.morphTargets === true) {\n        data.morphTargets = true;\n      }\n      if (this.morphNormals === true) {\n        data.morphNormals = true;\n      }\n      if (this.skinning === true) {\n        data.skinning = true;\n      }\n\n      if (this.visible === false) {\n        data.visible = false;\n      }\n\n      if (this.toneMapped === false) {\n        data.toneMapped = false;\n      }\n\n      if (JSON.stringify(this.userData) !== \"{}\") {\n        data.userData = this.userData;\n      }\n\n      // TODO: Copied from Object3D.toJSON\n\n      function extractFromCache(cache) {\n        var values = [];\n\n        for (var key in cache) {\n          var data = cache[key];\n          delete data.metadata;\n          values.push(data);\n        }\n\n        return values;\n      }\n\n      if (isRoot) {\n        var textures = extractFromCache(meta.textures);\n        var images = extractFromCache(meta.images);\n\n        if (textures.length > 0) {\n          data.textures = textures;\n        }\n        if (images.length > 0) {\n          data.images = images;\n        }\n      }\n\n      return data;\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (source) {\n      this.name = source.name;\n\n      this.fog = source.fog;\n\n      this.blending = source.blending;\n      this.side = source.side;\n      this.flatShading = source.flatShading;\n      this.vertexTangents = source.vertexTangents;\n      this.vertexColors = source.vertexColors;\n\n      this.opacity = source.opacity;\n      this.transparent = source.transparent;\n\n      this.blendSrc = source.blendSrc;\n      this.blendDst = source.blendDst;\n      this.blendEquation = source.blendEquation;\n      this.blendSrcAlpha = source.blendSrcAlpha;\n      this.blendDstAlpha = source.blendDstAlpha;\n      this.blendEquationAlpha = source.blendEquationAlpha;\n\n      this.depthFunc = source.depthFunc;\n      this.depthTest = source.depthTest;\n      this.depthWrite = source.depthWrite;\n\n      this.stencilWriteMask = source.stencilWriteMask;\n      this.stencilFunc = source.stencilFunc;\n      this.stencilRef = source.stencilRef;\n      this.stencilFuncMask = source.stencilFuncMask;\n      this.stencilFail = source.stencilFail;\n      this.stencilZFail = source.stencilZFail;\n      this.stencilZPass = source.stencilZPass;\n      this.stencilWrite = source.stencilWrite;\n\n      var srcPlanes = source.clippingPlanes,\n        dstPlanes = null;\n\n      if (srcPlanes !== null) {\n        var n = srcPlanes.length;\n        dstPlanes = new Array(n);\n\n        for (var i = 0; i !== n; ++i) {\n          dstPlanes[i] = srcPlanes[i].clone();\n        }\n      }\n\n      this.clippingPlanes = dstPlanes;\n      this.clipIntersection = source.clipIntersection;\n      this.clipShadows = source.clipShadows;\n\n      this.shadowSide = source.shadowSide;\n\n      this.colorWrite = source.colorWrite;\n\n      this.precision = source.precision;\n\n      this.polygonOffset = source.polygonOffset;\n      this.polygonOffsetFactor = source.polygonOffsetFactor;\n      this.polygonOffsetUnits = source.polygonOffsetUnits;\n\n      this.dithering = source.dithering;\n\n      this.alphaTest = source.alphaTest;\n      this.premultipliedAlpha = source.premultipliedAlpha;\n\n      this.visible = source.visible;\n\n      this.toneMapped = source.toneMapped;\n\n      this.userData = JSON.parse(JSON.stringify(source.userData));\n\n      return this;\n    },\n\n    dispose: function () {\n      this.dispatchEvent({\n        type: \"dispose\",\n      });\n    },\n  });\n\n  Object.defineProperty(Material.prototype, \"needsUpdate\", {\n    set: function (value) {\n      if (value === true) {\n        this.version++;\n      }\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  lightMap: new THREE.Texture( <Image> ),\n   *  lightMapIntensity: <float>\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  specularMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n   *  combine: THREE.Multiply,\n   *  reflectivity: <float>,\n   *  refractionRatio: <float>,\n   *\n   *  depthTest: <bool>,\n   *  depthWrite: <bool>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>\n   * }\n   */\n\n  function MeshBasicMaterial(parameters) {\n    Material.call(this);\n\n    this.type = \"MeshBasicMaterial\";\n\n    this.color = new Color(0xffffff); // emissive\n\n    this.map = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.specularMap = null;\n\n    this.alphaMap = null;\n\n    this.envMap = null;\n    this.combine = MultiplyOperation;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = \"round\";\n    this.wireframeLinejoin = \"round\";\n\n    this.skinning = false;\n    this.morphTargets = false;\n\n    this.setValues(parameters);\n  }\n\n  MeshBasicMaterial.prototype = Object.create(Material.prototype);\n  MeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\n  MeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\n  MeshBasicMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.map = source.map;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.specularMap = source.specularMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n\n    return this;\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _vector$4 = new Vector3();\n\n  function BufferAttribute(array, itemSize, normalized) {\n    if (Array.isArray(array)) {\n      throw new TypeError(\n        \"THREE.BufferAttribute: array should be a Typed Array.\"\n      );\n    }\n\n    this.name = \"\";\n\n    this.array = array;\n    this.itemSize = itemSize;\n    this.count = array !== undefined ? array.length / itemSize : 0;\n    this.normalized = normalized === true;\n\n    this.usage = StaticDrawUsage;\n    this.updateRange = {\n      offset: 0,\n      count: -1,\n    };\n\n    this.version = 0;\n  }\n\n  Object.defineProperty(BufferAttribute.prototype, \"needsUpdate\", {\n    set: function (value) {\n      if (value === true) {\n        this.version++;\n      }\n    },\n  });\n\n  Object.assign(BufferAttribute.prototype, {\n    isBufferAttribute: true,\n\n    onUploadCallback: function () {},\n\n    setUsage: function (value) {\n      this.usage = value;\n\n      return this;\n    },\n\n    copy: function (source) {\n      this.name = source.name;\n      this.array = new source.array.constructor(source.array);\n      this.itemSize = source.itemSize;\n      this.count = source.count;\n      this.normalized = source.normalized;\n\n      this.usage = source.usage;\n\n      return this;\n    },\n\n    copyAt: function (index1, attribute, index2) {\n      index1 *= this.itemSize;\n      index2 *= attribute.itemSize;\n\n      for (var i = 0, l = this.itemSize; i < l; i++) {\n        this.array[index1 + i] = attribute.array[index2 + i];\n      }\n\n      return this;\n    },\n\n    copyArray: function (array) {\n      this.array.set(array);\n\n      return this;\n    },\n\n    copyColorsArray: function (colors) {\n      var array = this.array,\n        offset = 0;\n\n      for (var i = 0, l = colors.length; i < l; i++) {\n        var color = colors[i];\n\n        if (color === undefined) {\n          console.warn(\n            \"THREE.BufferAttribute.copyColorsArray(): color is undefined\",\n            i\n          );\n          color = new Color();\n        }\n\n        array[offset++] = color.r;\n        array[offset++] = color.g;\n        array[offset++] = color.b;\n      }\n\n      return this;\n    },\n\n    copyVector2sArray: function (vectors) {\n      var array = this.array,\n        offset = 0;\n\n      for (var i = 0, l = vectors.length; i < l; i++) {\n        var vector = vectors[i];\n\n        if (vector === undefined) {\n          console.warn(\n            \"THREE.BufferAttribute.copyVector2sArray(): vector is undefined\",\n            i\n          );\n          vector = new Vector2();\n        }\n\n        array[offset++] = vector.x;\n        array[offset++] = vector.y;\n      }\n\n      return this;\n    },\n\n    copyVector3sArray: function (vectors) {\n      var array = this.array,\n        offset = 0;\n\n      for (var i = 0, l = vectors.length; i < l; i++) {\n        var vector = vectors[i];\n\n        if (vector === undefined) {\n          console.warn(\n            \"THREE.BufferAttribute.copyVector3sArray(): vector is undefined\",\n            i\n          );\n          vector = new Vector3();\n        }\n\n        array[offset++] = vector.x;\n        array[offset++] = vector.y;\n        array[offset++] = vector.z;\n      }\n\n      return this;\n    },\n\n    copyVector4sArray: function (vectors) {\n      var array = this.array,\n        offset = 0;\n\n      for (var i = 0, l = vectors.length; i < l; i++) {\n        var vector = vectors[i];\n\n        if (vector === undefined) {\n          console.warn(\n            \"THREE.BufferAttribute.copyVector4sArray(): vector is undefined\",\n            i\n          );\n          vector = new Vector4();\n        }\n\n        array[offset++] = vector.x;\n        array[offset++] = vector.y;\n        array[offset++] = vector.z;\n        array[offset++] = vector.w;\n      }\n\n      return this;\n    },\n\n    applyMatrix3: function (m) {\n      for (var i = 0, l = this.count; i < l; i++) {\n        _vector$4.x = this.getX(i);\n        _vector$4.y = this.getY(i);\n        _vector$4.z = this.getZ(i);\n\n        _vector$4.applyMatrix3(m);\n\n        this.setXYZ(i, _vector$4.x, _vector$4.y, _vector$4.z);\n      }\n\n      return this;\n    },\n\n    applyMatrix4: function (m) {\n      for (var i = 0, l = this.count; i < l; i++) {\n        _vector$4.x = this.getX(i);\n        _vector$4.y = this.getY(i);\n        _vector$4.z = this.getZ(i);\n\n        _vector$4.applyMatrix4(m);\n\n        this.setXYZ(i, _vector$4.x, _vector$4.y, _vector$4.z);\n      }\n\n      return this;\n    },\n\n    applyNormalMatrix: function (m) {\n      for (var i = 0, l = this.count; i < l; i++) {\n        _vector$4.x = this.getX(i);\n        _vector$4.y = this.getY(i);\n        _vector$4.z = this.getZ(i);\n\n        _vector$4.applyNormalMatrix(m);\n\n        this.setXYZ(i, _vector$4.x, _vector$4.y, _vector$4.z);\n      }\n\n      return this;\n    },\n\n    transformDirection: function (m) {\n      for (var i = 0, l = this.count; i < l; i++) {\n        _vector$4.x = this.getX(i);\n        _vector$4.y = this.getY(i);\n        _vector$4.z = this.getZ(i);\n\n        _vector$4.transformDirection(m);\n\n        this.setXYZ(i, _vector$4.x, _vector$4.y, _vector$4.z);\n      }\n\n      return this;\n    },\n\n    set: function (value, offset) {\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this.array.set(value, offset);\n\n      return this;\n    },\n\n    getX: function (index) {\n      return this.array[index * this.itemSize];\n    },\n\n    setX: function (index, x) {\n      this.array[index * this.itemSize] = x;\n\n      return this;\n    },\n\n    getY: function (index) {\n      return this.array[index * this.itemSize + 1];\n    },\n\n    setY: function (index, y) {\n      this.array[index * this.itemSize + 1] = y;\n\n      return this;\n    },\n\n    getZ: function (index) {\n      return this.array[index * this.itemSize + 2];\n    },\n\n    setZ: function (index, z) {\n      this.array[index * this.itemSize + 2] = z;\n\n      return this;\n    },\n\n    getW: function (index) {\n      return this.array[index * this.itemSize + 3];\n    },\n\n    setW: function (index, w) {\n      this.array[index * this.itemSize + 3] = w;\n\n      return this;\n    },\n\n    setXY: function (index, x, y) {\n      index *= this.itemSize;\n\n      this.array[index + 0] = x;\n      this.array[index + 1] = y;\n\n      return this;\n    },\n\n    setXYZ: function (index, x, y, z) {\n      index *= this.itemSize;\n\n      this.array[index + 0] = x;\n      this.array[index + 1] = y;\n      this.array[index + 2] = z;\n\n      return this;\n    },\n\n    setXYZW: function (index, x, y, z, w) {\n      index *= this.itemSize;\n\n      this.array[index + 0] = x;\n      this.array[index + 1] = y;\n      this.array[index + 2] = z;\n      this.array[index + 3] = w;\n\n      return this;\n    },\n\n    onUpload: function (callback) {\n      this.onUploadCallback = callback;\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor(this.array, this.itemSize).copy(this);\n    },\n\n    toJSON: function () {\n      return {\n        itemSize: this.itemSize,\n        type: this.array.constructor.name,\n        array: Array.prototype.slice.call(this.array),\n        normalized: this.normalized,\n      };\n    },\n  });\n\n  //\n\n  function Int8BufferAttribute(array, itemSize, normalized) {\n    BufferAttribute.call(this, new Int8Array(array), itemSize, normalized);\n  }\n\n  Int8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Int8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n  function Uint8BufferAttribute(array, itemSize, normalized) {\n    BufferAttribute.call(this, new Uint8Array(array), itemSize, normalized);\n  }\n\n  Uint8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Uint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n  function Uint8ClampedBufferAttribute(array, itemSize, normalized) {\n    BufferAttribute.call(\n      this,\n      new Uint8ClampedArray(array),\n      itemSize,\n      normalized\n    );\n  }\n\n  Uint8ClampedBufferAttribute.prototype = Object.create(\n    BufferAttribute.prototype\n  );\n  Uint8ClampedBufferAttribute.prototype.constructor =\n    Uint8ClampedBufferAttribute;\n\n  function Int16BufferAttribute(array, itemSize, normalized) {\n    BufferAttribute.call(this, new Int16Array(array), itemSize, normalized);\n  }\n\n  Int16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Int16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n  function Uint16BufferAttribute(array, itemSize, normalized) {\n    BufferAttribute.call(this, new Uint16Array(array), itemSize, normalized);\n  }\n\n  Uint16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Uint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n  function Int32BufferAttribute(array, itemSize, normalized) {\n    BufferAttribute.call(this, new Int32Array(array), itemSize, normalized);\n  }\n\n  Int32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Int32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n  function Uint32BufferAttribute(array, itemSize, normalized) {\n    BufferAttribute.call(this, new Uint32Array(array), itemSize, normalized);\n  }\n\n  Uint32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Uint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n  function Float32BufferAttribute(array, itemSize, normalized) {\n    BufferAttribute.call(this, new Float32Array(array), itemSize, normalized);\n  }\n\n  Float32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Float32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n  function Float64BufferAttribute(array, itemSize, normalized) {\n    BufferAttribute.call(this, new Float64Array(array), itemSize, normalized);\n  }\n\n  Float64BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n  Float64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function DirectGeometry() {\n    this.vertices = [];\n    this.normals = [];\n    this.colors = [];\n    this.uvs = [];\n    this.uvs2 = [];\n\n    this.groups = [];\n\n    this.morphTargets = {};\n\n    this.skinWeights = [];\n    this.skinIndices = [];\n\n    // this.lineDistances = [];\n\n    this.boundingBox = null;\n    this.boundingSphere = null;\n\n    // update flags\n\n    this.verticesNeedUpdate = false;\n    this.normalsNeedUpdate = false;\n    this.colorsNeedUpdate = false;\n    this.uvsNeedUpdate = false;\n    this.groupsNeedUpdate = false;\n  }\n\n  Object.assign(DirectGeometry.prototype, {\n    computeGroups: function (geometry) {\n      var group;\n      var groups = [];\n      var materialIndex = undefined;\n\n      var faces = geometry.faces;\n\n      for (var i = 0; i < faces.length; i++) {\n        var face = faces[i];\n\n        // materials\n\n        if (face.materialIndex !== materialIndex) {\n          materialIndex = face.materialIndex;\n\n          if (group !== undefined) {\n            group.count = i * 3 - group.start;\n            groups.push(group);\n          }\n\n          group = {\n            start: i * 3,\n            materialIndex: materialIndex,\n          };\n        }\n      }\n\n      if (group !== undefined) {\n        group.count = i * 3 - group.start;\n        groups.push(group);\n      }\n\n      this.groups = groups;\n    },\n\n    fromGeometry: function (geometry) {\n      var faces = geometry.faces;\n      var vertices = geometry.vertices;\n      var faceVertexUvs = geometry.faceVertexUvs;\n\n      var hasFaceVertexUv = faceVertexUvs[0] && faceVertexUvs[0].length > 0;\n      var hasFaceVertexUv2 = faceVertexUvs[1] && faceVertexUvs[1].length > 0;\n\n      // morphs\n\n      var morphTargets = geometry.morphTargets;\n      var morphTargetsLength = morphTargets.length;\n\n      var morphTargetsPosition;\n\n      if (morphTargetsLength > 0) {\n        morphTargetsPosition = [];\n\n        for (var i = 0; i < morphTargetsLength; i++) {\n          morphTargetsPosition[i] = {\n            name: morphTargets[i].name,\n            data: [],\n          };\n        }\n\n        this.morphTargets.position = morphTargetsPosition;\n      }\n\n      var morphNormals = geometry.morphNormals;\n      var morphNormalsLength = morphNormals.length;\n\n      var morphTargetsNormal;\n\n      if (morphNormalsLength > 0) {\n        morphTargetsNormal = [];\n\n        for (var i = 0; i < morphNormalsLength; i++) {\n          morphTargetsNormal[i] = {\n            name: morphNormals[i].name,\n            data: [],\n          };\n        }\n\n        this.morphTargets.normal = morphTargetsNormal;\n      }\n\n      // skins\n\n      var skinIndices = geometry.skinIndices;\n      var skinWeights = geometry.skinWeights;\n\n      var hasSkinIndices = skinIndices.length === vertices.length;\n      var hasSkinWeights = skinWeights.length === vertices.length;\n\n      //\n\n      if (vertices.length > 0 && faces.length === 0) {\n        console.error(\n          \"THREE.DirectGeometry: Faceless geometries are not supported.\"\n        );\n      }\n\n      for (var i = 0; i < faces.length; i++) {\n        var face = faces[i];\n\n        this.vertices.push(\n          vertices[face.a],\n          vertices[face.b],\n          vertices[face.c]\n        );\n\n        var vertexNormals = face.vertexNormals;\n\n        if (vertexNormals.length === 3) {\n          this.normals.push(\n            vertexNormals[0],\n            vertexNormals[1],\n            vertexNormals[2]\n          );\n        } else {\n          var normal = face.normal;\n\n          this.normals.push(normal, normal, normal);\n        }\n\n        var vertexColors = face.vertexColors;\n\n        if (vertexColors.length === 3) {\n          this.colors.push(vertexColors[0], vertexColors[1], vertexColors[2]);\n        } else {\n          var color = face.color;\n\n          this.colors.push(color, color, color);\n        }\n\n        if (hasFaceVertexUv === true) {\n          var vertexUvs = faceVertexUvs[0][i];\n\n          if (vertexUvs !== undefined) {\n            this.uvs.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);\n          } else {\n            console.warn(\n              \"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv \",\n              i\n            );\n\n            this.uvs.push(new Vector2(), new Vector2(), new Vector2());\n          }\n        }\n\n        if (hasFaceVertexUv2 === true) {\n          var vertexUvs = faceVertexUvs[1][i];\n\n          if (vertexUvs !== undefined) {\n            this.uvs2.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);\n          } else {\n            console.warn(\n              \"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 \",\n              i\n            );\n\n            this.uvs2.push(new Vector2(), new Vector2(), new Vector2());\n          }\n        }\n\n        // morphs\n\n        for (var j = 0; j < morphTargetsLength; j++) {\n          var morphTarget = morphTargets[j].vertices;\n\n          morphTargetsPosition[j].data.push(\n            morphTarget[face.a],\n            morphTarget[face.b],\n            morphTarget[face.c]\n          );\n        }\n\n        for (var j = 0; j < morphNormalsLength; j++) {\n          var morphNormal = morphNormals[j].vertexNormals[i];\n\n          morphTargetsNormal[j].data.push(\n            morphNormal.a,\n            morphNormal.b,\n            morphNormal.c\n          );\n        }\n\n        // skins\n\n        if (hasSkinIndices) {\n          this.skinIndices.push(\n            skinIndices[face.a],\n            skinIndices[face.b],\n            skinIndices[face.c]\n          );\n        }\n\n        if (hasSkinWeights) {\n          this.skinWeights.push(\n            skinWeights[face.a],\n            skinWeights[face.b],\n            skinWeights[face.c]\n          );\n        }\n      }\n\n      this.computeGroups(geometry);\n\n      this.verticesNeedUpdate = geometry.verticesNeedUpdate;\n      this.normalsNeedUpdate = geometry.normalsNeedUpdate;\n      this.colorsNeedUpdate = geometry.colorsNeedUpdate;\n      this.uvsNeedUpdate = geometry.uvsNeedUpdate;\n      this.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n      if (geometry.boundingSphere !== null) {\n        this.boundingSphere = geometry.boundingSphere.clone();\n      }\n\n      if (geometry.boundingBox !== null) {\n        this.boundingBox = geometry.boundingBox.clone();\n      }\n\n      return this;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function arrayMax(array) {\n    if (array.length === 0) {\n      return -Infinity;\n    }\n\n    var max = array[0];\n\n    for (var i = 1, l = array.length; i < l; ++i) {\n      if (array[i] > max) {\n        max = array[i];\n      }\n    }\n\n    return max;\n  }\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\n  var _m1$2 = new Matrix4();\n  var _obj = new Object3D();\n  var _offset = new Vector3();\n  var _box$2 = new Box3();\n  var _boxMorphTargets = new Box3();\n  var _vector$5 = new Vector3();\n\n  function BufferGeometry() {\n    Object.defineProperty(this, \"id\", {\n      value: (_bufferGeometryId += 2),\n    });\n\n    this.uuid = _Math.generateUUID();\n\n    this.name = \"\";\n    this.type = \"BufferGeometry\";\n\n    this.index = null;\n    this.attributes = {};\n\n    this.morphAttributes = {};\n    this.morphTargetsRelative = false;\n\n    this.groups = [];\n\n    this.boundingBox = null;\n    this.boundingSphere = null;\n\n    this.drawRange = {\n      start: 0,\n      count: Infinity,\n    };\n\n    this.userData = {};\n  }\n\n  BufferGeometry.prototype = Object.assign(\n    Object.create(EventDispatcher.prototype),\n    {\n      constructor: BufferGeometry,\n\n      isBufferGeometry: true,\n\n      getIndex: function () {\n        return this.index;\n      },\n\n      setIndex: function (index) {\n        if (Array.isArray(index)) {\n          this.index = new (\n            arrayMax(index) > 65535\n              ? Uint32BufferAttribute\n              : Uint16BufferAttribute\n          )(index, 1);\n        } else {\n          this.index = index;\n        }\n      },\n\n      getAttribute: function (name) {\n        return this.attributes[name];\n      },\n\n      setAttribute: function (name, attribute) {\n        this.attributes[name] = attribute;\n\n        return this;\n      },\n\n      deleteAttribute: function (name) {\n        delete this.attributes[name];\n\n        return this;\n      },\n\n      addGroup: function (start, count, materialIndex) {\n        this.groups.push({\n          start: start,\n          count: count,\n          materialIndex: materialIndex !== undefined ? materialIndex : 0,\n        });\n      },\n\n      clearGroups: function () {\n        this.groups = [];\n      },\n\n      setDrawRange: function (start, count) {\n        this.drawRange.start = start;\n        this.drawRange.count = count;\n      },\n\n      applyMatrix: function (matrix) {\n        var position = this.attributes.position;\n\n        if (position !== undefined) {\n          position.applyMatrix4(matrix);\n\n          position.needsUpdate = true;\n        }\n\n        var normal = this.attributes.normal;\n\n        if (normal !== undefined) {\n          var normalMatrix = new Matrix3().getNormalMatrix(matrix);\n\n          normal.applyNormalMatrix(normalMatrix);\n\n          normal.needsUpdate = true;\n        }\n\n        var tangent = this.attributes.tangent;\n\n        if (tangent !== undefined) {\n          tangent.transformDirection(matrix);\n\n          tangent.needsUpdate = true;\n        }\n\n        if (this.boundingBox !== null) {\n          this.computeBoundingBox();\n        }\n\n        if (this.boundingSphere !== null) {\n          this.computeBoundingSphere();\n        }\n\n        return this;\n      },\n\n      rotateX: function (angle) {\n        // rotate geometry around world x-axis\n\n        _m1$2.makeRotationX(angle);\n\n        this.applyMatrix(_m1$2);\n\n        return this;\n      },\n\n      rotateY: function (angle) {\n        // rotate geometry around world y-axis\n\n        _m1$2.makeRotationY(angle);\n\n        this.applyMatrix(_m1$2);\n\n        return this;\n      },\n\n      rotateZ: function (angle) {\n        // rotate geometry around world z-axis\n\n        _m1$2.makeRotationZ(angle);\n\n        this.applyMatrix(_m1$2);\n\n        return this;\n      },\n\n      translate: function (x, y, z) {\n        // translate geometry\n\n        _m1$2.makeTranslation(x, y, z);\n\n        this.applyMatrix(_m1$2);\n\n        return this;\n      },\n\n      scale: function (x, y, z) {\n        // scale geometry\n\n        _m1$2.makeScale(x, y, z);\n\n        this.applyMatrix(_m1$2);\n\n        return this;\n      },\n\n      lookAt: function (vector) {\n        _obj.lookAt(vector);\n\n        _obj.updateMatrix();\n\n        this.applyMatrix(_obj.matrix);\n\n        return this;\n      },\n\n      center: function () {\n        this.computeBoundingBox();\n\n        this.boundingBox.getCenter(_offset).negate();\n\n        this.translate(_offset.x, _offset.y, _offset.z);\n\n        return this;\n      },\n\n      setFromObject: function (object) {\n        // console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n        var geometry = object.geometry;\n\n        if (object.isPoints || object.isLine) {\n          var positions = new Float32BufferAttribute(\n            geometry.vertices.length * 3,\n            3\n          );\n          var colors = new Float32BufferAttribute(\n            geometry.colors.length * 3,\n            3\n          );\n\n          this.setAttribute(\n            \"position\",\n            positions.copyVector3sArray(geometry.vertices)\n          );\n          this.setAttribute(\"color\", colors.copyColorsArray(geometry.colors));\n\n          if (\n            geometry.lineDistances &&\n            geometry.lineDistances.length === geometry.vertices.length\n          ) {\n            var lineDistances = new Float32BufferAttribute(\n              geometry.lineDistances.length,\n              1\n            );\n\n            this.setAttribute(\n              \"lineDistance\",\n              lineDistances.copyArray(geometry.lineDistances)\n            );\n          }\n\n          if (geometry.boundingSphere !== null) {\n            this.boundingSphere = geometry.boundingSphere.clone();\n          }\n\n          if (geometry.boundingBox !== null) {\n            this.boundingBox = geometry.boundingBox.clone();\n          }\n        } else if (object.isMesh) {\n          if (geometry && geometry.isGeometry) {\n            this.fromGeometry(geometry);\n          }\n        }\n\n        return this;\n      },\n\n      setFromPoints: function (points) {\n        var position = [];\n\n        for (var i = 0, l = points.length; i < l; i++) {\n          var point = points[i];\n          position.push(point.x, point.y, point.z || 0);\n        }\n\n        this.setAttribute(\"position\", new Float32BufferAttribute(position, 3));\n\n        return this;\n      },\n\n      updateFromObject: function (object) {\n        var geometry = object.geometry;\n\n        if (object.isMesh) {\n          var direct = geometry.__directGeometry;\n\n          if (geometry.elementsNeedUpdate === true) {\n            direct = undefined;\n            geometry.elementsNeedUpdate = false;\n          }\n\n          if (direct === undefined) {\n            return this.fromGeometry(geometry);\n          }\n\n          direct.verticesNeedUpdate = geometry.verticesNeedUpdate;\n          direct.normalsNeedUpdate = geometry.normalsNeedUpdate;\n          direct.colorsNeedUpdate = geometry.colorsNeedUpdate;\n          direct.uvsNeedUpdate = geometry.uvsNeedUpdate;\n          direct.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n          geometry.verticesNeedUpdate = false;\n          geometry.normalsNeedUpdate = false;\n          geometry.colorsNeedUpdate = false;\n          geometry.uvsNeedUpdate = false;\n          geometry.groupsNeedUpdate = false;\n\n          geometry = direct;\n        }\n\n        var attribute;\n\n        if (geometry.verticesNeedUpdate === true) {\n          attribute = this.attributes.position;\n\n          if (attribute !== undefined) {\n            attribute.copyVector3sArray(geometry.vertices);\n            attribute.needsUpdate = true;\n          }\n\n          geometry.verticesNeedUpdate = false;\n        }\n\n        if (geometry.normalsNeedUpdate === true) {\n          attribute = this.attributes.normal;\n\n          if (attribute !== undefined) {\n            attribute.copyVector3sArray(geometry.normals);\n            attribute.needsUpdate = true;\n          }\n\n          geometry.normalsNeedUpdate = false;\n        }\n\n        if (geometry.colorsNeedUpdate === true) {\n          attribute = this.attributes.color;\n\n          if (attribute !== undefined) {\n            attribute.copyColorsArray(geometry.colors);\n            attribute.needsUpdate = true;\n          }\n\n          geometry.colorsNeedUpdate = false;\n        }\n\n        if (geometry.uvsNeedUpdate) {\n          attribute = this.attributes.uv;\n\n          if (attribute !== undefined) {\n            attribute.copyVector2sArray(geometry.uvs);\n            attribute.needsUpdate = true;\n          }\n\n          geometry.uvsNeedUpdate = false;\n        }\n\n        if (geometry.lineDistancesNeedUpdate) {\n          attribute = this.attributes.lineDistance;\n\n          if (attribute !== undefined) {\n            attribute.copyArray(geometry.lineDistances);\n            attribute.needsUpdate = true;\n          }\n\n          geometry.lineDistancesNeedUpdate = false;\n        }\n\n        if (geometry.groupsNeedUpdate) {\n          geometry.computeGroups(object.geometry);\n          this.groups = geometry.groups;\n\n          geometry.groupsNeedUpdate = false;\n        }\n\n        return this;\n      },\n\n      fromGeometry: function (geometry) {\n        geometry.__directGeometry = new DirectGeometry().fromGeometry(geometry);\n\n        return this.fromDirectGeometry(geometry.__directGeometry);\n      },\n\n      fromDirectGeometry: function (geometry) {\n        var positions = new Float32Array(geometry.vertices.length * 3);\n        this.setAttribute(\n          \"position\",\n          new BufferAttribute(positions, 3).copyVector3sArray(geometry.vertices)\n        );\n\n        if (geometry.normals.length > 0) {\n          var normals = new Float32Array(geometry.normals.length * 3);\n          this.setAttribute(\n            \"normal\",\n            new BufferAttribute(normals, 3).copyVector3sArray(geometry.normals)\n          );\n        }\n\n        if (geometry.colors.length > 0) {\n          var colors = new Float32Array(geometry.colors.length * 3);\n          this.setAttribute(\n            \"color\",\n            new BufferAttribute(colors, 3).copyColorsArray(geometry.colors)\n          );\n        }\n\n        if (geometry.uvs.length > 0) {\n          var uvs = new Float32Array(geometry.uvs.length * 2);\n          this.setAttribute(\n            \"uv\",\n            new BufferAttribute(uvs, 2).copyVector2sArray(geometry.uvs)\n          );\n        }\n\n        if (geometry.uvs2.length > 0) {\n          var uvs2 = new Float32Array(geometry.uvs2.length * 2);\n          this.setAttribute(\n            \"uv2\",\n            new BufferAttribute(uvs2, 2).copyVector2sArray(geometry.uvs2)\n          );\n        }\n\n        // groups\n\n        this.groups = geometry.groups;\n\n        // morphs\n\n        for (var name in geometry.morphTargets) {\n          var array = [];\n          var morphTargets = geometry.morphTargets[name];\n\n          for (var i = 0, l = morphTargets.length; i < l; i++) {\n            var morphTarget = morphTargets[i];\n\n            var attribute = new Float32BufferAttribute(\n              morphTarget.data.length * 3,\n              3\n            );\n            attribute.name = morphTarget.name;\n\n            array.push(attribute.copyVector3sArray(morphTarget.data));\n          }\n\n          this.morphAttributes[name] = array;\n        }\n\n        // skinning\n\n        if (geometry.skinIndices.length > 0) {\n          var skinIndices = new Float32BufferAttribute(\n            geometry.skinIndices.length * 4,\n            4\n          );\n          this.setAttribute(\n            \"skinIndex\",\n            skinIndices.copyVector4sArray(geometry.skinIndices)\n          );\n        }\n\n        if (geometry.skinWeights.length > 0) {\n          var skinWeights = new Float32BufferAttribute(\n            geometry.skinWeights.length * 4,\n            4\n          );\n          this.setAttribute(\n            \"skinWeight\",\n            skinWeights.copyVector4sArray(geometry.skinWeights)\n          );\n        }\n\n        //\n\n        if (geometry.boundingSphere !== null) {\n          this.boundingSphere = geometry.boundingSphere.clone();\n        }\n\n        if (geometry.boundingBox !== null) {\n          this.boundingBox = geometry.boundingBox.clone();\n        }\n\n        return this;\n      },\n\n      computeBoundingBox: function () {\n        if (this.boundingBox === null) {\n          this.boundingBox = new Box3();\n        }\n\n        var position = this.attributes.position;\n        var morphAttributesPosition = this.morphAttributes.position;\n\n        if (position !== undefined) {\n          this.boundingBox.setFromBufferAttribute(position);\n\n          // process morph attributes if present\n\n          if (morphAttributesPosition) {\n            for (var i = 0, il = morphAttributesPosition.length; i < il; i++) {\n              var morphAttribute = morphAttributesPosition[i];\n              _box$2.setFromBufferAttribute(morphAttribute);\n\n              if (this.morphTargetsRelative) {\n                _vector$5.addVectors(this.boundingBox.min, _box$2.min);\n                this.boundingBox.expandByPoint(_vector$5);\n\n                _vector$5.addVectors(this.boundingBox.max, _box$2.max);\n                this.boundingBox.expandByPoint(_vector$5);\n              } else {\n                this.boundingBox.expandByPoint(_box$2.min);\n                this.boundingBox.expandByPoint(_box$2.max);\n              }\n            }\n          }\n        } else {\n          this.boundingBox.makeEmpty();\n        }\n\n        if (\n          isNaN(this.boundingBox.min.x) ||\n          isNaN(this.boundingBox.min.y) ||\n          isNaN(this.boundingBox.min.z)\n        ) {\n          console.error(\n            'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.',\n            this\n          );\n        }\n      },\n\n      computeBoundingSphere: function () {\n        if (this.boundingSphere === null) {\n          this.boundingSphere = new Sphere();\n        }\n\n        var position = this.attributes.position;\n        var morphAttributesPosition = this.morphAttributes.position;\n\n        if (position) {\n          // first, find the center of the bounding sphere\n\n          var center = this.boundingSphere.center;\n\n          _box$2.setFromBufferAttribute(position);\n\n          // process morph attributes if present\n\n          if (morphAttributesPosition) {\n            for (var i = 0, il = morphAttributesPosition.length; i < il; i++) {\n              var morphAttribute = morphAttributesPosition[i];\n              _boxMorphTargets.setFromBufferAttribute(morphAttribute);\n\n              if (this.morphTargetsRelative) {\n                _vector$5.addVectors(_box$2.min, _boxMorphTargets.min);\n                _box$2.expandByPoint(_vector$5);\n\n                _vector$5.addVectors(_box$2.max, _boxMorphTargets.max);\n                _box$2.expandByPoint(_vector$5);\n              } else {\n                _box$2.expandByPoint(_boxMorphTargets.min);\n                _box$2.expandByPoint(_boxMorphTargets.max);\n              }\n            }\n          }\n\n          _box$2.getCenter(center);\n\n          // second, try to find a boundingSphere with a radius smaller than the\n          // boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n          var maxRadiusSq = 0;\n\n          for (var i = 0, il = position.count; i < il; i++) {\n            _vector$5.fromBufferAttribute(position, i);\n\n            maxRadiusSq = Math.max(\n              maxRadiusSq,\n              center.distanceToSquared(_vector$5)\n            );\n          }\n\n          // process morph attributes if present\n\n          if (morphAttributesPosition) {\n            for (var i = 0, il = morphAttributesPosition.length; i < il; i++) {\n              var morphAttribute = morphAttributesPosition[i];\n              var morphTargetsRelative = this.morphTargetsRelative;\n\n              for (var j = 0, jl = morphAttribute.count; j < jl; j++) {\n                _vector$5.fromBufferAttribute(morphAttribute, j);\n\n                if (morphTargetsRelative) {\n                  _offset.fromBufferAttribute(position, j);\n                  _vector$5.add(_offset);\n                }\n\n                maxRadiusSq = Math.max(\n                  maxRadiusSq,\n                  center.distanceToSquared(_vector$5)\n                );\n              }\n            }\n          }\n\n          this.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n\n          if (isNaN(this.boundingSphere.radius)) {\n            console.error(\n              'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.',\n              this\n            );\n          }\n        }\n      },\n\n      computeFaceNormals: function () {\n        // backwards compatibility\n      },\n\n      computeVertexNormals: function () {\n        var index = this.index;\n        var attributes = this.attributes;\n\n        if (attributes.position) {\n          var positions = attributes.position.array;\n\n          if (attributes.normal === undefined) {\n            this.setAttribute(\n              \"normal\",\n              new BufferAttribute(new Float32Array(positions.length), 3)\n            );\n          } else {\n            // reset existing normals to zero\n\n            var array = attributes.normal.array;\n\n            for (var i = 0, il = array.length; i < il; i++) {\n              array[i] = 0;\n            }\n          }\n\n          var normals = attributes.normal.array;\n\n          var vA, vB, vC;\n          var pA = new Vector3(),\n            pB = new Vector3(),\n            pC = new Vector3();\n          var cb = new Vector3(),\n            ab = new Vector3();\n\n          // indexed elements\n\n          if (index) {\n            var indices = index.array;\n\n            for (var i = 0, il = index.count; i < il; i += 3) {\n              vA = indices[i + 0] * 3;\n              vB = indices[i + 1] * 3;\n              vC = indices[i + 2] * 3;\n\n              pA.fromArray(positions, vA);\n              pB.fromArray(positions, vB);\n              pC.fromArray(positions, vC);\n\n              cb.subVectors(pC, pB);\n              ab.subVectors(pA, pB);\n              cb.cross(ab);\n\n              normals[vA] += cb.x;\n              normals[vA + 1] += cb.y;\n              normals[vA + 2] += cb.z;\n\n              normals[vB] += cb.x;\n              normals[vB + 1] += cb.y;\n              normals[vB + 2] += cb.z;\n\n              normals[vC] += cb.x;\n              normals[vC + 1] += cb.y;\n              normals[vC + 2] += cb.z;\n            }\n          } else {\n            // non-indexed elements (unconnected triangle soup)\n\n            for (var i = 0, il = positions.length; i < il; i += 9) {\n              pA.fromArray(positions, i);\n              pB.fromArray(positions, i + 3);\n              pC.fromArray(positions, i + 6);\n\n              cb.subVectors(pC, pB);\n              ab.subVectors(pA, pB);\n              cb.cross(ab);\n\n              normals[i] = cb.x;\n              normals[i + 1] = cb.y;\n              normals[i + 2] = cb.z;\n\n              normals[i + 3] = cb.x;\n              normals[i + 4] = cb.y;\n              normals[i + 5] = cb.z;\n\n              normals[i + 6] = cb.x;\n              normals[i + 7] = cb.y;\n              normals[i + 8] = cb.z;\n            }\n          }\n\n          this.normalizeNormals();\n\n          attributes.normal.needsUpdate = true;\n        }\n      },\n\n      merge: function (geometry, offset) {\n        if (!(geometry && geometry.isBufferGeometry)) {\n          console.error(\n            \"THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.\",\n            geometry\n          );\n          return;\n        }\n\n        if (offset === undefined) {\n          offset = 0;\n\n          console.warn(\n            \"THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. \" +\n              \"Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.\"\n          );\n        }\n\n        var attributes = this.attributes;\n\n        for (var key in attributes) {\n          if (geometry.attributes[key] === undefined) {\n            continue;\n          }\n\n          var attribute1 = attributes[key];\n          var attributeArray1 = attribute1.array;\n\n          var attribute2 = geometry.attributes[key];\n          var attributeArray2 = attribute2.array;\n\n          var attributeOffset = attribute2.itemSize * offset;\n          var length = Math.min(\n            attributeArray2.length,\n            attributeArray1.length - attributeOffset\n          );\n\n          for (var i = 0, j = attributeOffset; i < length; i++, j++) {\n            attributeArray1[j] = attributeArray2[i];\n          }\n        }\n\n        return this;\n      },\n\n      normalizeNormals: function () {\n        var normals = this.attributes.normal;\n\n        for (var i = 0, il = normals.count; i < il; i++) {\n          _vector$5.x = normals.getX(i);\n          _vector$5.y = normals.getY(i);\n          _vector$5.z = normals.getZ(i);\n\n          _vector$5.normalize();\n\n          normals.setXYZ(i, _vector$5.x, _vector$5.y, _vector$5.z);\n        }\n      },\n\n      toNonIndexed: function () {\n        function convertBufferAttribute(attribute, indices) {\n          var array = attribute.array;\n          var itemSize = attribute.itemSize;\n\n          var array2 = new array.constructor(indices.length * itemSize);\n\n          var index = 0,\n            index2 = 0;\n\n          for (var i = 0, l = indices.length; i < l; i++) {\n            index = indices[i] * itemSize;\n\n            for (var j = 0; j < itemSize; j++) {\n              array2[index2++] = array[index++];\n            }\n          }\n\n          return new BufferAttribute(array2, itemSize);\n        }\n\n        //\n\n        if (this.index === null) {\n          console.warn(\n            \"THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.\"\n          );\n          return this;\n        }\n\n        var geometry2 = new BufferGeometry();\n\n        var indices = this.index.array;\n        var attributes = this.attributes;\n\n        // attributes\n\n        for (var name in attributes) {\n          var attribute = attributes[name];\n\n          var newAttribute = convertBufferAttribute(attribute, indices);\n\n          geometry2.setAttribute(name, newAttribute);\n        }\n\n        // morph attributes\n\n        var morphAttributes = this.morphAttributes;\n\n        for (name in morphAttributes) {\n          var morphArray = [];\n          var morphAttribute = morphAttributes[name]; // morphAttribute: array of Float32BufferAttributes\n\n          for (var i = 0, il = morphAttribute.length; i < il; i++) {\n            var attribute = morphAttribute[i];\n\n            var newAttribute = convertBufferAttribute(attribute, indices);\n\n            morphArray.push(newAttribute);\n          }\n\n          geometry2.morphAttributes[name] = morphArray;\n        }\n\n        geometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n        // groups\n\n        var groups = this.groups;\n\n        for (var i = 0, l = groups.length; i < l; i++) {\n          var group = groups[i];\n          geometry2.addGroup(group.start, group.count, group.materialIndex);\n        }\n\n        return geometry2;\n      },\n\n      toJSON: function () {\n        var data = {\n          metadata: {\n            version: 4.5,\n            type: \"BufferGeometry\",\n            generator: \"BufferGeometry.toJSON\",\n          },\n        };\n\n        // standard BufferGeometry serialization\n\n        data.uuid = this.uuid;\n        data.type = this.type;\n        if (this.name !== \"\") {\n          data.name = this.name;\n        }\n        if (Object.keys(this.userData).length > 0) {\n          data.userData = this.userData;\n        }\n\n        if (this.parameters !== undefined) {\n          var parameters = this.parameters;\n\n          for (var key in parameters) {\n            if (parameters[key] !== undefined) {\n              data[key] = parameters[key];\n            }\n          }\n\n          return data;\n        }\n\n        data.data = {\n          attributes: {},\n        };\n\n        var index = this.index;\n\n        if (index !== null) {\n          data.data.index = {\n            type: index.array.constructor.name,\n            array: Array.prototype.slice.call(index.array),\n          };\n        }\n\n        var attributes = this.attributes;\n\n        for (var key in attributes) {\n          var attribute = attributes[key];\n\n          var attributeData = attribute.toJSON();\n\n          if (attribute.name !== \"\") {\n            attributeData.name = attribute.name;\n          }\n\n          data.data.attributes[key] = attributeData;\n        }\n\n        var morphAttributes = {};\n        var hasMorphAttributes = false;\n\n        for (var key in this.morphAttributes) {\n          var attributeArray = this.morphAttributes[key];\n\n          var array = [];\n\n          for (var i = 0, il = attributeArray.length; i < il; i++) {\n            var attribute = attributeArray[i];\n\n            var attributeData = attribute.toJSON();\n\n            if (attribute.name !== \"\") {\n              attributeData.name = attribute.name;\n            }\n\n            array.push(attributeData);\n          }\n\n          if (array.length > 0) {\n            morphAttributes[key] = array;\n\n            hasMorphAttributes = true;\n          }\n        }\n\n        if (hasMorphAttributes) {\n          data.data.morphAttributes = morphAttributes;\n          data.data.morphTargetsRelative = this.morphTargetsRelative;\n        }\n\n        var groups = this.groups;\n\n        if (groups.length > 0) {\n          data.data.groups = JSON.parse(JSON.stringify(groups));\n        }\n\n        var boundingSphere = this.boundingSphere;\n\n        if (boundingSphere !== null) {\n          data.data.boundingSphere = {\n            center: boundingSphere.center.toArray(),\n            radius: boundingSphere.radius,\n          };\n        }\n\n        return data;\n      },\n\n      clone: function () {\n        /*\n       // Handle primitives\n\n       var parameters = this.parameters;\n\n       if ( parameters !== undefined ) {\n\n       var values = [];\n\n       for ( var key in parameters ) {\n\n       values.push( parameters[ key ] );\n\n       }\n\n       var geometry = Object.create( this.constructor.prototype );\n       this.constructor.apply( geometry, values );\n       return geometry;\n\n       }\n\n       return new this.constructor().copy( this );\n       */\n\n        return new BufferGeometry().copy(this);\n      },\n\n      copy: function (source) {\n        var name, i, l;\n\n        // reset\n\n        this.index = null;\n        this.attributes = {};\n        this.morphAttributes = {};\n        this.groups = [];\n        this.boundingBox = null;\n        this.boundingSphere = null;\n\n        // name\n\n        this.name = source.name;\n\n        // index\n\n        var index = source.index;\n\n        if (index !== null) {\n          this.setIndex(index.clone());\n        }\n\n        // attributes\n\n        var attributes = source.attributes;\n\n        for (name in attributes) {\n          var attribute = attributes[name];\n          this.setAttribute(name, attribute.clone());\n        }\n\n        // morph attributes\n\n        var morphAttributes = source.morphAttributes;\n\n        for (name in morphAttributes) {\n          var array = [];\n          var morphAttribute = morphAttributes[name]; // morphAttribute: array of Float32BufferAttributes\n\n          for (i = 0, l = morphAttribute.length; i < l; i++) {\n            array.push(morphAttribute[i].clone());\n          }\n\n          this.morphAttributes[name] = array;\n        }\n\n        this.morphTargetsRelative = source.morphTargetsRelative;\n\n        // groups\n\n        var groups = source.groups;\n\n        for (i = 0, l = groups.length; i < l; i++) {\n          var group = groups[i];\n          this.addGroup(group.start, group.count, group.materialIndex);\n        }\n\n        // bounding box\n\n        var boundingBox = source.boundingBox;\n\n        if (boundingBox !== null) {\n          this.boundingBox = boundingBox.clone();\n        }\n\n        // bounding sphere\n\n        var boundingSphere = source.boundingSphere;\n\n        if (boundingSphere !== null) {\n          this.boundingSphere = boundingSphere.clone();\n        }\n\n        // draw range\n\n        this.drawRange.start = source.drawRange.start;\n        this.drawRange.count = source.drawRange.count;\n\n        // user data\n\n        this.userData = source.userData;\n\n        return this;\n      },\n\n      dispose: function () {\n        this.dispatchEvent({\n          type: \"dispose\",\n        });\n      },\n    }\n  );\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author jonobr1 / http://jonobr1.com/\n   */\n\n  var _inverseMatrix = new Matrix4();\n  var _ray = new Ray();\n  var _sphere = new Sphere();\n\n  var _vA = new Vector3();\n  var _vB = new Vector3();\n  var _vC = new Vector3();\n\n  var _tempA = new Vector3();\n  var _tempB = new Vector3();\n  var _tempC = new Vector3();\n\n  var _morphA = new Vector3();\n  var _morphB = new Vector3();\n  var _morphC = new Vector3();\n\n  var _uvA = new Vector2();\n  var _uvB = new Vector2();\n  var _uvC = new Vector2();\n\n  var _intersectionPoint = new Vector3();\n  var _intersectionPointWorld = new Vector3();\n\n  function Mesh(geometry, material) {\n    Object3D.call(this);\n\n    this.type = \"Mesh\";\n\n    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n    this.material =\n      material !== undefined\n        ? material\n        : new MeshBasicMaterial({\n            color: Math.random() * 0xffffff,\n          });\n\n    this.updateMorphTargets();\n  }\n\n  Mesh.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Mesh,\n\n    isMesh: true,\n\n    copy: function (source) {\n      Object3D.prototype.copy.call(this, source);\n\n      if (source.morphTargetInfluences !== undefined) {\n        this.morphTargetInfluences = source.morphTargetInfluences.slice();\n      }\n\n      if (source.morphTargetDictionary !== undefined) {\n        this.morphTargetDictionary = Object.assign(\n          {},\n          source.morphTargetDictionary\n        );\n      }\n\n      return this;\n    },\n\n    updateMorphTargets: function () {\n      var geometry = this.geometry;\n      var m, ml, name;\n\n      if (geometry.isBufferGeometry) {\n        var morphAttributes = geometry.morphAttributes;\n        var keys = Object.keys(morphAttributes);\n\n        if (keys.length > 0) {\n          var morphAttribute = morphAttributes[keys[0]];\n\n          if (morphAttribute !== undefined) {\n            this.morphTargetInfluences = [];\n            this.morphTargetDictionary = {};\n\n            for (m = 0, ml = morphAttribute.length; m < ml; m++) {\n              name = morphAttribute[m].name || String(m);\n\n              this.morphTargetInfluences.push(0);\n              this.morphTargetDictionary[name] = m;\n            }\n          }\n        }\n      } else {\n        var morphTargets = geometry.morphTargets;\n\n        if (morphTargets !== undefined && morphTargets.length > 0) {\n          console.error(\n            \"THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\"\n          );\n        }\n      }\n    },\n\n    raycast: function (raycaster, intersects) {\n      var geometry = this.geometry;\n      var material = this.material;\n      var matrixWorld = this.matrixWorld;\n\n      if (material === undefined) {\n        return;\n      }\n\n      // Checking boundingSphere distance to ray\n\n      if (geometry.boundingSphere === null) {\n        geometry.computeBoundingSphere();\n      }\n\n      _sphere.copy(geometry.boundingSphere);\n      _sphere.applyMatrix4(matrixWorld);\n\n      if (raycaster.ray.intersectsSphere(_sphere) === false) {\n        return;\n      }\n\n      //\n\n      _inverseMatrix.getInverse(matrixWorld);\n      _ray.copy(raycaster.ray).applyMatrix4(_inverseMatrix);\n\n      // Check boundingBox before continuing\n\n      if (geometry.boundingBox !== null) {\n        if (_ray.intersectsBox(geometry.boundingBox) === false) {\n          return;\n        }\n      }\n\n      var intersection;\n\n      if (geometry.isBufferGeometry) {\n        var a, b, c;\n        var index = geometry.index;\n        var position = geometry.attributes.position;\n        var morphPosition = geometry.morphAttributes.position;\n        var morphTargetsRelative = geometry.morphTargetsRelative;\n        var uv = geometry.attributes.uv;\n        var uv2 = geometry.attributes.uv2;\n        var groups = geometry.groups;\n        var drawRange = geometry.drawRange;\n        var i, j, il, jl;\n        var group, groupMaterial;\n        var start, end;\n\n        if (index !== null) {\n          // indexed buffer geometry\n\n          if (Array.isArray(material)) {\n            for (i = 0, il = groups.length; i < il; i++) {\n              group = groups[i];\n              groupMaterial = material[group.materialIndex];\n\n              start = Math.max(group.start, drawRange.start);\n              end = Math.min(\n                group.start + group.count,\n                drawRange.start + drawRange.count\n              );\n\n              for (j = start, jl = end; j < jl; j += 3) {\n                a = index.getX(j);\n                b = index.getX(j + 1);\n                c = index.getX(j + 2);\n\n                intersection = checkBufferGeometryIntersection(\n                  this,\n                  groupMaterial,\n                  raycaster,\n                  _ray,\n                  position,\n                  morphPosition,\n                  morphTargetsRelative,\n                  uv,\n                  uv2,\n                  a,\n                  b,\n                  c\n                );\n\n                if (intersection) {\n                  intersection.faceIndex = Math.floor(j / 3); // triangle number in indexed buffer semantics\n                  intersection.face.materialIndex = group.materialIndex;\n                  intersects.push(intersection);\n                }\n              }\n            }\n          } else {\n            start = Math.max(0, drawRange.start);\n            end = Math.min(index.count, drawRange.start + drawRange.count);\n\n            for (i = start, il = end; i < il; i += 3) {\n              a = index.getX(i);\n              b = index.getX(i + 1);\n              c = index.getX(i + 2);\n\n              intersection = checkBufferGeometryIntersection(\n                this,\n                material,\n                raycaster,\n                _ray,\n                position,\n                morphPosition,\n                morphTargetsRelative,\n                uv,\n                uv2,\n                a,\n                b,\n                c\n              );\n\n              if (intersection) {\n                intersection.faceIndex = Math.floor(i / 3); // triangle number in indexed buffer semantics\n                intersects.push(intersection);\n              }\n            }\n          }\n        } else if (position !== undefined) {\n          // non-indexed buffer geometry\n\n          if (Array.isArray(material)) {\n            for (i = 0, il = groups.length; i < il; i++) {\n              group = groups[i];\n              groupMaterial = material[group.materialIndex];\n\n              start = Math.max(group.start, drawRange.start);\n              end = Math.min(\n                group.start + group.count,\n                drawRange.start + drawRange.count\n              );\n\n              for (j = start, jl = end; j < jl; j += 3) {\n                a = j;\n                b = j + 1;\n                c = j + 2;\n\n                intersection = checkBufferGeometryIntersection(\n                  this,\n                  groupMaterial,\n                  raycaster,\n                  _ray,\n                  position,\n                  morphPosition,\n                  morphTargetsRelative,\n                  uv,\n                  uv2,\n                  a,\n                  b,\n                  c\n                );\n\n                if (intersection) {\n                  intersection.faceIndex = Math.floor(j / 3); // triangle number in non-indexed buffer semantics\n                  intersection.face.materialIndex = group.materialIndex;\n                  intersects.push(intersection);\n                }\n              }\n            }\n          } else {\n            start = Math.max(0, drawRange.start);\n            end = Math.min(position.count, drawRange.start + drawRange.count);\n\n            for (i = start, il = end; i < il; i += 3) {\n              a = i;\n              b = i + 1;\n              c = i + 2;\n\n              intersection = checkBufferGeometryIntersection(\n                this,\n                material,\n                raycaster,\n                _ray,\n                position,\n                morphPosition,\n                morphTargetsRelative,\n                uv,\n                uv2,\n                a,\n                b,\n                c\n              );\n\n              if (intersection) {\n                intersection.faceIndex = Math.floor(i / 3); // triangle number in non-indexed buffer semantics\n                intersects.push(intersection);\n              }\n            }\n          }\n        }\n      } else if (geometry.isGeometry) {\n        var fvA, fvB, fvC;\n        var isMultiMaterial = Array.isArray(material);\n\n        var vertices = geometry.vertices;\n        var faces = geometry.faces;\n        var uvs;\n\n        var faceVertexUvs = geometry.faceVertexUvs[0];\n        if (faceVertexUvs.length > 0) {\n          uvs = faceVertexUvs;\n        }\n\n        for (var f = 0, fl = faces.length; f < fl; f++) {\n          var face = faces[f];\n          var faceMaterial = isMultiMaterial\n            ? material[face.materialIndex]\n            : material;\n\n          if (faceMaterial === undefined) {\n            continue;\n          }\n\n          fvA = vertices[face.a];\n          fvB = vertices[face.b];\n          fvC = vertices[face.c];\n\n          intersection = checkIntersection(\n            this,\n            faceMaterial,\n            raycaster,\n            _ray,\n            fvA,\n            fvB,\n            fvC,\n            _intersectionPoint\n          );\n\n          if (intersection) {\n            if (uvs && uvs[f]) {\n              var uvs_f = uvs[f];\n              _uvA.copy(uvs_f[0]);\n              _uvB.copy(uvs_f[1]);\n              _uvC.copy(uvs_f[2]);\n\n              intersection.uv = Triangle.getUV(\n                _intersectionPoint,\n                fvA,\n                fvB,\n                fvC,\n                _uvA,\n                _uvB,\n                _uvC,\n                new Vector2()\n              );\n            }\n\n            intersection.face = face;\n            intersection.faceIndex = f;\n            intersects.push(intersection);\n          }\n        }\n      }\n    },\n\n    clone: function () {\n      return new this.constructor(this.geometry, this.material).copy(this);\n    },\n  });\n\n  function checkIntersection(\n    object,\n    material,\n    raycaster,\n    ray,\n    pA,\n    pB,\n    pC,\n    point\n  ) {\n    var intersect;\n\n    if (material.side === BackSide) {\n      intersect = ray.intersectTriangle(pC, pB, pA, true, point);\n    } else {\n      intersect = ray.intersectTriangle(\n        pA,\n        pB,\n        pC,\n        material.side !== DoubleSide,\n        point\n      );\n    }\n\n    if (intersect === null) {\n      return null;\n    }\n\n    _intersectionPointWorld.copy(point);\n    _intersectionPointWorld.applyMatrix4(object.matrixWorld);\n\n    var distance = raycaster.ray.origin.distanceTo(_intersectionPointWorld);\n\n    if (distance < raycaster.near || distance > raycaster.far) {\n      return null;\n    }\n\n    return {\n      distance: distance,\n      point: _intersectionPointWorld.clone(),\n      object: object,\n    };\n  }\n\n  function checkBufferGeometryIntersection(\n    object,\n    material,\n    raycaster,\n    ray,\n    position,\n    morphPosition,\n    morphTargetsRelative,\n    uv,\n    uv2,\n    a,\n    b,\n    c\n  ) {\n    _vA.fromBufferAttribute(position, a);\n    _vB.fromBufferAttribute(position, b);\n    _vC.fromBufferAttribute(position, c);\n\n    var morphInfluences = object.morphTargetInfluences;\n\n    if (material.morphTargets && morphPosition && morphInfluences) {\n      _morphA.set(0, 0, 0);\n      _morphB.set(0, 0, 0);\n      _morphC.set(0, 0, 0);\n\n      for (var i = 0, il = morphPosition.length; i < il; i++) {\n        var influence = morphInfluences[i];\n        var morphAttribute = morphPosition[i];\n\n        if (influence === 0) {\n          continue;\n        }\n\n        _tempA.fromBufferAttribute(morphAttribute, a);\n        _tempB.fromBufferAttribute(morphAttribute, b);\n        _tempC.fromBufferAttribute(morphAttribute, c);\n\n        if (morphTargetsRelative) {\n          _morphA.addScaledVector(_tempA, influence);\n          _morphB.addScaledVector(_tempB, influence);\n          _morphC.addScaledVector(_tempC, influence);\n        } else {\n          _morphA.addScaledVector(_tempA.sub(_vA), influence);\n          _morphB.addScaledVector(_tempB.sub(_vB), influence);\n          _morphC.addScaledVector(_tempC.sub(_vC), influence);\n        }\n      }\n\n      _vA.add(_morphA);\n      _vB.add(_morphB);\n      _vC.add(_morphC);\n    }\n\n    var intersection = checkIntersection(\n      object,\n      material,\n      raycaster,\n      ray,\n      _vA,\n      _vB,\n      _vC,\n      _intersectionPoint\n    );\n\n    if (intersection) {\n      if (uv) {\n        _uvA.fromBufferAttribute(uv, a);\n        _uvB.fromBufferAttribute(uv, b);\n        _uvC.fromBufferAttribute(uv, c);\n\n        intersection.uv = Triangle.getUV(\n          _intersectionPoint,\n          _vA,\n          _vB,\n          _vC,\n          _uvA,\n          _uvB,\n          _uvC,\n          new Vector2()\n        );\n      }\n\n      if (uv2) {\n        _uvA.fromBufferAttribute(uv2, a);\n        _uvB.fromBufferAttribute(uv2, b);\n        _uvC.fromBufferAttribute(uv2, c);\n\n        intersection.uv2 = Triangle.getUV(\n          _intersectionPoint,\n          _vA,\n          _vB,\n          _vC,\n          _uvA,\n          _uvB,\n          _uvC,\n          new Vector2()\n        );\n      }\n\n      var face = new Face3(a, b, c);\n      Triangle.getNormal(_vA, _vB, _vC, face.normal);\n\n      intersection.face = face;\n    }\n\n    return intersection;\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author kile / http://kile.stravaganza.org/\n   * @author alteredq / http://alteredqualia.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * @author bhouston / http://clara.io\n   */\n\n  var _geometryId = 0; // Geometry uses even numbers as Id\n  var _m1$3 = new Matrix4();\n  var _obj$1 = new Object3D();\n  var _offset$1 = new Vector3();\n\n  function Geometry() {\n    Object.defineProperty(this, \"id\", {\n      value: (_geometryId += 2),\n    });\n\n    this.uuid = _Math.generateUUID();\n\n    this.name = \"\";\n    this.type = \"Geometry\";\n\n    this.vertices = [];\n    this.colors = [];\n    this.faces = [];\n    this.faceVertexUvs = [[]];\n\n    this.morphTargets = [];\n    this.morphNormals = [];\n\n    this.skinWeights = [];\n    this.skinIndices = [];\n\n    this.lineDistances = [];\n\n    this.boundingBox = null;\n    this.boundingSphere = null;\n\n    // update flags\n\n    this.elementsNeedUpdate = false;\n    this.verticesNeedUpdate = false;\n    this.uvsNeedUpdate = false;\n    this.normalsNeedUpdate = false;\n    this.colorsNeedUpdate = false;\n    this.lineDistancesNeedUpdate = false;\n    this.groupsNeedUpdate = false;\n  }\n\n  Geometry.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n    constructor: Geometry,\n\n    isGeometry: true,\n\n    applyMatrix: function (matrix) {\n      var normalMatrix = new Matrix3().getNormalMatrix(matrix);\n\n      for (var i = 0, il = this.vertices.length; i < il; i++) {\n        var vertex = this.vertices[i];\n        vertex.applyMatrix4(matrix);\n      }\n\n      for (var i = 0, il = this.faces.length; i < il; i++) {\n        var face = this.faces[i];\n        face.normal.applyMatrix3(normalMatrix).normalize();\n\n        for (var j = 0, jl = face.vertexNormals.length; j < jl; j++) {\n          face.vertexNormals[j].applyMatrix3(normalMatrix).normalize();\n        }\n      }\n\n      if (this.boundingBox !== null) {\n        this.computeBoundingBox();\n      }\n\n      if (this.boundingSphere !== null) {\n        this.computeBoundingSphere();\n      }\n\n      this.verticesNeedUpdate = true;\n      this.normalsNeedUpdate = true;\n\n      return this;\n    },\n\n    rotateX: function (angle) {\n      // rotate geometry around world x-axis\n\n      _m1$3.makeRotationX(angle);\n\n      this.applyMatrix(_m1$3);\n\n      return this;\n    },\n\n    rotateY: function (angle) {\n      // rotate geometry around world y-axis\n\n      _m1$3.makeRotationY(angle);\n\n      this.applyMatrix(_m1$3);\n\n      return this;\n    },\n\n    rotateZ: function (angle) {\n      // rotate geometry around world z-axis\n\n      _m1$3.makeRotationZ(angle);\n\n      this.applyMatrix(_m1$3);\n\n      return this;\n    },\n\n    translate: function (x, y, z) {\n      // translate geometry\n\n      _m1$3.makeTranslation(x, y, z);\n\n      this.applyMatrix(_m1$3);\n\n      return this;\n    },\n\n    scale: function (x, y, z) {\n      // scale geometry\n\n      _m1$3.makeScale(x, y, z);\n\n      this.applyMatrix(_m1$3);\n\n      return this;\n    },\n\n    lookAt: function (vector) {\n      _obj$1.lookAt(vector);\n\n      _obj$1.updateMatrix();\n\n      this.applyMatrix(_obj$1.matrix);\n\n      return this;\n    },\n\n    fromBufferGeometry: function (geometry) {\n      var scope = this;\n\n      var indices = geometry.index !== null ? geometry.index.array : undefined;\n      var attributes = geometry.attributes;\n\n      if (attributes.position === undefined) {\n        console.error(\n          \"THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.\"\n        );\n        return this;\n      }\n\n      var positions = attributes.position.array;\n      var normals =\n        attributes.normal !== undefined ? attributes.normal.array : undefined;\n      var colors =\n        attributes.color !== undefined ? attributes.color.array : undefined;\n      var uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n      var uvs2 =\n        attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\n      if (uvs2 !== undefined) {\n        this.faceVertexUvs[1] = [];\n      }\n\n      for (var i = 0; i < positions.length; i += 3) {\n        scope.vertices.push(new Vector3().fromArray(positions, i));\n\n        if (colors !== undefined) {\n          scope.colors.push(new Color().fromArray(colors, i));\n        }\n      }\n\n      function addFace(a, b, c, materialIndex) {\n        var vertexColors =\n          colors === undefined\n            ? []\n            : [\n                scope.colors[a].clone(),\n                scope.colors[b].clone(),\n                scope.colors[c].clone(),\n              ];\n\n        var vertexNormals =\n          normals === undefined\n            ? []\n            : [\n                new Vector3().fromArray(normals, a * 3),\n                new Vector3().fromArray(normals, b * 3),\n                new Vector3().fromArray(normals, c * 3),\n              ];\n\n        var face = new Face3(\n          a,\n          b,\n          c,\n          vertexNormals,\n          vertexColors,\n          materialIndex\n        );\n\n        scope.faces.push(face);\n\n        if (uvs !== undefined) {\n          scope.faceVertexUvs[0].push([\n            new Vector2().fromArray(uvs, a * 2),\n            new Vector2().fromArray(uvs, b * 2),\n            new Vector2().fromArray(uvs, c * 2),\n          ]);\n        }\n\n        if (uvs2 !== undefined) {\n          scope.faceVertexUvs[1].push([\n            new Vector2().fromArray(uvs2, a * 2),\n            new Vector2().fromArray(uvs2, b * 2),\n            new Vector2().fromArray(uvs2, c * 2),\n          ]);\n        }\n      }\n\n      var groups = geometry.groups;\n\n      if (groups.length > 0) {\n        for (var i = 0; i < groups.length; i++) {\n          var group = groups[i];\n\n          var start = group.start;\n          var count = group.count;\n\n          for (var j = start, jl = start + count; j < jl; j += 3) {\n            if (indices !== undefined) {\n              addFace(\n                indices[j],\n                indices[j + 1],\n                indices[j + 2],\n                group.materialIndex\n              );\n            } else {\n              addFace(j, j + 1, j + 2, group.materialIndex);\n            }\n          }\n        }\n      } else {\n        if (indices !== undefined) {\n          for (var i = 0; i < indices.length; i += 3) {\n            addFace(indices[i], indices[i + 1], indices[i + 2]);\n          }\n        } else {\n          for (var i = 0; i < positions.length / 3; i += 3) {\n            addFace(i, i + 1, i + 2);\n          }\n        }\n      }\n\n      this.computeFaceNormals();\n\n      if (geometry.boundingBox !== null) {\n        this.boundingBox = geometry.boundingBox.clone();\n      }\n\n      if (geometry.boundingSphere !== null) {\n        this.boundingSphere = geometry.boundingSphere.clone();\n      }\n\n      return this;\n    },\n\n    center: function () {\n      this.computeBoundingBox();\n\n      this.boundingBox.getCenter(_offset$1).negate();\n\n      this.translate(_offset$1.x, _offset$1.y, _offset$1.z);\n\n      return this;\n    },\n\n    normalize: function () {\n      this.computeBoundingSphere();\n\n      var center = this.boundingSphere.center;\n      var radius = this.boundingSphere.radius;\n\n      var s = radius === 0 ? 1 : 1.0 / radius;\n\n      var matrix = new Matrix4();\n      matrix.set(\n        s,\n        0,\n        0,\n        -s * center.x,\n        0,\n        s,\n        0,\n        -s * center.y,\n        0,\n        0,\n        s,\n        -s * center.z,\n        0,\n        0,\n        0,\n        1\n      );\n\n      this.applyMatrix(matrix);\n\n      return this;\n    },\n\n    computeFaceNormals: function () {\n      var cb = new Vector3(),\n        ab = new Vector3();\n\n      for (var f = 0, fl = this.faces.length; f < fl; f++) {\n        var face = this.faces[f];\n\n        var vA = this.vertices[face.a];\n        var vB = this.vertices[face.b];\n        var vC = this.vertices[face.c];\n\n        cb.subVectors(vC, vB);\n        ab.subVectors(vA, vB);\n        cb.cross(ab);\n\n        cb.normalize();\n\n        face.normal.copy(cb);\n      }\n    },\n\n    computeVertexNormals: function (areaWeighted) {\n      if (areaWeighted === undefined) {\n        areaWeighted = true;\n      }\n\n      var v, vl, f, fl, face, vertices;\n\n      vertices = new Array(this.vertices.length);\n\n      for (v = 0, vl = this.vertices.length; v < vl; v++) {\n        vertices[v] = new Vector3();\n      }\n\n      if (areaWeighted) {\n        // vertex normals weighted by triangle areas\n        // http://www.iquilezles.org/www/articles/normals/normals.htm\n\n        var vA, vB, vC;\n        var cb = new Vector3(),\n          ab = new Vector3();\n\n        for (f = 0, fl = this.faces.length; f < fl; f++) {\n          face = this.faces[f];\n\n          vA = this.vertices[face.a];\n          vB = this.vertices[face.b];\n          vC = this.vertices[face.c];\n\n          cb.subVectors(vC, vB);\n          ab.subVectors(vA, vB);\n          cb.cross(ab);\n\n          vertices[face.a].add(cb);\n          vertices[face.b].add(cb);\n          vertices[face.c].add(cb);\n        }\n      } else {\n        this.computeFaceNormals();\n\n        for (f = 0, fl = this.faces.length; f < fl; f++) {\n          face = this.faces[f];\n\n          vertices[face.a].add(face.normal);\n          vertices[face.b].add(face.normal);\n          vertices[face.c].add(face.normal);\n        }\n      }\n\n      for (v = 0, vl = this.vertices.length; v < vl; v++) {\n        vertices[v].normalize();\n      }\n\n      for (f = 0, fl = this.faces.length; f < fl; f++) {\n        face = this.faces[f];\n\n        var vertexNormals = face.vertexNormals;\n\n        if (vertexNormals.length === 3) {\n          vertexNormals[0].copy(vertices[face.a]);\n          vertexNormals[1].copy(vertices[face.b]);\n          vertexNormals[2].copy(vertices[face.c]);\n        } else {\n          vertexNormals[0] = vertices[face.a].clone();\n          vertexNormals[1] = vertices[face.b].clone();\n          vertexNormals[2] = vertices[face.c].clone();\n        }\n      }\n\n      if (this.faces.length > 0) {\n        this.normalsNeedUpdate = true;\n      }\n    },\n\n    computeFlatVertexNormals: function () {\n      var f, fl, face;\n\n      this.computeFaceNormals();\n\n      for (f = 0, fl = this.faces.length; f < fl; f++) {\n        face = this.faces[f];\n\n        var vertexNormals = face.vertexNormals;\n\n        if (vertexNormals.length === 3) {\n          vertexNormals[0].copy(face.normal);\n          vertexNormals[1].copy(face.normal);\n          vertexNormals[2].copy(face.normal);\n        } else {\n          vertexNormals[0] = face.normal.clone();\n          vertexNormals[1] = face.normal.clone();\n          vertexNormals[2] = face.normal.clone();\n        }\n      }\n\n      if (this.faces.length > 0) {\n        this.normalsNeedUpdate = true;\n      }\n    },\n\n    computeMorphNormals: function () {\n      var i, il, f, fl, face;\n\n      // save original normals\n      // - create temp variables on first access\n      //   otherwise just copy (for faster repeated calls)\n\n      for (f = 0, fl = this.faces.length; f < fl; f++) {\n        face = this.faces[f];\n\n        if (!face.__originalFaceNormal) {\n          face.__originalFaceNormal = face.normal.clone();\n        } else {\n          face.__originalFaceNormal.copy(face.normal);\n        }\n\n        if (!face.__originalVertexNormals) {\n          face.__originalVertexNormals = [];\n        }\n\n        for (i = 0, il = face.vertexNormals.length; i < il; i++) {\n          if (!face.__originalVertexNormals[i]) {\n            face.__originalVertexNormals[i] = face.vertexNormals[i].clone();\n          } else {\n            face.__originalVertexNormals[i].copy(face.vertexNormals[i]);\n          }\n        }\n      }\n\n      // use temp geometry to compute face and vertex normals for each morph\n\n      var tmpGeo = new Geometry();\n      tmpGeo.faces = this.faces;\n\n      for (i = 0, il = this.morphTargets.length; i < il; i++) {\n        // create on first access\n\n        if (!this.morphNormals[i]) {\n          this.morphNormals[i] = {};\n          this.morphNormals[i].faceNormals = [];\n          this.morphNormals[i].vertexNormals = [];\n\n          var dstNormalsFace = this.morphNormals[i].faceNormals;\n          var dstNormalsVertex = this.morphNormals[i].vertexNormals;\n\n          var faceNormal, vertexNormals;\n\n          for (f = 0, fl = this.faces.length; f < fl; f++) {\n            faceNormal = new Vector3();\n            vertexNormals = {\n              a: new Vector3(),\n              b: new Vector3(),\n              c: new Vector3(),\n            };\n\n            dstNormalsFace.push(faceNormal);\n            dstNormalsVertex.push(vertexNormals);\n          }\n        }\n\n        var morphNormals = this.morphNormals[i];\n\n        // set vertices to morph target\n\n        tmpGeo.vertices = this.morphTargets[i].vertices;\n\n        // compute morph normals\n\n        tmpGeo.computeFaceNormals();\n        tmpGeo.computeVertexNormals();\n\n        // store morph normals\n\n        var faceNormal, vertexNormals;\n\n        for (f = 0, fl = this.faces.length; f < fl; f++) {\n          face = this.faces[f];\n\n          faceNormal = morphNormals.faceNormals[f];\n          vertexNormals = morphNormals.vertexNormals[f];\n\n          faceNormal.copy(face.normal);\n\n          vertexNormals.a.copy(face.vertexNormals[0]);\n          vertexNormals.b.copy(face.vertexNormals[1]);\n          vertexNormals.c.copy(face.vertexNormals[2]);\n        }\n      }\n\n      // restore original normals\n\n      for (f = 0, fl = this.faces.length; f < fl; f++) {\n        face = this.faces[f];\n\n        face.normal = face.__originalFaceNormal;\n        face.vertexNormals = face.__originalVertexNormals;\n      }\n    },\n\n    computeBoundingBox: function () {\n      if (this.boundingBox === null) {\n        this.boundingBox = new Box3();\n      }\n\n      this.boundingBox.setFromPoints(this.vertices);\n    },\n\n    computeBoundingSphere: function () {\n      if (this.boundingSphere === null) {\n        this.boundingSphere = new Sphere();\n      }\n\n      this.boundingSphere.setFromPoints(this.vertices);\n    },\n\n    merge: function (geometry, matrix, materialIndexOffset) {\n      if (!(geometry && geometry.isGeometry)) {\n        console.error(\n          \"THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.\",\n          geometry\n        );\n        return;\n      }\n\n      var normalMatrix,\n        vertexOffset = this.vertices.length,\n        vertices1 = this.vertices,\n        vertices2 = geometry.vertices,\n        faces1 = this.faces,\n        faces2 = geometry.faces,\n        colors1 = this.colors,\n        colors2 = geometry.colors;\n\n      if (materialIndexOffset === undefined) {\n        materialIndexOffset = 0;\n      }\n\n      if (matrix !== undefined) {\n        normalMatrix = new Matrix3().getNormalMatrix(matrix);\n      }\n\n      // vertices\n\n      for (var i = 0, il = vertices2.length; i < il; i++) {\n        var vertex = vertices2[i];\n\n        var vertexCopy = vertex.clone();\n\n        if (matrix !== undefined) {\n          vertexCopy.applyMatrix4(matrix);\n        }\n\n        vertices1.push(vertexCopy);\n      }\n\n      // colors\n\n      for (var i = 0, il = colors2.length; i < il; i++) {\n        colors1.push(colors2[i].clone());\n      }\n\n      // faces\n\n      for (i = 0, il = faces2.length; i < il; i++) {\n        var face = faces2[i],\n          faceCopy,\n          normal,\n          color,\n          faceVertexNormals = face.vertexNormals,\n          faceVertexColors = face.vertexColors;\n\n        faceCopy = new Face3(\n          face.a + vertexOffset,\n          face.b + vertexOffset,\n          face.c + vertexOffset\n        );\n        faceCopy.normal.copy(face.normal);\n\n        if (normalMatrix !== undefined) {\n          faceCopy.normal.applyMatrix3(normalMatrix).normalize();\n        }\n\n        for (var j = 0, jl = faceVertexNormals.length; j < jl; j++) {\n          normal = faceVertexNormals[j].clone();\n\n          if (normalMatrix !== undefined) {\n            normal.applyMatrix3(normalMatrix).normalize();\n          }\n\n          faceCopy.vertexNormals.push(normal);\n        }\n\n        faceCopy.color.copy(face.color);\n\n        for (var j = 0, jl = faceVertexColors.length; j < jl; j++) {\n          color = faceVertexColors[j];\n          faceCopy.vertexColors.push(color.clone());\n        }\n\n        faceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n        faces1.push(faceCopy);\n      }\n\n      // uvs\n\n      for (var i = 0, il = geometry.faceVertexUvs.length; i < il; i++) {\n        var faceVertexUvs2 = geometry.faceVertexUvs[i];\n\n        if (this.faceVertexUvs[i] === undefined) {\n          this.faceVertexUvs[i] = [];\n        }\n\n        for (var j = 0, jl = faceVertexUvs2.length; j < jl; j++) {\n          var uvs2 = faceVertexUvs2[j],\n            uvsCopy = [];\n\n          for (var k = 0, kl = uvs2.length; k < kl; k++) {\n            uvsCopy.push(uvs2[k].clone());\n          }\n\n          this.faceVertexUvs[i].push(uvsCopy);\n        }\n      }\n    },\n\n    mergeMesh: function (mesh) {\n      if (!(mesh && mesh.isMesh)) {\n        console.error(\n          \"THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.\",\n          mesh\n        );\n        return;\n      }\n\n      if (mesh.matrixAutoUpdate) {\n        mesh.updateMatrix();\n      }\n\n      this.merge(mesh.geometry, mesh.matrix);\n    },\n\n    /*\n     * Checks for duplicate vertices with hashmap.\n     * Duplicated vertices are removed\n     * and faces' vertices are updated.\n     */\n\n    mergeVertices: function () {\n      var verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n      var unique = [],\n        changes = [];\n\n      var v, key;\n      var precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n      var precision = Math.pow(10, precisionPoints);\n      var i, il, face;\n      var indices, j, jl;\n\n      for (i = 0, il = this.vertices.length; i < il; i++) {\n        v = this.vertices[i];\n        key =\n          Math.round(v.x * precision) +\n          \"_\" +\n          Math.round(v.y * precision) +\n          \"_\" +\n          Math.round(v.z * precision);\n\n        if (verticesMap[key] === undefined) {\n          verticesMap[key] = i;\n          unique.push(this.vertices[i]);\n          changes[i] = unique.length - 1;\n        } else {\n          //console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n          changes[i] = changes[verticesMap[key]];\n        }\n      }\n\n      // if faces are completely degenerate after merging vertices, we\n      // have to remove them from the geometry.\n      var faceIndicesToRemove = [];\n\n      for (i = 0, il = this.faces.length; i < il; i++) {\n        face = this.faces[i];\n\n        face.a = changes[face.a];\n        face.b = changes[face.b];\n        face.c = changes[face.c];\n\n        indices = [face.a, face.b, face.c];\n\n        // if any duplicate vertices are found in a Face3\n        // we have to remove the face as nothing can be saved\n        for (var n = 0; n < 3; n++) {\n          if (indices[n] === indices[(n + 1) % 3]) {\n            faceIndicesToRemove.push(i);\n            break;\n          }\n        }\n      }\n\n      for (i = faceIndicesToRemove.length - 1; i >= 0; i--) {\n        var idx = faceIndicesToRemove[i];\n\n        this.faces.splice(idx, 1);\n\n        for (j = 0, jl = this.faceVertexUvs.length; j < jl; j++) {\n          this.faceVertexUvs[j].splice(idx, 1);\n        }\n      }\n\n      // Use unique set of vertices\n\n      var diff = this.vertices.length - unique.length;\n      this.vertices = unique;\n      return diff;\n    },\n\n    setFromPoints: function (points) {\n      this.vertices = [];\n\n      for (var i = 0, l = points.length; i < l; i++) {\n        var point = points[i];\n        this.vertices.push(new Vector3(point.x, point.y, point.z || 0));\n      }\n\n      return this;\n    },\n\n    sortFacesByMaterialIndex: function () {\n      var faces = this.faces;\n      var length = faces.length;\n\n      // tag faces\n\n      for (var i = 0; i < length; i++) {\n        faces[i]._id = i;\n      }\n\n      // sort faces\n\n      function materialIndexSort(a, b) {\n        return a.materialIndex - b.materialIndex;\n      }\n\n      faces.sort(materialIndexSort);\n\n      // sort uvs\n\n      var uvs1 = this.faceVertexUvs[0];\n      var uvs2 = this.faceVertexUvs[1];\n\n      var newUvs1, newUvs2;\n\n      if (uvs1 && uvs1.length === length) {\n        newUvs1 = [];\n      }\n      if (uvs2 && uvs2.length === length) {\n        newUvs2 = [];\n      }\n\n      for (var i = 0; i < length; i++) {\n        var id = faces[i]._id;\n\n        if (newUvs1) {\n          newUvs1.push(uvs1[id]);\n        }\n        if (newUvs2) {\n          newUvs2.push(uvs2[id]);\n        }\n      }\n\n      if (newUvs1) {\n        this.faceVertexUvs[0] = newUvs1;\n      }\n      if (newUvs2) {\n        this.faceVertexUvs[1] = newUvs2;\n      }\n    },\n\n    toJSON: function () {\n      var data = {\n        metadata: {\n          version: 4.5,\n          type: \"Geometry\",\n          generator: \"Geometry.toJSON\",\n        },\n      };\n\n      // standard Geometry serialization\n\n      data.uuid = this.uuid;\n      data.type = this.type;\n      if (this.name !== \"\") {\n        data.name = this.name;\n      }\n\n      if (this.parameters !== undefined) {\n        var parameters = this.parameters;\n\n        for (var key in parameters) {\n          if (parameters[key] !== undefined) {\n            data[key] = parameters[key];\n          }\n        }\n\n        return data;\n      }\n\n      var vertices = [];\n\n      for (var i = 0; i < this.vertices.length; i++) {\n        var vertex = this.vertices[i];\n        vertices.push(vertex.x, vertex.y, vertex.z);\n      }\n\n      var faces = [];\n      var normals = [];\n      var normalsHash = {};\n      var colors = [];\n      var colorsHash = {};\n      var uvs = [];\n      var uvsHash = {};\n\n      for (var i = 0; i < this.faces.length; i++) {\n        var face = this.faces[i];\n\n        var hasMaterial = true;\n        var hasFaceUv = false; // deprecated\n        var hasFaceVertexUv = this.faceVertexUvs[0][i] !== undefined;\n        var hasFaceNormal = face.normal.length() > 0;\n        var hasFaceVertexNormal = face.vertexNormals.length > 0;\n        var hasFaceColor =\n          face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n        var hasFaceVertexColor = face.vertexColors.length > 0;\n\n        var faceType = 0;\n\n        faceType = setBit(faceType, 0, 0); // isQuad\n        faceType = setBit(faceType, 1, hasMaterial);\n        faceType = setBit(faceType, 2, hasFaceUv);\n        faceType = setBit(faceType, 3, hasFaceVertexUv);\n        faceType = setBit(faceType, 4, hasFaceNormal);\n        faceType = setBit(faceType, 5, hasFaceVertexNormal);\n        faceType = setBit(faceType, 6, hasFaceColor);\n        faceType = setBit(faceType, 7, hasFaceVertexColor);\n\n        faces.push(faceType);\n        faces.push(face.a, face.b, face.c);\n        faces.push(face.materialIndex);\n\n        if (hasFaceVertexUv) {\n          var faceVertexUvs = this.faceVertexUvs[0][i];\n\n          faces.push(\n            getUvIndex(faceVertexUvs[0]),\n            getUvIndex(faceVertexUvs[1]),\n            getUvIndex(faceVertexUvs[2])\n          );\n        }\n\n        if (hasFaceNormal) {\n          faces.push(getNormalIndex(face.normal));\n        }\n\n        if (hasFaceVertexNormal) {\n          var vertexNormals = face.vertexNormals;\n\n          faces.push(\n            getNormalIndex(vertexNormals[0]),\n            getNormalIndex(vertexNormals[1]),\n            getNormalIndex(vertexNormals[2])\n          );\n        }\n\n        if (hasFaceColor) {\n          faces.push(getColorIndex(face.color));\n        }\n\n        if (hasFaceVertexColor) {\n          var vertexColors = face.vertexColors;\n\n          faces.push(\n            getColorIndex(vertexColors[0]),\n            getColorIndex(vertexColors[1]),\n            getColorIndex(vertexColors[2])\n          );\n        }\n      }\n\n      function setBit(value, position, enabled) {\n        return enabled ? value | (1 << position) : value & ~(1 << position);\n      }\n\n      function getNormalIndex(normal) {\n        var hash =\n          normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n        if (normalsHash[hash] !== undefined) {\n          return normalsHash[hash];\n        }\n\n        normalsHash[hash] = normals.length / 3;\n        normals.push(normal.x, normal.y, normal.z);\n\n        return normalsHash[hash];\n      }\n\n      function getColorIndex(color) {\n        var hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n        if (colorsHash[hash] !== undefined) {\n          return colorsHash[hash];\n        }\n\n        colorsHash[hash] = colors.length;\n        colors.push(color.getHex());\n\n        return colorsHash[hash];\n      }\n\n      function getUvIndex(uv) {\n        var hash = uv.x.toString() + uv.y.toString();\n\n        if (uvsHash[hash] !== undefined) {\n          return uvsHash[hash];\n        }\n\n        uvsHash[hash] = uvs.length / 2;\n        uvs.push(uv.x, uv.y);\n\n        return uvsHash[hash];\n      }\n\n      data.data = {};\n\n      data.data.vertices = vertices;\n      data.data.normals = normals;\n      if (colors.length > 0) {\n        data.data.colors = colors;\n      }\n      if (uvs.length > 0) {\n        data.data.uvs = [uvs];\n      } // temporal backward compatibility\n      data.data.faces = faces;\n\n      return data;\n    },\n\n    clone: function () {\n      /*\n       // Handle primitives\n\n       var parameters = this.parameters;\n\n       if ( parameters !== undefined ) {\n\n       var values = [];\n\n       for ( var key in parameters ) {\n\n       values.push( parameters[ key ] );\n\n       }\n\n       var geometry = Object.create( this.constructor.prototype );\n       this.constructor.apply( geometry, values );\n       return geometry;\n\n       }\n\n       return new this.constructor().copy( this );\n       */\n\n      return new Geometry().copy(this);\n    },\n\n    copy: function (source) {\n      var i, il, j, jl, k, kl;\n\n      // reset\n\n      this.vertices = [];\n      this.colors = [];\n      this.faces = [];\n      this.faceVertexUvs = [[]];\n      this.morphTargets = [];\n      this.morphNormals = [];\n      this.skinWeights = [];\n      this.skinIndices = [];\n      this.lineDistances = [];\n      this.boundingBox = null;\n      this.boundingSphere = null;\n\n      // name\n\n      this.name = source.name;\n\n      // vertices\n\n      var vertices = source.vertices;\n\n      for (i = 0, il = vertices.length; i < il; i++) {\n        this.vertices.push(vertices[i].clone());\n      }\n\n      // colors\n\n      var colors = source.colors;\n\n      for (i = 0, il = colors.length; i < il; i++) {\n        this.colors.push(colors[i].clone());\n      }\n\n      // faces\n\n      var faces = source.faces;\n\n      for (i = 0, il = faces.length; i < il; i++) {\n        this.faces.push(faces[i].clone());\n      }\n\n      // face vertex uvs\n\n      for (i = 0, il = source.faceVertexUvs.length; i < il; i++) {\n        var faceVertexUvs = source.faceVertexUvs[i];\n\n        if (this.faceVertexUvs[i] === undefined) {\n          this.faceVertexUvs[i] = [];\n        }\n\n        for (j = 0, jl = faceVertexUvs.length; j < jl; j++) {\n          var uvs = faceVertexUvs[j],\n            uvsCopy = [];\n\n          for (k = 0, kl = uvs.length; k < kl; k++) {\n            var uv = uvs[k];\n\n            uvsCopy.push(uv.clone());\n          }\n\n          this.faceVertexUvs[i].push(uvsCopy);\n        }\n      }\n\n      // morph targets\n\n      var morphTargets = source.morphTargets;\n\n      for (i = 0, il = morphTargets.length; i < il; i++) {\n        var morphTarget = {};\n        morphTarget.name = morphTargets[i].name;\n\n        // vertices\n\n        if (morphTargets[i].vertices !== undefined) {\n          morphTarget.vertices = [];\n\n          for (j = 0, jl = morphTargets[i].vertices.length; j < jl; j++) {\n            morphTarget.vertices.push(morphTargets[i].vertices[j].clone());\n          }\n        }\n\n        // normals\n\n        if (morphTargets[i].normals !== undefined) {\n          morphTarget.normals = [];\n\n          for (j = 0, jl = morphTargets[i].normals.length; j < jl; j++) {\n            morphTarget.normals.push(morphTargets[i].normals[j].clone());\n          }\n        }\n\n        this.morphTargets.push(morphTarget);\n      }\n\n      // morph normals\n\n      var morphNormals = source.morphNormals;\n\n      for (i = 0, il = morphNormals.length; i < il; i++) {\n        var morphNormal = {};\n\n        // vertex normals\n\n        if (morphNormals[i].vertexNormals !== undefined) {\n          morphNormal.vertexNormals = [];\n\n          for (j = 0, jl = morphNormals[i].vertexNormals.length; j < jl; j++) {\n            var srcVertexNormal = morphNormals[i].vertexNormals[j];\n            var destVertexNormal = {};\n\n            destVertexNormal.a = srcVertexNormal.a.clone();\n            destVertexNormal.b = srcVertexNormal.b.clone();\n            destVertexNormal.c = srcVertexNormal.c.clone();\n\n            morphNormal.vertexNormals.push(destVertexNormal);\n          }\n        }\n\n        // face normals\n\n        if (morphNormals[i].faceNormals !== undefined) {\n          morphNormal.faceNormals = [];\n\n          for (j = 0, jl = morphNormals[i].faceNormals.length; j < jl; j++) {\n            morphNormal.faceNormals.push(\n              morphNormals[i].faceNormals[j].clone()\n            );\n          }\n        }\n\n        this.morphNormals.push(morphNormal);\n      }\n\n      // skin weights\n\n      var skinWeights = source.skinWeights;\n\n      for (i = 0, il = skinWeights.length; i < il; i++) {\n        this.skinWeights.push(skinWeights[i].clone());\n      }\n\n      // skin indices\n\n      var skinIndices = source.skinIndices;\n\n      for (i = 0, il = skinIndices.length; i < il; i++) {\n        this.skinIndices.push(skinIndices[i].clone());\n      }\n\n      // line distances\n\n      var lineDistances = source.lineDistances;\n\n      for (i = 0, il = lineDistances.length; i < il; i++) {\n        this.lineDistances.push(lineDistances[i]);\n      }\n\n      // bounding box\n\n      var boundingBox = source.boundingBox;\n\n      if (boundingBox !== null) {\n        this.boundingBox = boundingBox.clone();\n      }\n\n      // bounding sphere\n\n      var boundingSphere = source.boundingSphere;\n\n      if (boundingSphere !== null) {\n        this.boundingSphere = boundingSphere.clone();\n      }\n\n      // update flags\n\n      this.elementsNeedUpdate = source.elementsNeedUpdate;\n      this.verticesNeedUpdate = source.verticesNeedUpdate;\n      this.uvsNeedUpdate = source.uvsNeedUpdate;\n      this.normalsNeedUpdate = source.normalsNeedUpdate;\n      this.colorsNeedUpdate = source.colorsNeedUpdate;\n      this.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n      this.groupsNeedUpdate = source.groupsNeedUpdate;\n\n      return this;\n    },\n\n    dispose: function () {\n      this.dispatchEvent({\n        type: \"dispose\",\n      });\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // BoxGeometry\n\n  var BoxGeometry = /*@__PURE__*/ (function (Geometry) {\n    function BoxGeometry(\n      width,\n      height,\n      depth,\n      widthSegments,\n      heightSegments,\n      depthSegments\n    ) {\n      Geometry.call(this);\n\n      this.type = \"BoxGeometry\";\n\n      this.parameters = {\n        width: width,\n        height: height,\n        depth: depth,\n        widthSegments: widthSegments,\n        heightSegments: heightSegments,\n        depthSegments: depthSegments,\n      };\n\n      this.fromBufferGeometry(\n        new BoxBufferGeometry(\n          width,\n          height,\n          depth,\n          widthSegments,\n          heightSegments,\n          depthSegments\n        )\n      );\n      this.mergeVertices();\n    }\n\n    if (Geometry) BoxGeometry.__proto__ = Geometry;\n    BoxGeometry.prototype = Object.create(Geometry && Geometry.prototype);\n    BoxGeometry.prototype.constructor = BoxGeometry;\n\n    return BoxGeometry;\n  })(Geometry);\n\n  // BoxBufferGeometry\n\n  var BoxBufferGeometry = /*@__PURE__*/ (function (BufferGeometry) {\n    function BoxBufferGeometry(\n      width,\n      height,\n      depth,\n      widthSegments,\n      heightSegments,\n      depthSegments\n    ) {\n      BufferGeometry.call(this);\n\n      this.type = \"BoxBufferGeometry\";\n\n      this.parameters = {\n        width: width,\n        height: height,\n        depth: depth,\n        widthSegments: widthSegments,\n        heightSegments: heightSegments,\n        depthSegments: depthSegments,\n      };\n\n      var scope = this;\n\n      width = width || 1;\n      height = height || 1;\n      depth = depth || 1;\n\n      // segments\n\n      widthSegments = Math.floor(widthSegments) || 1;\n      heightSegments = Math.floor(heightSegments) || 1;\n      depthSegments = Math.floor(depthSegments) || 1;\n\n      // buffers\n\n      var indices = [];\n      var vertices = [];\n      var normals = [];\n      var uvs = [];\n\n      // helper variables\n\n      var numberOfVertices = 0;\n      var groupStart = 0;\n\n      // build each side of the box geometry\n\n      buildPlane(\n        \"z\",\n        \"y\",\n        \"x\",\n        -1,\n        -1,\n        depth,\n        height,\n        width,\n        depthSegments,\n        heightSegments,\n        0\n      ); // px\n      buildPlane(\n        \"z\",\n        \"y\",\n        \"x\",\n        1,\n        -1,\n        depth,\n        height,\n        -width,\n        depthSegments,\n        heightSegments,\n        1\n      ); // nx\n      buildPlane(\n        \"x\",\n        \"z\",\n        \"y\",\n        1,\n        1,\n        width,\n        depth,\n        height,\n        widthSegments,\n        depthSegments,\n        2\n      ); // py\n      buildPlane(\n        \"x\",\n        \"z\",\n        \"y\",\n        1,\n        -1,\n        width,\n        depth,\n        -height,\n        widthSegments,\n        depthSegments,\n        3\n      ); // ny\n      buildPlane(\n        \"x\",\n        \"y\",\n        \"z\",\n        1,\n        -1,\n        width,\n        height,\n        depth,\n        widthSegments,\n        heightSegments,\n        4\n      ); // pz\n      buildPlane(\n        \"x\",\n        \"y\",\n        \"z\",\n        -1,\n        -1,\n        width,\n        height,\n        -depth,\n        widthSegments,\n        heightSegments,\n        5\n      ); // nz\n\n      // build geometry\n\n      this.setIndex(indices);\n      this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n      this.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n      this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n\n      function buildPlane(\n        u,\n        v,\n        w,\n        udir,\n        vdir,\n        width,\n        height,\n        depth,\n        gridX,\n        gridY,\n        materialIndex\n      ) {\n        var segmentWidth = width / gridX;\n        var segmentHeight = height / gridY;\n\n        var widthHalf = width / 2;\n        var heightHalf = height / 2;\n        var depthHalf = depth / 2;\n\n        var gridX1 = gridX + 1;\n        var gridY1 = gridY + 1;\n\n        var vertexCounter = 0;\n        var groupCount = 0;\n\n        var ix, iy;\n\n        var vector = new Vector3();\n\n        // generate vertices, normals and uvs\n\n        for (iy = 0; iy < gridY1; iy++) {\n          var y = iy * segmentHeight - heightHalf;\n\n          for (ix = 0; ix < gridX1; ix++) {\n            var x = ix * segmentWidth - widthHalf;\n\n            // set values to correct vector component\n\n            vector[u] = x * udir;\n            vector[v] = y * vdir;\n            vector[w] = depthHalf;\n\n            // now apply vector to vertex buffer\n\n            vertices.push(vector.x, vector.y, vector.z);\n\n            // set values to correct vector component\n\n            vector[u] = 0;\n            vector[v] = 0;\n            vector[w] = depth > 0 ? 1 : -1;\n\n            // now apply vector to normal buffer\n\n            normals.push(vector.x, vector.y, vector.z);\n\n            // uvs\n\n            uvs.push(ix / gridX);\n            uvs.push(1 - iy / gridY);\n\n            // counters\n\n            vertexCounter += 1;\n          }\n        }\n\n        // indices\n\n        // 1. you need three indices to draw a single face\n        // 2. a single segment consists of two faces\n        // 3. so we need to generate six (2*3) indices per segment\n\n        for (iy = 0; iy < gridY; iy++) {\n          for (ix = 0; ix < gridX; ix++) {\n            var a = numberOfVertices + ix + gridX1 * iy;\n            var b = numberOfVertices + ix + gridX1 * (iy + 1);\n            var c = numberOfVertices + (ix + 1) + gridX1 * (iy + 1);\n            var d = numberOfVertices + (ix + 1) + gridX1 * iy;\n\n            // faces\n\n            indices.push(a, b, d);\n            indices.push(b, c, d);\n\n            // increase counter\n\n            groupCount += 6;\n          }\n        }\n\n        // add a group to the geometry. this will ensure multi material support\n\n        scope.addGroup(groupStart, groupCount, materialIndex);\n\n        // calculate new start value for groups\n\n        groupStart += groupCount;\n\n        // update total number of vertices\n\n        numberOfVertices += vertexCounter;\n      }\n    }\n\n    if (BufferGeometry) BoxBufferGeometry.__proto__ = BufferGeometry;\n    BoxBufferGeometry.prototype = Object.create(\n      BufferGeometry && BufferGeometry.prototype\n    );\n    BoxBufferGeometry.prototype.constructor = BoxBufferGeometry;\n\n    return BoxBufferGeometry;\n  })(BufferGeometry);\n\n  /**\n   * Uniform Utilities\n   */\n\n  function cloneUniforms(src) {\n    var dst = {};\n\n    for (var u in src) {\n      dst[u] = {};\n\n      for (var p in src[u]) {\n        var property = src[u][p];\n\n        if (\n          property &&\n          (property.isColor ||\n            property.isMatrix3 ||\n            property.isMatrix4 ||\n            property.isVector2 ||\n            property.isVector3 ||\n            property.isVector4 ||\n            property.isTexture)\n        ) {\n          dst[u][p] = property.clone();\n        } else if (Array.isArray(property)) {\n          dst[u][p] = property.slice();\n        } else {\n          dst[u][p] = property;\n        }\n      }\n    }\n\n    return dst;\n  }\n\n  function mergeUniforms(uniforms) {\n    var merged = {};\n\n    for (var u = 0; u < uniforms.length; u++) {\n      var tmp = cloneUniforms(uniforms[u]);\n\n      for (var p in tmp) {\n        merged[p] = tmp[p];\n      }\n    }\n\n    return merged;\n  }\n\n  // Legacy\n\n  var UniformsUtils = {\n    clone: cloneUniforms,\n    merge: mergeUniforms,\n  };\n\n  var default_vertex =\n    \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\n  var default_fragment =\n    \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  defines: { \"label\" : \"value\" },\n   *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n   *\n   *  fragmentShader: <string>,\n   *  vertexShader: <string>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  lights: <bool>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function ShaderMaterial(parameters) {\n    Material.call(this);\n\n    this.type = \"ShaderMaterial\";\n\n    this.defines = {};\n    this.uniforms = {};\n\n    this.vertexShader = default_vertex;\n    this.fragmentShader = default_fragment;\n\n    this.linewidth = 1;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n\n    this.fog = false; // set to use scene fog\n    this.lights = false; // set to use scene lights\n    this.clipping = false; // set to use user-defined clipping planes\n\n    this.skinning = false; // set to use skinning attribute streams\n    this.morphTargets = false; // set to use morph targets\n    this.morphNormals = false; // set to use morph normals\n\n    this.extensions = {\n      derivatives: false, // set to use derivatives\n      fragDepth: false, // set to use fragment depth values\n      drawBuffers: false, // set to use draw buffers\n      shaderTextureLOD: false, // set to use shader texture LOD\n    };\n\n    // When rendered geometry doesn't include these attributes but the material does,\n    // use these default values in WebGL. This avoids errors when buffer data is missing.\n    this.defaultAttributeValues = {\n      color: [1, 1, 1],\n      uv: [0, 0],\n      uv2: [0, 0],\n    };\n\n    this.index0AttributeName = undefined;\n    this.uniformsNeedUpdate = false;\n\n    if (parameters !== undefined) {\n      if (parameters.attributes !== undefined) {\n        console.error(\n          \"THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.\"\n        );\n      }\n\n      this.setValues(parameters);\n    }\n  }\n\n  ShaderMaterial.prototype = Object.create(Material.prototype);\n  ShaderMaterial.prototype.constructor = ShaderMaterial;\n\n  ShaderMaterial.prototype.isShaderMaterial = true;\n\n  ShaderMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.fragmentShader = source.fragmentShader;\n    this.vertexShader = source.vertexShader;\n\n    this.uniforms = cloneUniforms(source.uniforms);\n\n    this.defines = Object.assign({}, source.defines);\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n\n    this.lights = source.lights;\n    this.clipping = source.clipping;\n\n    this.skinning = source.skinning;\n\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    this.extensions = source.extensions;\n\n    return this;\n  };\n\n  ShaderMaterial.prototype.toJSON = function (meta) {\n    var data = Material.prototype.toJSON.call(this, meta);\n\n    data.uniforms = {};\n\n    for (var name in this.uniforms) {\n      var uniform = this.uniforms[name];\n      var value = uniform.value;\n\n      if (value && value.isTexture) {\n        data.uniforms[name] = {\n          type: \"t\",\n          value: value.toJSON(meta).uuid,\n        };\n      } else if (value && value.isColor) {\n        data.uniforms[name] = {\n          type: \"c\",\n          value: value.getHex(),\n        };\n      } else if (value && value.isVector2) {\n        data.uniforms[name] = {\n          type: \"v2\",\n          value: value.toArray(),\n        };\n      } else if (value && value.isVector3) {\n        data.uniforms[name] = {\n          type: \"v3\",\n          value: value.toArray(),\n        };\n      } else if (value && value.isVector4) {\n        data.uniforms[name] = {\n          type: \"v4\",\n          value: value.toArray(),\n        };\n      } else if (value && value.isMatrix3) {\n        data.uniforms[name] = {\n          type: \"m3\",\n          value: value.toArray(),\n        };\n      } else if (value && value.isMatrix4) {\n        data.uniforms[name] = {\n          type: \"m4\",\n          value: value.toArray(),\n        };\n      } else {\n        data.uniforms[name] = {\n          value: value,\n        };\n\n        // note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n      }\n    }\n\n    if (Object.keys(this.defines).length > 0) {\n      data.defines = this.defines;\n    }\n\n    data.vertexShader = this.vertexShader;\n    data.fragmentShader = this.fragmentShader;\n\n    var extensions = {};\n\n    for (var key in this.extensions) {\n      if (this.extensions[key] === true) {\n        extensions[key] = true;\n      }\n    }\n\n    if (Object.keys(extensions).length > 0) {\n      data.extensions = extensions;\n    }\n\n    return data;\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author mikael emtinger / http://gomo.se/\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function Camera() {\n    Object3D.call(this);\n\n    this.type = \"Camera\";\n\n    this.matrixWorldInverse = new Matrix4();\n\n    this.projectionMatrix = new Matrix4();\n    this.projectionMatrixInverse = new Matrix4();\n  }\n\n  Camera.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Camera,\n\n    isCamera: true,\n\n    copy: function (source, recursive) {\n      Object3D.prototype.copy.call(this, source, recursive);\n\n      this.matrixWorldInverse.copy(source.matrixWorldInverse);\n\n      this.projectionMatrix.copy(source.projectionMatrix);\n      this.projectionMatrixInverse.copy(source.projectionMatrixInverse);\n\n      return this;\n    },\n\n    getWorldDirection: function (target) {\n      if (target === undefined) {\n        console.warn(\n          \"THREE.Camera: .getWorldDirection() target is now required\"\n        );\n        target = new Vector3();\n      }\n\n      this.updateMatrixWorld(true);\n\n      var e = this.matrixWorld.elements;\n\n      return target.set(-e[8], -e[9], -e[10]).normalize();\n    },\n\n    updateMatrixWorld: function (force) {\n      Object3D.prototype.updateMatrixWorld.call(this, force);\n\n      this.matrixWorldInverse.getInverse(this.matrixWorld);\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author greggman / http://games.greggman.com/\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * @author tschw\n   */\n\n  function PerspectiveCamera(fov, aspect, near, far) {\n    Camera.call(this);\n\n    this.type = \"PerspectiveCamera\";\n\n    this.fov = fov !== undefined ? fov : 50;\n    this.zoom = 1;\n\n    this.near = near !== undefined ? near : 0.1;\n    this.far = far !== undefined ? far : 2000;\n    this.focus = 10;\n\n    this.aspect = aspect !== undefined ? aspect : 1;\n    this.view = null;\n\n    this.filmGauge = 35; // width of the film (default in millimeters)\n    this.filmOffset = 0; // horizontal film offset (same unit as gauge)\n\n    this.updateProjectionMatrix();\n  }\n\n  PerspectiveCamera.prototype = Object.assign(Object.create(Camera.prototype), {\n    constructor: PerspectiveCamera,\n\n    isPerspectiveCamera: true,\n\n    copy: function (source, recursive) {\n      Camera.prototype.copy.call(this, source, recursive);\n\n      this.fov = source.fov;\n      this.zoom = source.zoom;\n\n      this.near = source.near;\n      this.far = source.far;\n      this.focus = source.focus;\n\n      this.aspect = source.aspect;\n      this.view = source.view === null ? null : Object.assign({}, source.view);\n\n      this.filmGauge = source.filmGauge;\n      this.filmOffset = source.filmOffset;\n\n      return this;\n    },\n\n    /**\n     * Sets the FOV by focal length in respect to the current .filmGauge.\n     *\n     * The default film gauge is 35, so that the focal length can be specified for\n     * a 35mm (full frame) camera.\n     *\n     * Values for focal length and film gauge must have the same unit.\n     */\n    setFocalLength: function (focalLength) {\n      // see http://www.bobatkins.com/photography/technical/field_of_view.html\n      var vExtentSlope = (0.5 * this.getFilmHeight()) / focalLength;\n\n      this.fov = _Math.RAD2DEG * 2 * Math.atan(vExtentSlope);\n      this.updateProjectionMatrix();\n    },\n\n    /**\n     * Calculates the focal length from the current .fov and .filmGauge.\n     */\n    getFocalLength: function () {\n      var vExtentSlope = Math.tan(_Math.DEG2RAD * 0.5 * this.fov);\n\n      return (0.5 * this.getFilmHeight()) / vExtentSlope;\n    },\n\n    getEffectiveFOV: function () {\n      return (\n        _Math.RAD2DEG *\n        2 *\n        Math.atan(Math.tan(_Math.DEG2RAD * 0.5 * this.fov) / this.zoom)\n      );\n    },\n\n    getFilmWidth: function () {\n      // film not completely covered in portrait format (aspect < 1)\n      return this.filmGauge * Math.min(this.aspect, 1);\n    },\n\n    getFilmHeight: function () {\n      // film not completely covered in landscape format (aspect > 1)\n      return this.filmGauge / Math.max(this.aspect, 1);\n    },\n\n    /**\n     * Sets an offset in a larger frustum. This is useful for multi-window or\n     * multi-monitor/multi-machine setups.\n     *\n     * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n     * the monitors are in grid like this\n     *\n     *   +---+---+---+\n     *   | A | B | C |\n     *   +---+---+---+\n     *   | D | E | F |\n     *   +---+---+---+\n     *\n     * then for each monitor you would call it like this\n     *\n     *   var w = 1920;\n     *   var h = 1080;\n     *   var fullWidth = w * 3;\n     *   var fullHeight = h * 2;\n     *\n     *   --A--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n     *   --B--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n     *   --C--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n     *   --D--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n     *   --E--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n     *   --F--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n     *\n     *   Note there is no reason monitors have to be the same size or in a grid.\n     */\n    setViewOffset: function (fullWidth, fullHeight, x, y, width, height) {\n      this.aspect = fullWidth / fullHeight;\n\n      if (this.view === null) {\n        this.view = {\n          enabled: true,\n          fullWidth: 1,\n          fullHeight: 1,\n          offsetX: 0,\n          offsetY: 0,\n          width: 1,\n          height: 1,\n        };\n      }\n\n      this.view.enabled = true;\n      this.view.fullWidth = fullWidth;\n      this.view.fullHeight = fullHeight;\n      this.view.offsetX = x;\n      this.view.offsetY = y;\n      this.view.width = width;\n      this.view.height = height;\n\n      this.updateProjectionMatrix();\n    },\n\n    clearViewOffset: function () {\n      if (this.view !== null) {\n        this.view.enabled = false;\n      }\n\n      this.updateProjectionMatrix();\n    },\n\n    updateProjectionMatrix: function () {\n      var near = this.near,\n        top = (near * Math.tan(_Math.DEG2RAD * 0.5 * this.fov)) / this.zoom,\n        height = 2 * top,\n        width = this.aspect * height,\n        left = -0.5 * width,\n        view = this.view;\n\n      if (this.view !== null && this.view.enabled) {\n        var fullWidth = view.fullWidth,\n          fullHeight = view.fullHeight;\n\n        left += (view.offsetX * width) / fullWidth;\n        top -= (view.offsetY * height) / fullHeight;\n        width *= view.width / fullWidth;\n        height *= view.height / fullHeight;\n      }\n\n      var skew = this.filmOffset;\n      if (skew !== 0) {\n        left += (near * skew) / this.getFilmWidth();\n      }\n\n      this.projectionMatrix.makePerspective(\n        left,\n        left + width,\n        top,\n        top - height,\n        near,\n        this.far\n      );\n\n      this.projectionMatrixInverse.getInverse(this.projectionMatrix);\n    },\n\n    toJSON: function (meta) {\n      var data = Object3D.prototype.toJSON.call(this, meta);\n\n      data.object.fov = this.fov;\n      data.object.zoom = this.zoom;\n\n      data.object.near = this.near;\n      data.object.far = this.far;\n      data.object.focus = this.focus;\n\n      data.object.aspect = this.aspect;\n\n      if (this.view !== null) {\n        data.object.view = Object.assign({}, this.view);\n      }\n\n      data.object.filmGauge = this.filmGauge;\n      data.object.filmOffset = this.filmOffset;\n\n      return data;\n    },\n  });\n\n  /**\n   * Camera for rendering cube maps\n   *\t- renders scene into axis-aligned cube\n   *\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  var fov = 90,\n    aspect = 1;\n\n  function CubeCamera(near, far, cubeResolution, options) {\n    Object3D.call(this);\n\n    this.type = \"CubeCamera\";\n\n    var cameraPX = new PerspectiveCamera(fov, aspect, near, far);\n    cameraPX.up.set(0, -1, 0);\n    cameraPX.lookAt(new Vector3(1, 0, 0));\n    this.add(cameraPX);\n\n    var cameraNX = new PerspectiveCamera(fov, aspect, near, far);\n    cameraNX.up.set(0, -1, 0);\n    cameraNX.lookAt(new Vector3(-1, 0, 0));\n    this.add(cameraNX);\n\n    var cameraPY = new PerspectiveCamera(fov, aspect, near, far);\n    cameraPY.up.set(0, 0, 1);\n    cameraPY.lookAt(new Vector3(0, 1, 0));\n    this.add(cameraPY);\n\n    var cameraNY = new PerspectiveCamera(fov, aspect, near, far);\n    cameraNY.up.set(0, 0, -1);\n    cameraNY.lookAt(new Vector3(0, -1, 0));\n    this.add(cameraNY);\n\n    var cameraPZ = new PerspectiveCamera(fov, aspect, near, far);\n    cameraPZ.up.set(0, -1, 0);\n    cameraPZ.lookAt(new Vector3(0, 0, 1));\n    this.add(cameraPZ);\n\n    var cameraNZ = new PerspectiveCamera(fov, aspect, near, far);\n    cameraNZ.up.set(0, -1, 0);\n    cameraNZ.lookAt(new Vector3(0, 0, -1));\n    this.add(cameraNZ);\n\n    options = options || {\n      format: RGBFormat,\n      magFilter: LinearFilter,\n      minFilter: LinearFilter,\n    };\n\n    this.renderTarget = new WebGLRenderTargetCube(\n      cubeResolution,\n      cubeResolution,\n      options\n    );\n    this.renderTarget.texture.name = \"CubeCamera\";\n\n    this.update = function (renderer, scene) {\n      if (this.parent === null) {\n        this.updateMatrixWorld();\n      }\n\n      var currentRenderTarget = renderer.getRenderTarget();\n\n      var renderTarget = this.renderTarget;\n      var generateMipmaps = renderTarget.texture.generateMipmaps;\n\n      renderTarget.texture.generateMipmaps = false;\n\n      renderer.setRenderTarget(renderTarget, 0);\n      renderer.render(scene, cameraPX);\n\n      renderer.setRenderTarget(renderTarget, 1);\n      renderer.render(scene, cameraNX);\n\n      renderer.setRenderTarget(renderTarget, 2);\n      renderer.render(scene, cameraPY);\n\n      renderer.setRenderTarget(renderTarget, 3);\n      renderer.render(scene, cameraNY);\n\n      renderer.setRenderTarget(renderTarget, 4);\n      renderer.render(scene, cameraPZ);\n\n      renderTarget.texture.generateMipmaps = generateMipmaps;\n\n      renderer.setRenderTarget(renderTarget, 5);\n      renderer.render(scene, cameraNZ);\n\n      renderer.setRenderTarget(currentRenderTarget);\n    };\n\n    this.clear = function (renderer, color, depth, stencil) {\n      var currentRenderTarget = renderer.getRenderTarget();\n\n      var renderTarget = this.renderTarget;\n\n      for (var i = 0; i < 6; i++) {\n        renderer.setRenderTarget(renderTarget, i);\n\n        renderer.clear(color, depth, stencil);\n      }\n\n      renderer.setRenderTarget(currentRenderTarget);\n    };\n  }\n\n  CubeCamera.prototype = Object.create(Object3D.prototype);\n  CubeCamera.prototype.constructor = CubeCamera;\n\n  /**\n   * @author alteredq / http://alteredqualia.com\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function WebGLRenderTargetCube(width, height, options) {\n    WebGLRenderTarget.call(this, width, height, options);\n  }\n\n  WebGLRenderTargetCube.prototype = Object.create(WebGLRenderTarget.prototype);\n  WebGLRenderTargetCube.prototype.constructor = WebGLRenderTargetCube;\n\n  WebGLRenderTargetCube.prototype.isWebGLRenderTargetCube = true;\n\n  WebGLRenderTargetCube.prototype.fromEquirectangularTexture = function (\n    renderer,\n    texture\n  ) {\n    this.texture.type = texture.type;\n    this.texture.format = texture.format;\n    this.texture.encoding = texture.encoding;\n\n    var scene = new Scene();\n\n    var shader = {\n      uniforms: {\n        tEquirect: {\n          value: null,\n        },\n      },\n\n      vertexShader: [\n        \"varying vec3 vWorldDirection;\",\n\n        \"vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\",\n\n        \"\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\",\n\n        \"}\",\n\n        \"void main() {\",\n\n        \"\tvWorldDirection = transformDirection( position, modelMatrix );\",\n\n        \"\t#include <begin_vertex>\",\n        \"\t#include <project_vertex>\",\n\n        \"}\",\n      ].join(\"\\n\"),\n\n      fragmentShader: [\n        \"uniform sampler2D tEquirect;\",\n\n        \"varying vec3 vWorldDirection;\",\n\n        \"#define RECIPROCAL_PI 0.31830988618\",\n        \"#define RECIPROCAL_PI2 0.15915494\",\n\n        \"void main() {\",\n\n        \"\tvec3 direction = normalize( vWorldDirection );\",\n\n        \"\tvec2 sampleUV;\",\n\n        \"\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\",\n\n        \"\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\",\n\n        \"\tgl_FragColor = texture2D( tEquirect, sampleUV );\",\n\n        \"}\",\n      ].join(\"\\n\"),\n    };\n\n    var material = new ShaderMaterial({\n      type: \"CubemapFromEquirect\",\n\n      uniforms: cloneUniforms(shader.uniforms),\n      vertexShader: shader.vertexShader,\n      fragmentShader: shader.fragmentShader,\n      side: BackSide,\n      blending: NoBlending,\n    });\n\n    material.uniforms.tEquirect.value = texture;\n\n    var mesh = new Mesh(new BoxBufferGeometry(5, 5, 5), material);\n\n    scene.add(mesh);\n\n    var camera = new CubeCamera(1, 10, 1);\n\n    camera.renderTarget = this;\n    camera.renderTarget.texture.name = \"CubeCameraTexture\";\n\n    camera.update(renderer, scene);\n\n    mesh.geometry.dispose();\n    mesh.material.dispose();\n\n    return this;\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function DataTexture(\n    data,\n    width,\n    height,\n    format,\n    type,\n    mapping,\n    wrapS,\n    wrapT,\n    magFilter,\n    minFilter,\n    anisotropy,\n    encoding\n  ) {\n    Texture.call(\n      this,\n      null,\n      mapping,\n      wrapS,\n      wrapT,\n      magFilter,\n      minFilter,\n      format,\n      type,\n      anisotropy,\n      encoding\n    );\n\n    this.image = {\n      data: data || null,\n      width: width || 1,\n      height: height || 1,\n    };\n\n    this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n    this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n    this.generateMipmaps = false;\n    this.flipY = false;\n    this.unpackAlignment = 1;\n\n    this.needsUpdate = true;\n  }\n\n  DataTexture.prototype = Object.create(Texture.prototype);\n  DataTexture.prototype.constructor = DataTexture;\n\n  DataTexture.prototype.isDataTexture = true;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author bhouston / http://clara.io\n   */\n\n  var _sphere$1 = new Sphere();\n  var _vector$6 = new Vector3();\n\n  function Frustum(p0, p1, p2, p3, p4, p5) {\n    this.planes = [\n      p0 !== undefined ? p0 : new Plane(),\n      p1 !== undefined ? p1 : new Plane(),\n      p2 !== undefined ? p2 : new Plane(),\n      p3 !== undefined ? p3 : new Plane(),\n      p4 !== undefined ? p4 : new Plane(),\n      p5 !== undefined ? p5 : new Plane(),\n    ];\n  }\n\n  Object.assign(Frustum.prototype, {\n    set: function (p0, p1, p2, p3, p4, p5) {\n      var planes = this.planes;\n\n      planes[0].copy(p0);\n      planes[1].copy(p1);\n      planes[2].copy(p2);\n      planes[3].copy(p3);\n      planes[4].copy(p4);\n      planes[5].copy(p5);\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (frustum) {\n      var planes = this.planes;\n\n      for (var i = 0; i < 6; i++) {\n        planes[i].copy(frustum.planes[i]);\n      }\n\n      return this;\n    },\n\n    setFromMatrix: function (m) {\n      var planes = this.planes;\n      var me = m.elements;\n      var me0 = me[0],\n        me1 = me[1],\n        me2 = me[2],\n        me3 = me[3];\n      var me4 = me[4],\n        me5 = me[5],\n        me6 = me[6],\n        me7 = me[7];\n      var me8 = me[8],\n        me9 = me[9],\n        me10 = me[10],\n        me11 = me[11];\n      var me12 = me[12],\n        me13 = me[13],\n        me14 = me[14],\n        me15 = me[15];\n\n      planes[0]\n        .setComponents(me3 - me0, me7 - me4, me11 - me8, me15 - me12)\n        .normalize();\n      planes[1]\n        .setComponents(me3 + me0, me7 + me4, me11 + me8, me15 + me12)\n        .normalize();\n      planes[2]\n        .setComponents(me3 + me1, me7 + me5, me11 + me9, me15 + me13)\n        .normalize();\n      planes[3]\n        .setComponents(me3 - me1, me7 - me5, me11 - me9, me15 - me13)\n        .normalize();\n      planes[4]\n        .setComponents(me3 - me2, me7 - me6, me11 - me10, me15 - me14)\n        .normalize();\n      planes[5]\n        .setComponents(me3 + me2, me7 + me6, me11 + me10, me15 + me14)\n        .normalize();\n\n      return this;\n    },\n\n    intersectsObject: function (object) {\n      var geometry = object.geometry;\n\n      if (geometry.boundingSphere === null) {\n        geometry.computeBoundingSphere();\n      }\n\n      _sphere$1.copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);\n\n      return this.intersectsSphere(_sphere$1);\n    },\n\n    intersectsSprite: function (sprite) {\n      _sphere$1.center.set(0, 0, 0);\n      _sphere$1.radius = 0.7071067811865476;\n      _sphere$1.applyMatrix4(sprite.matrixWorld);\n\n      return this.intersectsSphere(_sphere$1);\n    },\n\n    intersectsSphere: function (sphere) {\n      var planes = this.planes;\n      var center = sphere.center;\n      var negRadius = -sphere.radius;\n\n      for (var i = 0; i < 6; i++) {\n        var distance = planes[i].distanceToPoint(center);\n\n        if (distance < negRadius) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n    intersectsBox: function (box) {\n      var planes = this.planes;\n\n      for (var i = 0; i < 6; i++) {\n        var plane = planes[i];\n\n        // corner at max distance\n\n        _vector$6.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n        _vector$6.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n        _vector$6.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n        if (plane.distanceToPoint(_vector$6) < 0) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n    containsPoint: function (point) {\n      var planes = this.planes;\n\n      for (var i = 0; i < 6; i++) {\n        if (planes[i].distanceToPoint(point) < 0) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n  });\n\n  var alphamap_fragment =\n    \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\n  var alphamap_pars_fragment =\n    \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\n  var alphatest_fragment =\n    \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\n  var aomap_fragment =\n    \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\n  var aomap_pars_fragment =\n    \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\n  var begin_vertex = \"vec3 transformed = vec3( position );\";\n\n  var beginnormal_vertex =\n    \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\n  var bsdfs =\n    \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha  = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\n  var bumpmap_pars_fragment =\n    \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\n  var clipping_planes_fragment =\n    \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\n  var clipping_planes_pars_fragment =\n    \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\n  var clipping_planes_pars_vertex =\n    \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\";\n\n  var clipping_planes_vertex =\n    \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\";\n\n  var color_fragment =\n    \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\n  var color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\n  var color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\n  var color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n\n  var common =\n    \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n  return m[ 2 ][ 3 ] == - 1.0;\\n}\";\n\n  var cube_uv_reflection_fragment =\n    \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_maxMipLevel 8.0\\n#define cubeUV_minMipLevel 4.0\\n#define cubeUV_maxTileSize 256.0\\n#define cubeUV_minTileSize 16.0\\nfloat getFace(vec3 direction) {\\n    vec3 absDirection = abs(direction);\\n    float face = -1.0;\\n    if (absDirection.x > absDirection.z) {\\n      if (absDirection.x > absDirection.y)\\n        face = direction.x > 0.0 ? 0.0 : 3.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    } else {\\n      if (absDirection.z > absDirection.y)\\n        face = direction.z > 0.0 ? 2.0 : 5.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    }\\n    return face;\\n}\\nvec2 getUV(vec3 direction, float face) {\\n    vec2 uv;\\n    if (face == 0.0) {\\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\\n    } else if (face == 1.0) {\\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\\n    } else if (face == 2.0) {\\n      uv = direction.xy / abs(direction.z);\\n    } else if (face == 3.0) {\\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\\n    } else if (face == 4.0) {\\n      uv = direction.xz / abs(direction.y);\\n    } else {\\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\\n    }\\n    return 0.5 * (uv + 1.0);\\n}\\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\\n  float face = getFace(direction);\\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\\n  mipInt = max(mipInt, cubeUV_minMipLevel);\\n  float faceSize = exp2(mipInt);\\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\\n  vec2 f = fract(uv);\\n  uv += 0.5 - f;\\n  if (face > 2.0) {\\n    uv.y += faceSize;\\n    face -= 3.0;\\n  }\\n  uv.x += face * faceSize;\\n  if(mipInt < cubeUV_maxMipLevel){\\n    uv.y += 2.0 * cubeUV_maxTileSize;\\n  }\\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\\n  uv *= texelSize;\\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x += texelSize;\\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.y += texelSize;\\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x -= texelSize;\\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  vec3 tm = mix(tl, tr, f.x);\\n  vec3 bm = mix(bl, br, f.x);\\n  return mix(tm, bm, f.y);\\n}\\n#define r0 1.0\\n#define v0 0.339\\n#define m0 -2.0\\n#define r1 0.8\\n#define v1 0.276\\n#define m1 -1.0\\n#define r4 0.4\\n#define v4 0.046\\n#define m4 2.0\\n#define r5 0.305\\n#define v5 0.016\\n#define m5 3.0\\n#define r6 0.21\\n#define v6 0.0038\\n#define m6 4.0\\nfloat roughnessToMip(float roughness) {\\n  float mip = 0.0;\\n  if (roughness >= r1) {\\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\\n  } else if (roughness >= r4) {\\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\\n  } else if (roughness >= r5) {\\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\\n  } else if (roughness >= r6) {\\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\\n  } else {\\n    mip = -2.0 * log2(1.16 * roughness);  }\\n  return mip;\\n}\\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\\n  float mipF = fract(mip);\\n  float mipInt = floor(mip);\\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\\n  if (mipF == 0.0) {\\n    return vec4(color0, 1.0);\\n  } else {\\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\\n    return vec4(mix(color0, color1, mipF), 1.0);\\n  }\\n}\\n#endif\";\n\n  var defaultnormal_vertex =\n    \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\n  var displacementmap_pars_vertex =\n    \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\n  var displacementmap_vertex =\n    \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\n  var emissivemap_fragment =\n    \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\n  var emissivemap_pars_fragment =\n    \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\n  var encodings_fragment =\n    \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\n  var encodings_pars_fragment =\n    \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\n  var envmap_fragment =\n    \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\t\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t}  else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ), 0.0 );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\n  var envmap_common_pars_fragment =\n    \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\n  var envmap_pars_fragment =\n    \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\n  var envmap_pars_vertex =\n    \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\n  var envmap_vertex =\n    \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) { \\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\n  var fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\";\n\n  var fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\n  var fog_fragment =\n    \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\n  var fog_pars_fragment =\n    \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\n  var gradientmap_pars_fragment =\n    \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\n  var lightmap_fragment =\n    \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\n  var lightmap_pars_fragment =\n    \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\n  var lights_lambert_vertex =\n    \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\n  var lights_pars_begin =\n    \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\n  var envmap_physical_pars_fragment =\n    \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t  vec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\n  var lights_toon_fragment =\n    \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\n  var lights_toon_pars_fragment =\n    \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\n  var lights_phong_fragment =\n    \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\n  var lights_phong_pars_fragment =\n    \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\n  var lights_physical_fragment =\n    \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = saturate( clearcoat );\\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\n  var lights_physical_pars_fragment =\n    \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\n  var lights_fragment_begin =\n    \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\n  var lights_fragment_maps =\n    \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\n  var lights_fragment_end =\n    \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\n  var logdepthbuf_fragment =\n    \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\n  var logdepthbuf_pars_fragment =\n    \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\n  var logdepthbuf_pars_vertex =\n    \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\n  var logdepthbuf_vertex =\n    \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\n  var map_fragment =\n    \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\n  var map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\n  var map_particle_fragment =\n    \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\n  var map_particle_pars_fragment =\n    \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\n  var metalnessmap_fragment =\n    \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\n  var metalnessmap_pars_fragment =\n    \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\n  var morphnormal_vertex =\n    \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\n  var morphtarget_pars_vertex =\n    \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\n  var morphtarget_vertex =\n    \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\n  var normal_fragment_begin =\n    \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\n  var normal_fragment_maps =\n    \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\n  var normalmap_pars_fragment =\n    \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\";\n\n  var clearcoat_normal_fragment_begin =\n    \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\n  var clearcoat_normal_fragment_maps =\n    \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\\n\\t#endif\\n#endif\";\n\n  var clearcoat_normalmap_pars_fragment =\n    \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\n  var packing =\n    \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\n  var premultiplied_alpha_fragment =\n    \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\n  var project_vertex =\n    \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\n  var dithering_fragment =\n    \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\n  var dithering_pars_fragment =\n    \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\n  var roughnessmap_fragment =\n    \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\n  var roughnessmap_pars_fragment =\n    \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\n  var shadowmap_pars_fragment =\n    \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\n  var shadowmap_pars_vertex =\n    \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\n  var shadowmap_vertex =\n    \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\";\n\n  var shadowmask_pars_fragment =\n    \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\n  var skinbase_vertex =\n    \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\n  var skinning_pars_vertex =\n    \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\n  var skinning_vertex =\n    \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\n  var skinnormal_vertex =\n    \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\n  var specularmap_fragment =\n    \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\n  var specularmap_pars_fragment =\n    \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\n  var tonemapping_fragment =\n    \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\n  var tonemapping_pars_fragment =\n    \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\\n}\";\n\n  var uv_pars_fragment =\n    \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\n  var uv_pars_vertex =\n    \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\n  var uv_vertex =\n    \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\n  var uv2_pars_fragment =\n    \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\n  var uv2_pars_vertex =\n    \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\n  var uv2_vertex =\n    \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\n  var worldpos_vertex =\n    \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\n  var background_frag =\n    \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n  var background_vert =\n    \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\n  var cube_frag =\n    \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n  var cube_vert =\n    \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\n  var depth_frag =\n    \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\";\n\n  var depth_vert =\n    \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\";\n\n  var distanceRGBA_frag =\n    \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\n  var distanceRGBA_vert =\n    \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\n  var equirect_frag =\n    \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n  var equirect_vert =\n    \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\n  var linedashed_frag =\n    \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n  var linedashed_vert =\n    \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var meshbasic_frag =\n    \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n  var meshbasic_vert =\n    \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var meshlambert_frag =\n    \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n  var meshlambert_vert =\n    \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var meshmatcap_frag =\n    \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n  var meshmatcap_vert =\n    \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\n  var meshtoon_frag =\n    \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n  var meshtoon_vert =\n    \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var meshphong_frag =\n    \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n  var meshphong_vert =\n    \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var meshphysical_frag =\n    \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSPARENCY\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSPARENCY\\n\\tuniform float transparency;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSPARENCY\\n\\t\\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n  var meshphysical_vert =\n    \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var normal_frag =\n    \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\n  var normal_vert =\n    \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\n  var points_frag =\n    \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n  var points_vert =\n    \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var shadow_frag =\n    \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <fog_fragment>\\n}\";\n\n  var shadow_vert =\n    \"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var sprite_frag =\n    \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n  var sprite_vert =\n    \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n  var ShaderChunk = {\n    alphamap_fragment: alphamap_fragment,\n    alphamap_pars_fragment: alphamap_pars_fragment,\n    alphatest_fragment: alphatest_fragment,\n    aomap_fragment: aomap_fragment,\n    aomap_pars_fragment: aomap_pars_fragment,\n    begin_vertex: begin_vertex,\n    beginnormal_vertex: beginnormal_vertex,\n    bsdfs: bsdfs,\n    bumpmap_pars_fragment: bumpmap_pars_fragment,\n    clipping_planes_fragment: clipping_planes_fragment,\n    clipping_planes_pars_fragment: clipping_planes_pars_fragment,\n    clipping_planes_pars_vertex: clipping_planes_pars_vertex,\n    clipping_planes_vertex: clipping_planes_vertex,\n    color_fragment: color_fragment,\n    color_pars_fragment: color_pars_fragment,\n    color_pars_vertex: color_pars_vertex,\n    color_vertex: color_vertex,\n    common: common,\n    cube_uv_reflection_fragment: cube_uv_reflection_fragment,\n    defaultnormal_vertex: defaultnormal_vertex,\n    displacementmap_pars_vertex: displacementmap_pars_vertex,\n    displacementmap_vertex: displacementmap_vertex,\n    emissivemap_fragment: emissivemap_fragment,\n    emissivemap_pars_fragment: emissivemap_pars_fragment,\n    encodings_fragment: encodings_fragment,\n    encodings_pars_fragment: encodings_pars_fragment,\n    envmap_fragment: envmap_fragment,\n    envmap_common_pars_fragment: envmap_common_pars_fragment,\n    envmap_pars_fragment: envmap_pars_fragment,\n    envmap_pars_vertex: envmap_pars_vertex,\n    envmap_physical_pars_fragment: envmap_physical_pars_fragment,\n    envmap_vertex: envmap_vertex,\n    fog_vertex: fog_vertex,\n    fog_pars_vertex: fog_pars_vertex,\n    fog_fragment: fog_fragment,\n    fog_pars_fragment: fog_pars_fragment,\n    gradientmap_pars_fragment: gradientmap_pars_fragment,\n    lightmap_fragment: lightmap_fragment,\n    lightmap_pars_fragment: lightmap_pars_fragment,\n    lights_lambert_vertex: lights_lambert_vertex,\n    lights_pars_begin: lights_pars_begin,\n    lights_toon_fragment: lights_toon_fragment,\n    lights_toon_pars_fragment: lights_toon_pars_fragment,\n    lights_phong_fragment: lights_phong_fragment,\n    lights_phong_pars_fragment: lights_phong_pars_fragment,\n    lights_physical_fragment: lights_physical_fragment,\n    lights_physical_pars_fragment: lights_physical_pars_fragment,\n    lights_fragment_begin: lights_fragment_begin,\n    lights_fragment_maps: lights_fragment_maps,\n    lights_fragment_end: lights_fragment_end,\n    logdepthbuf_fragment: logdepthbuf_fragment,\n    logdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n    logdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n    logdepthbuf_vertex: logdepthbuf_vertex,\n    map_fragment: map_fragment,\n    map_pars_fragment: map_pars_fragment,\n    map_particle_fragment: map_particle_fragment,\n    map_particle_pars_fragment: map_particle_pars_fragment,\n    metalnessmap_fragment: metalnessmap_fragment,\n    metalnessmap_pars_fragment: metalnessmap_pars_fragment,\n    morphnormal_vertex: morphnormal_vertex,\n    morphtarget_pars_vertex: morphtarget_pars_vertex,\n    morphtarget_vertex: morphtarget_vertex,\n    normal_fragment_begin: normal_fragment_begin,\n    normal_fragment_maps: normal_fragment_maps,\n    normalmap_pars_fragment: normalmap_pars_fragment,\n    clearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n    clearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n    clearcoat_normalmap_pars_fragment: clearcoat_normalmap_pars_fragment,\n    packing: packing,\n    premultiplied_alpha_fragment: premultiplied_alpha_fragment,\n    project_vertex: project_vertex,\n    dithering_fragment: dithering_fragment,\n    dithering_pars_fragment: dithering_pars_fragment,\n    roughnessmap_fragment: roughnessmap_fragment,\n    roughnessmap_pars_fragment: roughnessmap_pars_fragment,\n    shadowmap_pars_fragment: shadowmap_pars_fragment,\n    shadowmap_pars_vertex: shadowmap_pars_vertex,\n    shadowmap_vertex: shadowmap_vertex,\n    shadowmask_pars_fragment: shadowmask_pars_fragment,\n    skinbase_vertex: skinbase_vertex,\n    skinning_pars_vertex: skinning_pars_vertex,\n    skinning_vertex: skinning_vertex,\n    skinnormal_vertex: skinnormal_vertex,\n    specularmap_fragment: specularmap_fragment,\n    specularmap_pars_fragment: specularmap_pars_fragment,\n    tonemapping_fragment: tonemapping_fragment,\n    tonemapping_pars_fragment: tonemapping_pars_fragment,\n    uv_pars_fragment: uv_pars_fragment,\n    uv_pars_vertex: uv_pars_vertex,\n    uv_vertex: uv_vertex,\n    uv2_pars_fragment: uv2_pars_fragment,\n    uv2_pars_vertex: uv2_pars_vertex,\n    uv2_vertex: uv2_vertex,\n    worldpos_vertex: worldpos_vertex,\n\n    background_frag: background_frag,\n    background_vert: background_vert,\n    cube_frag: cube_frag,\n    cube_vert: cube_vert,\n    depth_frag: depth_frag,\n    depth_vert: depth_vert,\n    distanceRGBA_frag: distanceRGBA_frag,\n    distanceRGBA_vert: distanceRGBA_vert,\n    equirect_frag: equirect_frag,\n    equirect_vert: equirect_vert,\n    linedashed_frag: linedashed_frag,\n    linedashed_vert: linedashed_vert,\n    meshbasic_frag: meshbasic_frag,\n    meshbasic_vert: meshbasic_vert,\n    meshlambert_frag: meshlambert_frag,\n    meshlambert_vert: meshlambert_vert,\n    meshmatcap_frag: meshmatcap_frag,\n    meshmatcap_vert: meshmatcap_vert,\n    meshtoon_frag: meshtoon_frag,\n    meshtoon_vert: meshtoon_vert,\n    meshphong_frag: meshphong_frag,\n    meshphong_vert: meshphong_vert,\n    meshphysical_frag: meshphysical_frag,\n    meshphysical_vert: meshphysical_vert,\n    normal_frag: normal_frag,\n    normal_vert: normal_vert,\n    points_frag: points_frag,\n    points_vert: points_vert,\n    shadow_frag: shadow_frag,\n    shadow_vert: shadow_vert,\n    sprite_frag: sprite_frag,\n    sprite_vert: sprite_vert,\n  };\n\n  /**\n   * Uniforms library for shared webgl shaders\n   */\n\n  var UniformsLib = {\n    common: {\n      diffuse: {\n        value: new Color(0xeeeeee),\n      },\n      opacity: {\n        value: 1.0,\n      },\n\n      map: {\n        value: null,\n      },\n      uvTransform: {\n        value: new Matrix3(),\n      },\n      uv2Transform: {\n        value: new Matrix3(),\n      },\n\n      alphaMap: {\n        value: null,\n      },\n    },\n\n    specularmap: {\n      specularMap: {\n        value: null,\n      },\n    },\n\n    envmap: {\n      envMap: {\n        value: null,\n      },\n      flipEnvMap: {\n        value: -1,\n      },\n      reflectivity: {\n        value: 1.0,\n      },\n      refractionRatio: {\n        value: 0.98,\n      },\n      maxMipLevel: {\n        value: 0,\n      },\n    },\n\n    aomap: {\n      aoMap: {\n        value: null,\n      },\n      aoMapIntensity: {\n        value: 1,\n      },\n    },\n\n    lightmap: {\n      lightMap: {\n        value: null,\n      },\n      lightMapIntensity: {\n        value: 1,\n      },\n    },\n\n    emissivemap: {\n      emissiveMap: {\n        value: null,\n      },\n    },\n\n    bumpmap: {\n      bumpMap: {\n        value: null,\n      },\n      bumpScale: {\n        value: 1,\n      },\n    },\n\n    normalmap: {\n      normalMap: {\n        value: null,\n      },\n      normalScale: {\n        value: new Vector2(1, 1),\n      },\n    },\n\n    displacementmap: {\n      displacementMap: {\n        value: null,\n      },\n      displacementScale: {\n        value: 1,\n      },\n      displacementBias: {\n        value: 0,\n      },\n    },\n\n    roughnessmap: {\n      roughnessMap: {\n        value: null,\n      },\n    },\n\n    metalnessmap: {\n      metalnessMap: {\n        value: null,\n      },\n    },\n\n    gradientmap: {\n      gradientMap: {\n        value: null,\n      },\n    },\n\n    fog: {\n      fogDensity: {\n        value: 0.00025,\n      },\n      fogNear: {\n        value: 1,\n      },\n      fogFar: {\n        value: 2000,\n      },\n      fogColor: {\n        value: new Color(0xffffff),\n      },\n    },\n\n    lights: {\n      ambientLightColor: {\n        value: [],\n      },\n\n      lightProbe: {\n        value: [],\n      },\n\n      directionalLights: {\n        value: [],\n        properties: {\n          direction: {},\n          color: {},\n\n          shadow: {},\n          shadowBias: {},\n          shadowRadius: {},\n          shadowMapSize: {},\n        },\n      },\n\n      directionalShadowMap: {\n        value: [],\n      },\n      directionalShadowMatrix: {\n        value: [],\n      },\n\n      spotLights: {\n        value: [],\n        properties: {\n          color: {},\n          position: {},\n          direction: {},\n          distance: {},\n          coneCos: {},\n          penumbraCos: {},\n          decay: {},\n\n          shadow: {},\n          shadowBias: {},\n          shadowRadius: {},\n          shadowMapSize: {},\n        },\n      },\n\n      spotShadowMap: {\n        value: [],\n      },\n      spotShadowMatrix: {\n        value: [],\n      },\n\n      pointLights: {\n        value: [],\n        properties: {\n          color: {},\n          position: {},\n          decay: {},\n          distance: {},\n\n          shadow: {},\n          shadowBias: {},\n          shadowRadius: {},\n          shadowMapSize: {},\n          shadowCameraNear: {},\n          shadowCameraFar: {},\n        },\n      },\n\n      pointShadowMap: {\n        value: [],\n      },\n      pointShadowMatrix: {\n        value: [],\n      },\n\n      hemisphereLights: {\n        value: [],\n        properties: {\n          direction: {},\n          skyColor: {},\n          groundColor: {},\n        },\n      },\n\n      // TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n      rectAreaLights: {\n        value: [],\n        properties: {\n          color: {},\n          position: {},\n          width: {},\n          height: {},\n        },\n      },\n    },\n\n    points: {\n      diffuse: {\n        value: new Color(0xeeeeee),\n      },\n      opacity: {\n        value: 1.0,\n      },\n      size: {\n        value: 1.0,\n      },\n      scale: {\n        value: 1.0,\n      },\n      map: {\n        value: null,\n      },\n      alphaMap: {\n        value: null,\n      },\n      uvTransform: {\n        value: new Matrix3(),\n      },\n    },\n\n    sprite: {\n      diffuse: {\n        value: new Color(0xeeeeee),\n      },\n      opacity: {\n        value: 1.0,\n      },\n      center: {\n        value: new Vector2(0.5, 0.5),\n      },\n      rotation: {\n        value: 0.0,\n      },\n      map: {\n        value: null,\n      },\n      alphaMap: {\n        value: null,\n      },\n      uvTransform: {\n        value: new Matrix3(),\n      },\n    },\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   * @author mikael emtinger / http://gomo.se/\n   */\n\n  var ShaderLib = {\n    basic: {\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.specularmap,\n        UniformsLib.envmap,\n        UniformsLib.aomap,\n        UniformsLib.lightmap,\n        UniformsLib.fog,\n      ]),\n\n      vertexShader: ShaderChunk.meshbasic_vert,\n      fragmentShader: ShaderChunk.meshbasic_frag,\n    },\n\n    lambert: {\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.specularmap,\n        UniformsLib.envmap,\n        UniformsLib.aomap,\n        UniformsLib.lightmap,\n        UniformsLib.emissivemap,\n        UniformsLib.fog,\n        UniformsLib.lights,\n        {\n          emissive: {\n            value: new Color(0x000000),\n          },\n        },\n      ]),\n\n      vertexShader: ShaderChunk.meshlambert_vert,\n      fragmentShader: ShaderChunk.meshlambert_frag,\n    },\n\n    phong: {\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.specularmap,\n        UniformsLib.envmap,\n        UniformsLib.aomap,\n        UniformsLib.lightmap,\n        UniformsLib.emissivemap,\n        UniformsLib.bumpmap,\n        UniformsLib.normalmap,\n        UniformsLib.displacementmap,\n        UniformsLib.fog,\n        UniformsLib.lights,\n        {\n          emissive: {\n            value: new Color(0x000000),\n          },\n          specular: {\n            value: new Color(0x111111),\n          },\n          shininess: {\n            value: 30,\n          },\n        },\n      ]),\n\n      vertexShader: ShaderChunk.meshphong_vert,\n      fragmentShader: ShaderChunk.meshphong_frag,\n    },\n\n    standard: {\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.envmap,\n        UniformsLib.aomap,\n        UniformsLib.lightmap,\n        UniformsLib.emissivemap,\n        UniformsLib.bumpmap,\n        UniformsLib.normalmap,\n        UniformsLib.displacementmap,\n        UniformsLib.roughnessmap,\n        UniformsLib.metalnessmap,\n        UniformsLib.fog,\n        UniformsLib.lights,\n        {\n          emissive: {\n            value: new Color(0x000000),\n          },\n          roughness: {\n            value: 0.5,\n          },\n          metalness: {\n            value: 0.5,\n          },\n          envMapIntensity: {\n            value: 1,\n          }, // temporary\n        },\n      ]),\n\n      vertexShader: ShaderChunk.meshphysical_vert,\n      fragmentShader: ShaderChunk.meshphysical_frag,\n    },\n\n    toon: {\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.specularmap,\n        UniformsLib.aomap,\n        UniformsLib.lightmap,\n        UniformsLib.emissivemap,\n        UniformsLib.bumpmap,\n        UniformsLib.normalmap,\n        UniformsLib.displacementmap,\n        UniformsLib.gradientmap,\n        UniformsLib.fog,\n        UniformsLib.lights,\n        {\n          emissive: {\n            value: new Color(0x000000),\n          },\n          specular: {\n            value: new Color(0x111111),\n          },\n          shininess: {\n            value: 30,\n          },\n        },\n      ]),\n\n      vertexShader: ShaderChunk.meshtoon_vert,\n      fragmentShader: ShaderChunk.meshtoon_frag,\n    },\n\n    matcap: {\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.bumpmap,\n        UniformsLib.normalmap,\n        UniformsLib.displacementmap,\n        UniformsLib.fog,\n        {\n          matcap: {\n            value: null,\n          },\n        },\n      ]),\n\n      vertexShader: ShaderChunk.meshmatcap_vert,\n      fragmentShader: ShaderChunk.meshmatcap_frag,\n    },\n\n    points: {\n      uniforms: mergeUniforms([UniformsLib.points, UniformsLib.fog]),\n\n      vertexShader: ShaderChunk.points_vert,\n      fragmentShader: ShaderChunk.points_frag,\n    },\n\n    dashed: {\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.fog,\n        {\n          scale: {\n            value: 1,\n          },\n          dashSize: {\n            value: 1,\n          },\n          totalSize: {\n            value: 2,\n          },\n        },\n      ]),\n\n      vertexShader: ShaderChunk.linedashed_vert,\n      fragmentShader: ShaderChunk.linedashed_frag,\n    },\n\n    depth: {\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.displacementmap,\n      ]),\n\n      vertexShader: ShaderChunk.depth_vert,\n      fragmentShader: ShaderChunk.depth_frag,\n    },\n\n    normal: {\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.bumpmap,\n        UniformsLib.normalmap,\n        UniformsLib.displacementmap,\n        {\n          opacity: {\n            value: 1.0,\n          },\n        },\n      ]),\n\n      vertexShader: ShaderChunk.normal_vert,\n      fragmentShader: ShaderChunk.normal_frag,\n    },\n\n    sprite: {\n      uniforms: mergeUniforms([UniformsLib.sprite, UniformsLib.fog]),\n\n      vertexShader: ShaderChunk.sprite_vert,\n      fragmentShader: ShaderChunk.sprite_frag,\n    },\n\n    background: {\n      uniforms: {\n        uvTransform: {\n          value: new Matrix3(),\n        },\n        t2D: {\n          value: null,\n        },\n      },\n\n      vertexShader: ShaderChunk.background_vert,\n      fragmentShader: ShaderChunk.background_frag,\n    },\n    /* -------------------------------------------------------------------------\n    //\tCube map shader\n     ------------------------------------------------------------------------- */\n\n    cube: {\n      uniforms: mergeUniforms([\n        UniformsLib.envmap,\n        {\n          opacity: {\n            value: 1.0,\n          },\n        },\n      ]),\n\n      vertexShader: ShaderChunk.cube_vert,\n      fragmentShader: ShaderChunk.cube_frag,\n    },\n\n    equirect: {\n      uniforms: {\n        tEquirect: {\n          value: null,\n        },\n      },\n\n      vertexShader: ShaderChunk.equirect_vert,\n      fragmentShader: ShaderChunk.equirect_frag,\n    },\n\n    distanceRGBA: {\n      uniforms: mergeUniforms([\n        UniformsLib.common,\n        UniformsLib.displacementmap,\n        {\n          referencePosition: {\n            value: new Vector3(),\n          },\n          nearDistance: {\n            value: 1,\n          },\n          farDistance: {\n            value: 1000,\n          },\n        },\n      ]),\n\n      vertexShader: ShaderChunk.distanceRGBA_vert,\n      fragmentShader: ShaderChunk.distanceRGBA_frag,\n    },\n\n    shadow: {\n      uniforms: mergeUniforms([\n        UniformsLib.lights,\n        UniformsLib.fog,\n        {\n          color: {\n            value: new Color(0x00000),\n          },\n          opacity: {\n            value: 1.0,\n          },\n        },\n      ]),\n\n      vertexShader: ShaderChunk.shadow_vert,\n      fragmentShader: ShaderChunk.shadow_frag,\n    },\n  };\n\n  ShaderLib.physical = {\n    uniforms: mergeUniforms([\n      ShaderLib.standard.uniforms,\n      {\n        transparency: {\n          value: 0,\n        },\n        clearcoat: {\n          value: 0,\n        },\n        clearcoatRoughness: {\n          value: 0,\n        },\n        sheen: {\n          value: new Color(0x000000),\n        },\n        clearcoatNormalScale: {\n          value: new Vector2(1, 1),\n        },\n        clearcoatNormalMap: {\n          value: null,\n        },\n      },\n    ]),\n\n    vertexShader: ShaderChunk.meshphysical_vert,\n    fragmentShader: ShaderChunk.meshphysical_frag,\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLAnimation() {\n    var context = null;\n    var isAnimating = false;\n    var animationLoop = null;\n\n    function onAnimationFrame(time, frame) {\n      if (isAnimating === false) {\n        return;\n      }\n\n      animationLoop(time, frame);\n\n      context.requestAnimationFrame(onAnimationFrame);\n    }\n\n    return {\n      start: function () {\n        if (isAnimating === true) {\n          return;\n        }\n        if (animationLoop === null) {\n          return;\n        }\n\n        context.requestAnimationFrame(onAnimationFrame);\n\n        isAnimating = true;\n      },\n\n      stop: function () {\n        isAnimating = false;\n      },\n\n      setAnimationLoop: function (callback) {\n        animationLoop = callback;\n      },\n\n      setContext: function (value) {\n        context = value;\n      },\n    };\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLAttributes(gl) {\n    var buffers = new WeakMap();\n\n    function createBuffer(attribute, bufferType) {\n      var array = attribute.array;\n      var usage = attribute.usage;\n\n      var buffer = gl.createBuffer();\n\n      gl.bindBuffer(bufferType, buffer);\n      gl.bufferData(bufferType, array, usage);\n\n      attribute.onUploadCallback();\n\n      var type = 5126;\n\n      if (array instanceof Float32Array) {\n        type = 5126;\n      } else if (array instanceof Float64Array) {\n        console.warn(\n          \"THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.\"\n        );\n      } else if (array instanceof Uint16Array) {\n        type = 5123;\n      } else if (array instanceof Int16Array) {\n        type = 5122;\n      } else if (array instanceof Uint32Array) {\n        type = 5125;\n      } else if (array instanceof Int32Array) {\n        type = 5124;\n      } else if (array instanceof Int8Array) {\n        type = 5120;\n      } else if (array instanceof Uint8Array) {\n        type = 5121;\n      }\n\n      return {\n        buffer: buffer,\n        type: type,\n        bytesPerElement: array.BYTES_PER_ELEMENT,\n        version: attribute.version,\n      };\n    }\n\n    function updateBuffer(buffer, attribute, bufferType) {\n      var array = attribute.array;\n      var updateRange = attribute.updateRange;\n\n      gl.bindBuffer(bufferType, buffer);\n\n      if (updateRange.count === -1) {\n        // Not using update ranges\n\n        gl.bufferSubData(bufferType, 0, array);\n      } else {\n        gl.bufferSubData(\n          bufferType,\n          updateRange.offset * array.BYTES_PER_ELEMENT,\n          array.subarray(\n            updateRange.offset,\n            updateRange.offset + updateRange.count\n          )\n        );\n\n        updateRange.count = -1; // reset range\n      }\n    }\n\n    //\n\n    function get(attribute) {\n      if (attribute.isInterleavedBufferAttribute) {\n        attribute = attribute.data;\n      }\n\n      return buffers.get(attribute);\n    }\n\n    function remove(attribute) {\n      if (attribute.isInterleavedBufferAttribute) {\n        attribute = attribute.data;\n      }\n\n      var data = buffers.get(attribute);\n\n      if (data) {\n        gl.deleteBuffer(data.buffer);\n\n        buffers.delete(attribute);\n      }\n    }\n\n    function update(attribute, bufferType) {\n      if (attribute.isInterleavedBufferAttribute) {\n        attribute = attribute.data;\n      }\n\n      var data = buffers.get(attribute);\n\n      if (data === undefined) {\n        buffers.set(attribute, createBuffer(attribute, bufferType));\n      } else if (data.version < attribute.version) {\n        updateBuffer(data.buffer, attribute, bufferType);\n\n        data.version = attribute.version;\n      }\n    }\n\n    return {\n      get: get,\n      remove: remove,\n      update: update,\n    };\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // PlaneGeometry\n\n  function PlaneGeometry(width, height, widthSegments, heightSegments) {\n    Geometry.call(this);\n\n    this.type = \"PlaneGeometry\";\n\n    this.parameters = {\n      width: width,\n      height: height,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n    };\n\n    this.fromBufferGeometry(\n      new PlaneBufferGeometry(width, height, widthSegments, heightSegments)\n    );\n    this.mergeVertices();\n  }\n\n  PlaneGeometry.prototype = Object.create(Geometry.prototype);\n  PlaneGeometry.prototype.constructor = PlaneGeometry;\n\n  // PlaneBufferGeometry\n\n  function PlaneBufferGeometry(width, height, widthSegments, heightSegments) {\n    BufferGeometry.call(this);\n\n    this.type = \"PlaneBufferGeometry\";\n\n    this.parameters = {\n      width: width,\n      height: height,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n    };\n\n    width = width || 1;\n    height = height || 1;\n\n    var width_half = width / 2;\n    var height_half = height / 2;\n\n    var gridX = Math.floor(widthSegments) || 1;\n    var gridY = Math.floor(heightSegments) || 1;\n\n    var gridX1 = gridX + 1;\n    var gridY1 = gridY + 1;\n\n    var segment_width = width / gridX;\n    var segment_height = height / gridY;\n\n    var ix, iy;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // generate vertices, normals and uvs\n\n    for (iy = 0; iy < gridY1; iy++) {\n      var y = iy * segment_height - height_half;\n\n      for (ix = 0; ix < gridX1; ix++) {\n        var x = ix * segment_width - width_half;\n\n        vertices.push(x, -y, 0);\n\n        normals.push(0, 0, 1);\n\n        uvs.push(ix / gridX);\n        uvs.push(1 - iy / gridY);\n      }\n    }\n\n    // indices\n\n    for (iy = 0; iy < gridY; iy++) {\n      for (ix = 0; ix < gridX; ix++) {\n        var a = ix + gridX1 * iy;\n        var b = ix + gridX1 * (iy + 1);\n        var c = ix + 1 + gridX1 * (iy + 1);\n        var d = ix + 1 + gridX1 * iy;\n\n        // faces\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n      }\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    this.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n  }\n\n  PlaneBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  PlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLBackground(renderer, state, objects, premultipliedAlpha) {\n    var clearColor = new Color(0x000000);\n    var clearAlpha = 0;\n\n    var planeMesh;\n    var boxMesh;\n    // Store the current background texture and its `version`\n    // so we can recompile the material accordingly.\n    var currentBackground = null;\n    var currentBackgroundVersion = 0;\n\n    function render(renderList, scene, camera, forceClear) {\n      var background = scene.background;\n\n      // Ignore background in AR\n      // TODO: Reconsider this.\n\n      var xr = renderer.xr;\n      var session = xr.getSession && xr.getSession();\n\n      if (session && session.environmentBlendMode === \"additive\") {\n        background = null;\n      }\n\n      if (background === null) {\n        setClear(clearColor, clearAlpha);\n        currentBackground = null;\n        currentBackgroundVersion = 0;\n      } else if (background && background.isColor) {\n        setClear(background, 1);\n        forceClear = true;\n        currentBackground = null;\n        currentBackgroundVersion = 0;\n      }\n\n      if (renderer.autoClear || forceClear) {\n        renderer.clear(\n          renderer.autoClearColor,\n          renderer.autoClearDepth,\n          renderer.autoClearStencil\n        );\n      }\n\n      if (\n        background &&\n        (background.isCubeTexture ||\n          background.isWebGLRenderTargetCube ||\n          background.mapping === CubeUVReflectionMapping)\n      ) {\n        if (boxMesh === undefined) {\n          boxMesh = new Mesh(\n            new BoxBufferGeometry(1, 1, 1),\n            new ShaderMaterial({\n              type: \"BackgroundCubeMaterial\",\n              uniforms: cloneUniforms(ShaderLib.cube.uniforms),\n              vertexShader: ShaderLib.cube.vertexShader,\n              fragmentShader: ShaderLib.cube.fragmentShader,\n              side: BackSide,\n              depthTest: false,\n              depthWrite: false,\n              fog: false,\n            })\n          );\n\n          boxMesh.geometry.deleteAttribute(\"normal\");\n          boxMesh.geometry.deleteAttribute(\"uv\");\n\n          boxMesh.onBeforeRender = function (renderer, scene, camera) {\n            this.matrixWorld.copyPosition(camera.matrixWorld);\n          };\n\n          // enable code injection for non-built-in material\n          Object.defineProperty(boxMesh.material, \"envMap\", {\n            get: function () {\n              return this.uniforms.envMap.value;\n            },\n          });\n\n          objects.update(boxMesh);\n        }\n\n        var texture = background.isWebGLRenderTargetCube\n          ? background.texture\n          : background;\n\n        boxMesh.material.uniforms.envMap.value = texture;\n        boxMesh.material.uniforms.flipEnvMap.value = texture.isCubeTexture\n          ? -1\n          : 1;\n\n        if (\n          currentBackground !== background ||\n          currentBackgroundVersion !== texture.version\n        ) {\n          boxMesh.material.needsUpdate = true;\n\n          currentBackground = background;\n          currentBackgroundVersion = texture.version;\n        }\n\n        // push to the pre-sorted opaque render list\n        renderList.unshift(\n          boxMesh,\n          boxMesh.geometry,\n          boxMesh.material,\n          0,\n          0,\n          null\n        );\n      } else if (background && background.isTexture) {\n        if (planeMesh === undefined) {\n          planeMesh = new Mesh(\n            new PlaneBufferGeometry(2, 2),\n            new ShaderMaterial({\n              type: \"BackgroundMaterial\",\n              uniforms: cloneUniforms(ShaderLib.background.uniforms),\n              vertexShader: ShaderLib.background.vertexShader,\n              fragmentShader: ShaderLib.background.fragmentShader,\n              side: FrontSide,\n              depthTest: false,\n              depthWrite: false,\n              fog: false,\n            })\n          );\n\n          planeMesh.geometry.deleteAttribute(\"normal\");\n\n          // enable code injection for non-built-in material\n          Object.defineProperty(planeMesh.material, \"map\", {\n            get: function () {\n              return this.uniforms.t2D.value;\n            },\n          });\n\n          objects.update(planeMesh);\n        }\n\n        planeMesh.material.uniforms.t2D.value = background;\n\n        if (background.matrixAutoUpdate === true) {\n          background.updateMatrix();\n        }\n\n        planeMesh.material.uniforms.uvTransform.value.copy(background.matrix);\n\n        if (\n          currentBackground !== background ||\n          currentBackgroundVersion !== background.version\n        ) {\n          planeMesh.material.needsUpdate = true;\n\n          currentBackground = background;\n          currentBackgroundVersion = background.version;\n        }\n\n        // push to the pre-sorted opaque render list\n        renderList.unshift(\n          planeMesh,\n          planeMesh.geometry,\n          planeMesh.material,\n          0,\n          0,\n          null\n        );\n      }\n    }\n\n    function setClear(color, alpha) {\n      state.buffers.color.setClear(\n        color.r,\n        color.g,\n        color.b,\n        alpha,\n        premultipliedAlpha\n      );\n    }\n\n    return {\n      getClearColor: function () {\n        return clearColor;\n      },\n      setClearColor: function (color, alpha) {\n        clearColor.set(color);\n        clearAlpha = alpha !== undefined ? alpha : 1;\n        setClear(clearColor, clearAlpha);\n      },\n      getClearAlpha: function () {\n        return clearAlpha;\n      },\n      setClearAlpha: function (alpha) {\n        clearAlpha = alpha;\n        setClear(clearColor, clearAlpha);\n      },\n      render: render,\n    };\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLBufferRenderer(gl, extensions, info, capabilities) {\n    var isWebGL2 = capabilities.isWebGL2;\n\n    var mode;\n\n    function setMode(value) {\n      mode = value;\n    }\n\n    function render(start, count) {\n      gl.drawArrays(mode, start, count);\n\n      info.update(count, mode);\n    }\n\n    function renderInstances(geometry, start, count, primcount) {\n      if (primcount === 0) {\n        return;\n      }\n\n      var extension, methodName;\n\n      if (isWebGL2) {\n        extension = gl;\n        methodName = \"drawArraysInstanced\";\n      } else {\n        extension = extensions.get(\"ANGLE_instanced_arrays\");\n        methodName = \"drawArraysInstancedANGLE\";\n\n        if (extension === null) {\n          console.error(\n            \"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\"\n          );\n          return;\n        }\n      }\n\n      extension[methodName](mode, start, count, primcount);\n\n      info.update(count, mode, primcount);\n    }\n\n    //\n\n    this.setMode = setMode;\n    this.render = render;\n    this.renderInstances = renderInstances;\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLCapabilities(gl, extensions, parameters) {\n    var maxAnisotropy;\n\n    function getMaxAnisotropy() {\n      if (maxAnisotropy !== undefined) {\n        return maxAnisotropy;\n      }\n\n      var extension = extensions.get(\"EXT_texture_filter_anisotropic\");\n\n      if (extension !== null) {\n        maxAnisotropy = gl.getParameter(\n          extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT\n        );\n      } else {\n        maxAnisotropy = 0;\n      }\n\n      return maxAnisotropy;\n    }\n\n    function getMaxPrecision(precision) {\n      if (precision === \"highp\") {\n        if (\n          gl.getShaderPrecisionFormat(35633, 36338).precision > 0 &&\n          gl.getShaderPrecisionFormat(35632, 36338).precision > 0\n        ) {\n          return \"highp\";\n        }\n\n        precision = \"mediump\";\n      }\n\n      if (precision === \"mediump\") {\n        if (\n          gl.getShaderPrecisionFormat(35633, 36337).precision > 0 &&\n          gl.getShaderPrecisionFormat(35632, 36337).precision > 0\n        ) {\n          return \"mediump\";\n        }\n      }\n\n      return \"lowp\";\n    }\n\n    /* eslint-disable no-undef */\n    var isWebGL2 =\n      (typeof WebGL2RenderingContext !== \"undefined\" &&\n        gl instanceof WebGL2RenderingContext) ||\n      (typeof WebGL2ComputeRenderingContext !== \"undefined\" &&\n        gl instanceof WebGL2ComputeRenderingContext);\n    /* eslint-enable no-undef */\n\n    var precision =\n      parameters.precision !== undefined ? parameters.precision : \"highp\";\n    var maxPrecision = getMaxPrecision(precision);\n\n    if (maxPrecision !== precision) {\n      console.warn(\n        \"THREE.WebGLRenderer:\",\n        precision,\n        \"not supported, using\",\n        maxPrecision,\n        \"instead.\"\n      );\n      precision = maxPrecision;\n    }\n\n    var logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n    var maxTextures = gl.getParameter(34930);\n    var maxVertexTextures = gl.getParameter(35660);\n    var maxTextureSize = gl.getParameter(3379);\n    var maxCubemapSize = gl.getParameter(34076);\n\n    var maxAttributes = gl.getParameter(34921);\n    var maxVertexUniforms = gl.getParameter(36347);\n    var maxVaryings = gl.getParameter(36348);\n    var maxFragmentUniforms = gl.getParameter(36349);\n\n    var vertexTextures = maxVertexTextures > 0;\n    var floatFragmentTextures =\n      isWebGL2 || !!extensions.get(\"OES_texture_float\");\n    var floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n    var maxSamples = isWebGL2 ? gl.getParameter(36183) : 0;\n\n    return {\n      isWebGL2: isWebGL2,\n\n      getMaxAnisotropy: getMaxAnisotropy,\n      getMaxPrecision: getMaxPrecision,\n\n      precision: precision,\n      logarithmicDepthBuffer: logarithmicDepthBuffer,\n\n      maxTextures: maxTextures,\n      maxVertexTextures: maxVertexTextures,\n      maxTextureSize: maxTextureSize,\n      maxCubemapSize: maxCubemapSize,\n\n      maxAttributes: maxAttributes,\n      maxVertexUniforms: maxVertexUniforms,\n      maxVaryings: maxVaryings,\n      maxFragmentUniforms: maxFragmentUniforms,\n\n      vertexTextures: vertexTextures,\n      floatFragmentTextures: floatFragmentTextures,\n      floatVertexTextures: floatVertexTextures,\n\n      maxSamples: maxSamples,\n    };\n  }\n\n  /**\n   * @author tschw\n   */\n\n  function WebGLClipping() {\n    var scope = this,\n      globalState = null,\n      numGlobalPlanes = 0,\n      localClippingEnabled = false,\n      renderingShadows = false,\n      plane = new Plane(),\n      viewNormalMatrix = new Matrix3(),\n      uniform = {\n        value: null,\n        needsUpdate: false,\n      };\n\n    this.uniform = uniform;\n    this.numPlanes = 0;\n    this.numIntersection = 0;\n\n    this.init = function (planes, enableLocalClipping, camera) {\n      var enabled =\n        planes.length !== 0 ||\n        enableLocalClipping ||\n        // enable state of previous frame - the clipping code has to\n        // run another frame in order to reset the state:\n        numGlobalPlanes !== 0 ||\n        localClippingEnabled;\n\n      localClippingEnabled = enableLocalClipping;\n\n      globalState = projectPlanes(planes, camera, 0);\n      numGlobalPlanes = planes.length;\n\n      return enabled;\n    };\n\n    this.beginShadows = function () {\n      renderingShadows = true;\n      projectPlanes(null);\n    };\n\n    this.endShadows = function () {\n      renderingShadows = false;\n      resetGlobalState();\n    };\n\n    this.setState = function (\n      planes,\n      clipIntersection,\n      clipShadows,\n      camera,\n      cache,\n      fromCache\n    ) {\n      if (\n        !localClippingEnabled ||\n        planes === null ||\n        planes.length === 0 ||\n        (renderingShadows && !clipShadows)\n      ) {\n        // there's no local clipping\n\n        if (renderingShadows) {\n          // there's no global clipping\n\n          projectPlanes(null);\n        } else {\n          resetGlobalState();\n        }\n      } else {\n        var nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n          lGlobal = nGlobal * 4,\n          dstArray = cache.clippingState || null;\n\n        uniform.value = dstArray; // ensure unique state\n\n        dstArray = projectPlanes(planes, camera, lGlobal, fromCache);\n\n        for (var i = 0; i !== lGlobal; ++i) {\n          dstArray[i] = globalState[i];\n        }\n\n        cache.clippingState = dstArray;\n        this.numIntersection = clipIntersection ? this.numPlanes : 0;\n        this.numPlanes += nGlobal;\n      }\n    };\n\n    function resetGlobalState() {\n      if (uniform.value !== globalState) {\n        uniform.value = globalState;\n        uniform.needsUpdate = numGlobalPlanes > 0;\n      }\n\n      scope.numPlanes = numGlobalPlanes;\n      scope.numIntersection = 0;\n    }\n\n    function projectPlanes(planes, camera, dstOffset, skipTransform) {\n      var nPlanes = planes !== null ? planes.length : 0,\n        dstArray = null;\n\n      if (nPlanes !== 0) {\n        dstArray = uniform.value;\n\n        if (skipTransform !== true || dstArray === null) {\n          var flatSize = dstOffset + nPlanes * 4,\n            viewMatrix = camera.matrixWorldInverse;\n\n          viewNormalMatrix.getNormalMatrix(viewMatrix);\n\n          if (dstArray === null || dstArray.length < flatSize) {\n            dstArray = new Float32Array(flatSize);\n          }\n\n          for (var i = 0, i4 = dstOffset; i !== nPlanes; ++i, i4 += 4) {\n            plane.copy(planes[i]).applyMatrix4(viewMatrix, viewNormalMatrix);\n\n            plane.normal.toArray(dstArray, i4);\n            dstArray[i4 + 3] = plane.constant;\n          }\n        }\n\n        uniform.value = dstArray;\n        uniform.needsUpdate = true;\n      }\n\n      scope.numPlanes = nPlanes;\n\n      return dstArray;\n    }\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLExtensions(gl) {\n    var extensions = {};\n\n    return {\n      get: function (name) {\n        if (extensions[name] !== undefined) {\n          return extensions[name];\n        }\n\n        var extension;\n\n        switch (name) {\n          case \"WEBGL_depth_texture\":\n            extension =\n              gl.getExtension(\"WEBGL_depth_texture\") ||\n              gl.getExtension(\"MOZ_WEBGL_depth_texture\") ||\n              gl.getExtension(\"WEBKIT_WEBGL_depth_texture\");\n            break;\n\n          case \"EXT_texture_filter_anisotropic\":\n            extension =\n              gl.getExtension(\"EXT_texture_filter_anisotropic\") ||\n              gl.getExtension(\"MOZ_EXT_texture_filter_anisotropic\") ||\n              gl.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");\n            break;\n\n          case \"WEBGL_compressed_texture_s3tc\":\n            extension =\n              gl.getExtension(\"WEBGL_compressed_texture_s3tc\") ||\n              gl.getExtension(\"MOZ_WEBGL_compressed_texture_s3tc\") ||\n              gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\");\n            break;\n\n          case \"WEBGL_compressed_texture_pvrtc\":\n            extension =\n              gl.getExtension(\"WEBGL_compressed_texture_pvrtc\") ||\n              gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\");\n            break;\n\n          default:\n            extension = gl.getExtension(name);\n        }\n\n        if (extension === null) {\n          console.warn(\n            \"THREE.WebGLRenderer: \" + name + \" extension not supported.\"\n          );\n        }\n\n        extensions[name] = extension;\n\n        return extension;\n      },\n    };\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLGeometries(gl, attributes, info) {\n    var geometries = new WeakMap();\n    var wireframeAttributes = new WeakMap();\n\n    function onGeometryDispose(event) {\n      var geometry = event.target;\n      var buffergeometry = geometries.get(geometry);\n\n      if (buffergeometry.index !== null) {\n        attributes.remove(buffergeometry.index);\n      }\n\n      for (var name in buffergeometry.attributes) {\n        attributes.remove(buffergeometry.attributes[name]);\n      }\n\n      geometry.removeEventListener(\"dispose\", onGeometryDispose);\n\n      geometries.delete(geometry);\n\n      var attribute = wireframeAttributes.get(buffergeometry);\n\n      if (attribute) {\n        attributes.remove(attribute);\n        wireframeAttributes.delete(buffergeometry);\n      }\n\n      //\n\n      info.memory.geometries--;\n    }\n\n    function get(object, geometry) {\n      var buffergeometry = geometries.get(geometry);\n\n      if (buffergeometry) {\n        return buffergeometry;\n      }\n\n      geometry.addEventListener(\"dispose\", onGeometryDispose);\n\n      if (geometry.isBufferGeometry) {\n        buffergeometry = geometry;\n      } else if (geometry.isGeometry) {\n        if (geometry._bufferGeometry === undefined) {\n          geometry._bufferGeometry = new BufferGeometry().setFromObject(object);\n        }\n\n        buffergeometry = geometry._bufferGeometry;\n      }\n\n      geometries.set(geometry, buffergeometry);\n\n      info.memory.geometries++;\n\n      return buffergeometry;\n    }\n\n    function update(geometry) {\n      var index = geometry.index;\n      var geometryAttributes = geometry.attributes;\n\n      if (index !== null) {\n        attributes.update(index, 34963);\n      }\n\n      for (var name in geometryAttributes) {\n        attributes.update(geometryAttributes[name], 34962);\n      }\n\n      // morph targets\n\n      var morphAttributes = geometry.morphAttributes;\n\n      for (var name in morphAttributes) {\n        var array = morphAttributes[name];\n\n        for (var i = 0, l = array.length; i < l; i++) {\n          attributes.update(array[i], 34962);\n        }\n      }\n    }\n\n    function updateWireframeAttribute(geometry) {\n      var indices = [];\n\n      var geometryIndex = geometry.index;\n      var geometryPosition = geometry.attributes.position;\n      var version = 0;\n\n      if (geometryIndex !== null) {\n        var array = geometryIndex.array;\n        version = geometryIndex.version;\n\n        for (var i = 0, l = array.length; i < l; i += 3) {\n          var a = array[i + 0];\n          var b = array[i + 1];\n          var c = array[i + 2];\n\n          indices.push(a, b, b, c, c, a);\n        }\n      } else {\n        var array = geometryPosition.array;\n        version = geometryPosition.version;\n\n        for (var i = 0, l = array.length / 3 - 1; i < l; i += 3) {\n          var a = i + 0;\n          var b = i + 1;\n          var c = i + 2;\n\n          indices.push(a, b, b, c, c, a);\n        }\n      }\n\n      var attribute = new (\n        arrayMax(indices) > 65535\n          ? Uint32BufferAttribute\n          : Uint16BufferAttribute\n      )(indices, 1);\n      attribute.version = version;\n\n      attributes.update(attribute, 34963);\n\n      //\n\n      var previousAttribute = wireframeAttributes.get(geometry);\n\n      if (previousAttribute) {\n        attributes.remove(previousAttribute);\n      }\n\n      //\n\n      wireframeAttributes.set(geometry, attribute);\n    }\n\n    function getWireframeAttribute(geometry) {\n      var currentAttribute = wireframeAttributes.get(geometry);\n\n      if (currentAttribute) {\n        var geometryIndex = geometry.index;\n\n        if (geometryIndex !== null) {\n          // if the attribute is obsolete, create a new one\n\n          if (currentAttribute.version < geometryIndex.version) {\n            updateWireframeAttribute(geometry);\n          }\n        }\n      } else {\n        updateWireframeAttribute(geometry);\n      }\n\n      return wireframeAttributes.get(geometry);\n    }\n\n    return {\n      get: get,\n      update: update,\n\n      getWireframeAttribute: getWireframeAttribute,\n    };\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLIndexedBufferRenderer(gl, extensions, info, capabilities) {\n    var isWebGL2 = capabilities.isWebGL2;\n\n    var mode;\n\n    function setMode(value) {\n      mode = value;\n    }\n\n    var type, bytesPerElement;\n\n    function setIndex(value) {\n      type = value.type;\n      bytesPerElement = value.bytesPerElement;\n    }\n\n    function render(start, count) {\n      gl.drawElements(mode, count, type, start * bytesPerElement);\n\n      info.update(count, mode);\n    }\n\n    function renderInstances(geometry, start, count, primcount) {\n      if (primcount === 0) {\n        return;\n      }\n\n      var extension, methodName;\n\n      if (isWebGL2) {\n        extension = gl;\n        methodName = \"drawElementsInstanced\";\n      } else {\n        extension = extensions.get(\"ANGLE_instanced_arrays\");\n        methodName = \"drawElementsInstancedANGLE\";\n\n        if (extension === null) {\n          console.error(\n            \"THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\"\n          );\n          return;\n        }\n      }\n\n      extension[methodName](\n        mode,\n        count,\n        type,\n        start * bytesPerElement,\n        primcount\n      );\n\n      info.update(count, mode, primcount);\n    }\n\n    //\n\n    this.setMode = setMode;\n    this.setIndex = setIndex;\n    this.render = render;\n    this.renderInstances = renderInstances;\n  }\n\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  function WebGLInfo(gl) {\n    var memory = {\n      geometries: 0,\n      textures: 0,\n    };\n\n    var render = {\n      frame: 0,\n      calls: 0,\n      triangles: 0,\n      points: 0,\n      lines: 0,\n    };\n\n    function update(count, mode, instanceCount) {\n      instanceCount = instanceCount || 1;\n\n      render.calls++;\n\n      switch (mode) {\n        case 4:\n          render.triangles += instanceCount * (count / 3);\n          break;\n\n        case 1:\n          render.lines += instanceCount * (count / 2);\n          break;\n\n        case 3:\n          render.lines += instanceCount * (count - 1);\n          break;\n\n        case 2:\n          render.lines += instanceCount * count;\n          break;\n\n        case 0:\n          render.points += instanceCount * count;\n          break;\n\n        default:\n          console.error(\"THREE.WebGLInfo: Unknown draw mode:\", mode);\n          break;\n      }\n    }\n\n    function reset() {\n      render.frame++;\n      render.calls = 0;\n      render.triangles = 0;\n      render.points = 0;\n      render.lines = 0;\n    }\n\n    return {\n      memory: memory,\n      render: render,\n      programs: null,\n      autoReset: true,\n      reset: reset,\n      update: update,\n    };\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function absNumericalSort(a, b) {\n    return Math.abs(b[1]) - Math.abs(a[1]);\n  }\n\n  function WebGLMorphtargets(gl) {\n    var influencesList = {};\n    var morphInfluences = new Float32Array(8);\n\n    function update(object, geometry, material, program) {\n      var objectInfluences = object.morphTargetInfluences;\n\n      // When object doesn't have morph target influences defined, we treat it as a 0-length array\n      // This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n      var length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n      var influences = influencesList[geometry.id];\n\n      if (influences === undefined) {\n        // initialise list\n\n        influences = [];\n\n        for (var i = 0; i < length; i++) {\n          influences[i] = [i, 0];\n        }\n\n        influencesList[geometry.id] = influences;\n      }\n\n      var morphTargets =\n        material.morphTargets && geometry.morphAttributes.position;\n      var morphNormals =\n        material.morphNormals && geometry.morphAttributes.normal;\n\n      // Remove current morphAttributes\n\n      for (var i = 0; i < length; i++) {\n        var influence = influences[i];\n\n        if (influence[1] !== 0) {\n          if (morphTargets) {\n            geometry.deleteAttribute(\"morphTarget\" + i);\n          }\n          if (morphNormals) {\n            geometry.deleteAttribute(\"morphNormal\" + i);\n          }\n        }\n      }\n\n      // Collect influences\n\n      for (var i = 0; i < length; i++) {\n        var influence = influences[i];\n\n        influence[0] = i;\n        influence[1] = objectInfluences[i];\n      }\n\n      influences.sort(absNumericalSort);\n\n      // Add morphAttributes\n\n      var morphInfluencesSum = 0;\n\n      for (var i = 0; i < 8; i++) {\n        var influence = influences[i];\n\n        if (influence) {\n          var index = influence[0];\n          var value = influence[1];\n\n          if (value) {\n            if (morphTargets) {\n              geometry.setAttribute(\"morphTarget\" + i, morphTargets[index]);\n            }\n            if (morphNormals) {\n              geometry.setAttribute(\"morphNormal\" + i, morphNormals[index]);\n            }\n\n            morphInfluences[i] = value;\n            morphInfluencesSum += value;\n            continue;\n          }\n        }\n\n        morphInfluences[i] = 0;\n      }\n\n      // GLSL shader uses formula baseinfluence * base + sum(target * influence)\n      // This allows us to switch between absolute morphs and relative morphs without changing shader code\n      // When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n      var morphBaseInfluence = geometry.morphTargetsRelative\n        ? 1\n        : 1 - morphInfluencesSum;\n\n      program\n        .getUniforms()\n        .setValue(gl, \"morphTargetBaseInfluence\", morphBaseInfluence);\n      program\n        .getUniforms()\n        .setValue(gl, \"morphTargetInfluences\", morphInfluences);\n    }\n\n    return {\n      update: update,\n    };\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLObjects(gl, geometries, attributes, info) {\n    var updateList = {};\n\n    function update(object) {\n      var frame = info.render.frame;\n\n      var geometry = object.geometry;\n      var buffergeometry = geometries.get(object, geometry);\n\n      // Update once per frame\n\n      if (updateList[buffergeometry.id] !== frame) {\n        if (geometry.isGeometry) {\n          buffergeometry.updateFromObject(object);\n        }\n\n        geometries.update(buffergeometry);\n\n        updateList[buffergeometry.id] = frame;\n      }\n\n      if (object.isInstancedMesh) {\n        attributes.update(object.instanceMatrix, 34962);\n      }\n\n      return buffergeometry;\n    }\n\n    function dispose() {\n      updateList = {};\n    }\n\n    return {\n      update: update,\n      dispose: dispose,\n    };\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function CubeTexture(\n    images,\n    mapping,\n    wrapS,\n    wrapT,\n    magFilter,\n    minFilter,\n    format,\n    type,\n    anisotropy,\n    encoding\n  ) {\n    images = images !== undefined ? images : [];\n    mapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n    format = format !== undefined ? format : RGBFormat;\n\n    Texture.call(\n      this,\n      images,\n      mapping,\n      wrapS,\n      wrapT,\n      magFilter,\n      minFilter,\n      format,\n      type,\n      anisotropy,\n      encoding\n    );\n\n    this.flipY = false;\n  }\n\n  CubeTexture.prototype = Object.create(Texture.prototype);\n  CubeTexture.prototype.constructor = CubeTexture;\n\n  CubeTexture.prototype.isCubeTexture = true;\n\n  Object.defineProperty(CubeTexture.prototype, \"images\", {\n    get: function () {\n      return this.image;\n    },\n\n    set: function (value) {\n      this.image = value;\n    },\n  });\n\n  /**\n   * @author Takahiro https://github.com/takahirox\n   */\n\n  function DataTexture2DArray(data, width, height, depth) {\n    Texture.call(this, null);\n\n    this.image = {\n      data: data || null,\n      width: width || 1,\n      height: height || 1,\n      depth: depth || 1,\n    };\n\n    this.magFilter = NearestFilter;\n    this.minFilter = NearestFilter;\n\n    this.wrapR = ClampToEdgeWrapping;\n\n    this.generateMipmaps = false;\n    this.flipY = false;\n\n    this.needsUpdate = true;\n  }\n\n  DataTexture2DArray.prototype = Object.create(Texture.prototype);\n  DataTexture2DArray.prototype.constructor = DataTexture2DArray;\n  DataTexture2DArray.prototype.isDataTexture2DArray = true;\n\n  /**\n   * @author Artur Trzesiok\n   */\n\n  function DataTexture3D(data, width, height, depth) {\n    // We're going to add .setXXX() methods for setting properties later.\n    // Users can still set in DataTexture3D directly.\n    //\n    //\tvar texture = new THREE.DataTexture3D( data, width, height, depth );\n    // \ttexture.anisotropy = 16;\n    //\n    // See #14839\n\n    Texture.call(this, null);\n\n    this.image = {\n      data: data || null,\n      width: width || 1,\n      height: height || 1,\n      depth: depth || 1,\n    };\n\n    this.magFilter = NearestFilter;\n    this.minFilter = NearestFilter;\n\n    this.wrapR = ClampToEdgeWrapping;\n\n    this.generateMipmaps = false;\n    this.flipY = false;\n\n    this.needsUpdate = true;\n  }\n\n  DataTexture3D.prototype = Object.create(Texture.prototype);\n  DataTexture3D.prototype.constructor = DataTexture3D;\n  DataTexture3D.prototype.isDataTexture3D = true;\n\n  /**\n   * @author tschw\n   * @author Mugen87 / https://github.com/Mugen87\n   * @author mrdoob / http://mrdoob.com/\n   *\n   * Uniforms of a program.\n   * Those form a tree structure with a special top-level container for the root,\n   * which you get by calling 'new WebGLUniforms( gl, program )'.\n   *\n   *\n   * Properties of inner nodes including the top-level container:\n   *\n   * .seq - array of nested uniforms\n   * .map - nested uniforms by name\n   *\n   *\n   * Methods of all nodes except the top-level container:\n   *\n   * .setValue( gl, value, [textures] )\n   *\n   * \t\tuploads a uniform value(s)\n   *  \tthe 'textures' parameter is needed for sampler uniforms\n   *\n   *\n   * Static methods of the top-level container (textures factorizations):\n   *\n   * .upload( gl, seq, values, textures )\n   *\n   * \t\tsets uniforms in 'seq' to 'values[id].value'\n   *\n   * .seqWithValue( seq, values ) : filteredSeq\n   *\n   * \t\tfilters 'seq' entries with corresponding entry in values\n   *\n   *\n   * Methods of the top-level container (textures factorizations):\n   *\n   * .setValue( gl, name, value, textures )\n   *\n   * \t\tsets uniform with  name 'name' to 'value'\n   *\n   * .setOptional( gl, obj, prop )\n   *\n   * \t\tlike .set for an optional property of the object\n   *\n   */\n\n  var emptyTexture = new Texture();\n  var emptyTexture2dArray = new DataTexture2DArray();\n  var emptyTexture3d = new DataTexture3D();\n  var emptyCubeTexture = new CubeTexture();\n\n  // --- Utilities ---\n\n  // Array Caches (provide typed arrays for temporary by size)\n\n  var arrayCacheF32 = [];\n  var arrayCacheI32 = [];\n\n  // Float32Array caches used for uploading Matrix uniforms\n\n  var mat4array = new Float32Array(16);\n  var mat3array = new Float32Array(9);\n  var mat2array = new Float32Array(4);\n\n  // Flattening for arrays of vectors and matrices\n\n  function flatten(array, nBlocks, blockSize) {\n    var firstElem = array[0];\n\n    if (firstElem <= 0 || firstElem > 0) {\n      return array;\n    }\n    // unoptimized: ! isNaN( firstElem )\n    // see http://jacksondunstan.com/articles/983\n\n    var n = nBlocks * blockSize,\n      r = arrayCacheF32[n];\n\n    if (r === undefined) {\n      r = new Float32Array(n);\n      arrayCacheF32[n] = r;\n    }\n\n    if (nBlocks !== 0) {\n      firstElem.toArray(r, 0);\n\n      for (var i = 1, offset = 0; i !== nBlocks; ++i) {\n        offset += blockSize;\n        array[i].toArray(r, offset);\n      }\n    }\n\n    return r;\n  }\n\n  function arraysEqual(a, b) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0, l = a.length; i < l; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function copyArray(a, b) {\n    for (var i = 0, l = b.length; i < l; i++) {\n      a[i] = b[i];\n    }\n  }\n\n  // Texture unit allocation\n\n  function allocTexUnits(textures, n) {\n    var r = arrayCacheI32[n];\n\n    if (r === undefined) {\n      r = new Int32Array(n);\n      arrayCacheI32[n] = r;\n    }\n\n    for (var i = 0; i !== n; ++i) {\n      r[i] = textures.allocateTextureUnit();\n    }\n\n    return r;\n  }\n\n  // --- Setters ---\n\n  // Note: Defining these methods externally, because they come in a bunch\n  // and this way their names minify.\n\n  // Single scalar\n\n  function setValueV1f(gl, v) {\n    var cache = this.cache;\n\n    if (cache[0] === v) {\n      return;\n    }\n\n    gl.uniform1f(this.addr, v);\n\n    cache[0] = v;\n  }\n\n  // Single float vector (from flat array or THREE.VectorN)\n\n  function setValueV2f(gl, v) {\n    var cache = this.cache;\n\n    if (v.x !== undefined) {\n      if (cache[0] !== v.x || cache[1] !== v.y) {\n        gl.uniform2f(this.addr, v.x, v.y);\n\n        cache[0] = v.x;\n        cache[1] = v.y;\n      }\n    } else {\n      if (arraysEqual(cache, v)) {\n        return;\n      }\n\n      gl.uniform2fv(this.addr, v);\n\n      copyArray(cache, v);\n    }\n  }\n\n  function setValueV3f(gl, v) {\n    var cache = this.cache;\n\n    if (v.x !== undefined) {\n      if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z) {\n        gl.uniform3f(this.addr, v.x, v.y, v.z);\n\n        cache[0] = v.x;\n        cache[1] = v.y;\n        cache[2] = v.z;\n      }\n    } else if (v.r !== undefined) {\n      if (cache[0] !== v.r || cache[1] !== v.g || cache[2] !== v.b) {\n        gl.uniform3f(this.addr, v.r, v.g, v.b);\n\n        cache[0] = v.r;\n        cache[1] = v.g;\n        cache[2] = v.b;\n      }\n    } else {\n      if (arraysEqual(cache, v)) {\n        return;\n      }\n\n      gl.uniform3fv(this.addr, v);\n\n      copyArray(cache, v);\n    }\n  }\n\n  function setValueV4f(gl, v) {\n    var cache = this.cache;\n\n    if (v.x !== undefined) {\n      if (\n        cache[0] !== v.x ||\n        cache[1] !== v.y ||\n        cache[2] !== v.z ||\n        cache[3] !== v.w\n      ) {\n        gl.uniform4f(this.addr, v.x, v.y, v.z, v.w);\n\n        cache[0] = v.x;\n        cache[1] = v.y;\n        cache[2] = v.z;\n        cache[3] = v.w;\n      }\n    } else {\n      if (arraysEqual(cache, v)) {\n        return;\n      }\n\n      gl.uniform4fv(this.addr, v);\n\n      copyArray(cache, v);\n    }\n  }\n\n  // Single matrix (from flat array or MatrixN)\n\n  function setValueM2(gl, v) {\n    var cache = this.cache;\n    var elements = v.elements;\n\n    if (elements === undefined) {\n      if (arraysEqual(cache, v)) {\n        return;\n      }\n\n      gl.uniformMatrix2fv(this.addr, false, v);\n\n      copyArray(cache, v);\n    } else {\n      if (arraysEqual(cache, elements)) {\n        return;\n      }\n\n      mat2array.set(elements);\n\n      gl.uniformMatrix2fv(this.addr, false, mat2array);\n\n      copyArray(cache, elements);\n    }\n  }\n\n  function setValueM3(gl, v) {\n    var cache = this.cache;\n    var elements = v.elements;\n\n    if (elements === undefined) {\n      if (arraysEqual(cache, v)) {\n        return;\n      }\n\n      gl.uniformMatrix3fv(this.addr, false, v);\n\n      copyArray(cache, v);\n    } else {\n      if (arraysEqual(cache, elements)) {\n        return;\n      }\n\n      mat3array.set(elements);\n\n      gl.uniformMatrix3fv(this.addr, false, mat3array);\n\n      copyArray(cache, elements);\n    }\n  }\n\n  function setValueM4(gl, v) {\n    var cache = this.cache;\n    var elements = v.elements;\n\n    if (elements === undefined) {\n      if (arraysEqual(cache, v)) {\n        return;\n      }\n\n      gl.uniformMatrix4fv(this.addr, false, v);\n\n      copyArray(cache, v);\n    } else {\n      if (arraysEqual(cache, elements)) {\n        return;\n      }\n\n      mat4array.set(elements);\n\n      gl.uniformMatrix4fv(this.addr, false, mat4array);\n\n      copyArray(cache, elements);\n    }\n  }\n\n  // Single texture (2D / Cube)\n\n  function setValueT1(gl, v, textures) {\n    var cache = this.cache;\n    var unit = textures.allocateTextureUnit();\n\n    if (cache[0] !== unit) {\n      gl.uniform1i(this.addr, unit);\n      cache[0] = unit;\n    }\n\n    textures.safeSetTexture2D(v || emptyTexture, unit);\n  }\n\n  function setValueT2DArray1(gl, v, textures) {\n    var cache = this.cache;\n    var unit = textures.allocateTextureUnit();\n\n    if (cache[0] !== unit) {\n      gl.uniform1i(this.addr, unit);\n      cache[0] = unit;\n    }\n\n    textures.setTexture2DArray(v || emptyTexture2dArray, unit);\n  }\n\n  function setValueT3D1(gl, v, textures) {\n    var cache = this.cache;\n    var unit = textures.allocateTextureUnit();\n\n    if (cache[0] !== unit) {\n      gl.uniform1i(this.addr, unit);\n      cache[0] = unit;\n    }\n\n    textures.setTexture3D(v || emptyTexture3d, unit);\n  }\n\n  function setValueT6(gl, v, textures) {\n    var cache = this.cache;\n    var unit = textures.allocateTextureUnit();\n\n    if (cache[0] !== unit) {\n      gl.uniform1i(this.addr, unit);\n      cache[0] = unit;\n    }\n\n    textures.safeSetTextureCube(v || emptyCubeTexture, unit);\n  }\n\n  // Integer / Boolean vectors or arrays thereof (always flat arrays)\n\n  function setValueV1i(gl, v) {\n    var cache = this.cache;\n\n    if (cache[0] === v) {\n      return;\n    }\n\n    gl.uniform1i(this.addr, v);\n\n    cache[0] = v;\n  }\n\n  function setValueV2i(gl, v) {\n    var cache = this.cache;\n\n    if (arraysEqual(cache, v)) {\n      return;\n    }\n\n    gl.uniform2iv(this.addr, v);\n\n    copyArray(cache, v);\n  }\n\n  function setValueV3i(gl, v) {\n    var cache = this.cache;\n\n    if (arraysEqual(cache, v)) {\n      return;\n    }\n\n    gl.uniform3iv(this.addr, v);\n\n    copyArray(cache, v);\n  }\n\n  function setValueV4i(gl, v) {\n    var cache = this.cache;\n\n    if (arraysEqual(cache, v)) {\n      return;\n    }\n\n    gl.uniform4iv(this.addr, v);\n\n    copyArray(cache, v);\n  }\n\n  // Helper to pick the right setter for the singular case\n\n  function getSingularSetter(type) {\n    switch (type) {\n      case 0x1406:\n        return setValueV1f; // FLOAT\n      case 0x8b50:\n        return setValueV2f; // _VEC2\n      case 0x8b51:\n        return setValueV3f; // _VEC3\n      case 0x8b52:\n        return setValueV4f; // _VEC4\n\n      case 0x8b5a:\n        return setValueM2; // _MAT2\n      case 0x8b5b:\n        return setValueM3; // _MAT3\n      case 0x8b5c:\n        return setValueM4; // _MAT4\n\n      case 0x8b5e:\n      case 0x8d66:\n        return setValueT1; // SAMPLER_2D, SAMPLER_EXTERNAL_OES\n      case 0x8b5f:\n        return setValueT3D1; // SAMPLER_3D\n      case 0x8b60:\n        return setValueT6; // SAMPLER_CUBE\n      case 0x8dc1:\n        return setValueT2DArray1; // SAMPLER_2D_ARRAY\n\n      case 0x1404:\n      case 0x8b56:\n        return setValueV1i; // INT, BOOL\n      case 0x8b53:\n      case 0x8b57:\n        return setValueV2i; // _VEC2\n      case 0x8b54:\n      case 0x8b58:\n        return setValueV3i; // _VEC3\n      case 0x8b55:\n      case 0x8b59:\n        return setValueV4i; // _VEC4\n    }\n  }\n\n  // Array of scalars\n  function setValueV1fArray(gl, v) {\n    gl.uniform1fv(this.addr, v);\n  }\n\n  // Integer / Boolean vectors or arrays thereof (always flat arrays)\n  function setValueV1iArray(gl, v) {\n    gl.uniform1iv(this.addr, v);\n  }\n\n  function setValueV2iArray(gl, v) {\n    gl.uniform2iv(this.addr, v);\n  }\n\n  function setValueV3iArray(gl, v) {\n    gl.uniform3iv(this.addr, v);\n  }\n\n  function setValueV4iArray(gl, v) {\n    gl.uniform4iv(this.addr, v);\n  }\n\n  // Array of vectors (flat or from THREE classes)\n\n  function setValueV2fArray(gl, v) {\n    var data = flatten(v, this.size, 2);\n\n    gl.uniform2fv(this.addr, data);\n  }\n\n  function setValueV3fArray(gl, v) {\n    var data = flatten(v, this.size, 3);\n\n    gl.uniform3fv(this.addr, data);\n  }\n\n  function setValueV4fArray(gl, v) {\n    var data = flatten(v, this.size, 4);\n\n    gl.uniform4fv(this.addr, data);\n  }\n\n  // Array of matrices (flat or from THREE clases)\n\n  function setValueM2Array(gl, v) {\n    var data = flatten(v, this.size, 4);\n\n    gl.uniformMatrix2fv(this.addr, false, data);\n  }\n\n  function setValueM3Array(gl, v) {\n    var data = flatten(v, this.size, 9);\n\n    gl.uniformMatrix3fv(this.addr, false, data);\n  }\n\n  function setValueM4Array(gl, v) {\n    var data = flatten(v, this.size, 16);\n\n    gl.uniformMatrix4fv(this.addr, false, data);\n  }\n\n  // Array of textures (2D / Cube)\n\n  function setValueT1Array(gl, v, textures) {\n    var n = v.length;\n\n    var units = allocTexUnits(textures, n);\n\n    gl.uniform1iv(this.addr, units);\n\n    for (var i = 0; i !== n; ++i) {\n      textures.safeSetTexture2D(v[i] || emptyTexture, units[i]);\n    }\n  }\n\n  function setValueT6Array(gl, v, textures) {\n    var n = v.length;\n\n    var units = allocTexUnits(textures, n);\n\n    gl.uniform1iv(this.addr, units);\n\n    for (var i = 0; i !== n; ++i) {\n      textures.safeSetTextureCube(v[i] || emptyCubeTexture, units[i]);\n    }\n  }\n\n  // Helper to pick the right setter for a pure (bottom-level) array\n\n  function getPureArraySetter(type) {\n    switch (type) {\n      case 0x1406:\n        return setValueV1fArray; // FLOAT\n      case 0x8b50:\n        return setValueV2fArray; // _VEC2\n      case 0x8b51:\n        return setValueV3fArray; // _VEC3\n      case 0x8b52:\n        return setValueV4fArray; // _VEC4\n\n      case 0x8b5a:\n        return setValueM2Array; // _MAT2\n      case 0x8b5b:\n        return setValueM3Array; // _MAT3\n      case 0x8b5c:\n        return setValueM4Array; // _MAT4\n\n      case 0x8b5e: // SAMPLER_2D\n      case 0x8d66: // SAMPLER_EXTERNAL_OES\n      case 0x8dca: // INT_SAMPLER_2D\n      case 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n        return setValueT1Array;\n\n      case 0x8b60: // SAMPLER_CUBE\n      case 0x8dcc: // INT_SAMPLER_CUBE\n      case 0x8dd4: // UNSIGNED_SAMPLER_CUBE\n        return setValueT6Array;\n\n      case 0x1404:\n      case 0x8b56:\n        return setValueV1iArray; // INT, BOOL\n      case 0x8b53:\n      case 0x8b57:\n        return setValueV2iArray; // _VEC2\n      case 0x8b54:\n      case 0x8b58:\n        return setValueV3iArray; // _VEC3\n      case 0x8b55:\n      case 0x8b59:\n        return setValueV4iArray; // _VEC4\n    }\n  }\n\n  // --- Uniform Classes ---\n\n  function SingleUniform(id, activeInfo, addr) {\n    this.id = id;\n    this.addr = addr;\n    this.cache = [];\n    this.setValue = getSingularSetter(activeInfo.type);\n\n    // this.path = activeInfo.name; // DEBUG\n  }\n\n  function PureArrayUniform(id, activeInfo, addr) {\n    this.id = id;\n    this.addr = addr;\n    this.cache = [];\n    this.size = activeInfo.size;\n    this.setValue = getPureArraySetter(activeInfo.type);\n\n    // this.path = activeInfo.name; // DEBUG\n  }\n\n  PureArrayUniform.prototype.updateCache = function (data) {\n    var cache = this.cache;\n\n    if (data instanceof Float32Array && cache.length !== data.length) {\n      this.cache = new Float32Array(data.length);\n    }\n\n    copyArray(cache, data);\n  };\n\n  function StructuredUniform(id) {\n    this.id = id;\n\n    this.seq = [];\n    this.map = {};\n  }\n\n  StructuredUniform.prototype.setValue = function (gl, value, textures) {\n    var seq = this.seq;\n\n    for (var i = 0, n = seq.length; i !== n; ++i) {\n      var u = seq[i];\n      u.setValue(gl, value[u.id], textures);\n    }\n  };\n\n  // --- Top-level ---\n\n  // Parser - builds up the property tree from the path strings\n\n  var RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n  // extracts\n  // \t- the identifier (member name or array index)\n  //  - followed by an optional right bracket (found when array index)\n  //  - followed by an optional left bracket or dot (type of subscript)\n  //\n  // Note: These portions can be read in a non-overlapping fashion and\n  // allow straightforward parsing of the hierarchy that WebGL encodes\n  // in the uniform names.\n\n  function addUniform(container, uniformObject) {\n    container.seq.push(uniformObject);\n    container.map[uniformObject.id] = uniformObject;\n  }\n\n  function parseUniform(activeInfo, addr, container) {\n    var path = activeInfo.name,\n      pathLength = path.length;\n\n    // reset RegExp object, because of the early exit of a previous run\n    RePathPart.lastIndex = 0;\n\n    while (true) {\n      var match = RePathPart.exec(path),\n        matchEnd = RePathPart.lastIndex,\n        id = match[1],\n        idIsIndex = match[2] === \"]\",\n        subscript = match[3];\n\n      if (idIsIndex) {\n        id = id | 0;\n      } // convert to integer\n\n      if (\n        subscript === undefined ||\n        (subscript === \"[\" && matchEnd + 2 === pathLength)\n      ) {\n        // bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n        addUniform(\n          container,\n          subscript === undefined\n            ? new SingleUniform(id, activeInfo, addr)\n            : new PureArrayUniform(id, activeInfo, addr)\n        );\n\n        break;\n      } else {\n        // step into inner node / create it in case it doesn't exist\n\n        var map = container.map,\n          next = map[id];\n\n        if (next === undefined) {\n          next = new StructuredUniform(id);\n          addUniform(container, next);\n        }\n\n        container = next;\n      }\n    }\n  }\n\n  // Root Container\n\n  function WebGLUniforms(gl, program) {\n    this.seq = [];\n    this.map = {};\n\n    var n = gl.getProgramParameter(program, 35718);\n\n    for (var i = 0; i < n; ++i) {\n      var info = gl.getActiveUniform(program, i),\n        addr = gl.getUniformLocation(program, info.name);\n\n      parseUniform(info, addr, this);\n    }\n  }\n\n  WebGLUniforms.prototype.setValue = function (gl, name, value, textures) {\n    var u = this.map[name];\n\n    if (u !== undefined) {\n      u.setValue(gl, value, textures);\n    }\n  };\n\n  WebGLUniforms.prototype.setOptional = function (gl, object, name) {\n    var v = object[name];\n\n    if (v !== undefined) {\n      this.setValue(gl, name, v);\n    }\n  };\n\n  // Static interface\n\n  WebGLUniforms.upload = function (gl, seq, values, textures) {\n    for (var i = 0, n = seq.length; i !== n; ++i) {\n      var u = seq[i],\n        v = values[u.id];\n\n      if (v.needsUpdate !== false) {\n        // note: always updating when .needsUpdate is undefined\n        u.setValue(gl, v.value, textures);\n      }\n    }\n  };\n\n  WebGLUniforms.seqWithValue = function (seq, values) {\n    var r = [];\n\n    for (var i = 0, n = seq.length; i !== n; ++i) {\n      var u = seq[i];\n      if (u.id in values) {\n        r.push(u);\n      }\n    }\n\n    return r;\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLShader(gl, type, string) {\n    var shader = gl.createShader(type);\n\n    gl.shaderSource(shader, string);\n    gl.compileShader(shader);\n\n    return shader;\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var programIdCount = 0;\n\n  function addLineNumbers(string) {\n    var lines = string.split(\"\\n\");\n\n    for (var i = 0; i < lines.length; i++) {\n      lines[i] = i + 1 + \": \" + lines[i];\n    }\n\n    return lines.join(\"\\n\");\n  }\n\n  function getEncodingComponents(encoding) {\n    switch (encoding) {\n      case LinearEncoding:\n        return [\"Linear\", \"( value )\"];\n      case sRGBEncoding:\n        return [\"sRGB\", \"( value )\"];\n      case RGBEEncoding:\n        return [\"RGBE\", \"( value )\"];\n      case RGBM7Encoding:\n        return [\"RGBM\", \"( value, 7.0 )\"];\n      case RGBM16Encoding:\n        return [\"RGBM\", \"( value, 16.0 )\"];\n      case RGBDEncoding:\n        return [\"RGBD\", \"( value, 256.0 )\"];\n      case GammaEncoding:\n        return [\"Gamma\", \"( value, float( GAMMA_FACTOR ) )\"];\n      case LogLuvEncoding:\n        return [\"LogLuv\", \"( value )\"];\n      default:\n        throw new Error(\"unsupported encoding: \" + encoding);\n    }\n  }\n\n  function getShaderErrors(gl, shader, type) {\n    var status = gl.getShaderParameter(shader, 35713);\n    var log = gl.getShaderInfoLog(shader).trim();\n\n    if (status && log === \"\") {\n      return \"\";\n    }\n\n    // --enable-privileged-webgl-extension\n    // console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n    var source = gl.getShaderSource(shader);\n\n    return (\n      \"THREE.WebGLShader: gl.getShaderInfoLog() \" +\n      type +\n      \"\\n\" +\n      log +\n      addLineNumbers(source)\n    );\n  }\n\n  function getTexelDecodingFunction(functionName, encoding) {\n    var components = getEncodingComponents(encoding);\n    return (\n      \"vec4 \" +\n      functionName +\n      \"( vec4 value ) { return \" +\n      components[0] +\n      \"ToLinear\" +\n      components[1] +\n      \"; }\"\n    );\n  }\n\n  function getTexelEncodingFunction(functionName, encoding) {\n    var components = getEncodingComponents(encoding);\n    return (\n      \"vec4 \" +\n      functionName +\n      \"( vec4 value ) { return LinearTo\" +\n      components[0] +\n      components[1] +\n      \"; }\"\n    );\n  }\n\n  function getToneMappingFunction(functionName, toneMapping) {\n    var toneMappingName;\n\n    switch (toneMapping) {\n      case LinearToneMapping:\n        toneMappingName = \"Linear\";\n        break;\n\n      case ReinhardToneMapping:\n        toneMappingName = \"Reinhard\";\n        break;\n\n      case Uncharted2ToneMapping:\n        toneMappingName = \"Uncharted2\";\n        break;\n\n      case CineonToneMapping:\n        toneMappingName = \"OptimizedCineon\";\n        break;\n\n      case ACESFilmicToneMapping:\n        toneMappingName = \"ACESFilmic\";\n        break;\n\n      default:\n        throw new Error(\"unsupported toneMapping: \" + toneMapping);\n    }\n\n    return (\n      \"vec3 \" +\n      functionName +\n      \"( vec3 color ) { return \" +\n      toneMappingName +\n      \"ToneMapping( color ); }\"\n    );\n  }\n\n  function generateExtensions(extensions, parameters, rendererExtensions) {\n    extensions = extensions || {};\n\n    var chunks = [\n      extensions.derivatives ||\n      parameters.envMapCubeUV ||\n      parameters.bumpMap ||\n      parameters.tangentSpaceNormalMap ||\n      parameters.clearcoatNormalMap ||\n      parameters.flatShading ||\n      parameters.shaderID === \"physical\"\n        ? \"#extension GL_OES_standard_derivatives : enable\"\n        : \"\",\n      (extensions.fragDepth || parameters.logarithmicDepthBuffer) &&\n      rendererExtensions.get(\"EXT_frag_depth\")\n        ? \"#extension GL_EXT_frag_depth : enable\"\n        : \"\",\n      extensions.drawBuffers && rendererExtensions.get(\"WEBGL_draw_buffers\")\n        ? \"#extension GL_EXT_draw_buffers : require\"\n        : \"\",\n      (extensions.shaderTextureLOD || parameters.envMap) &&\n      rendererExtensions.get(\"EXT_shader_texture_lod\")\n        ? \"#extension GL_EXT_shader_texture_lod : enable\"\n        : \"\",\n    ];\n\n    return chunks.filter(filterEmptyLine).join(\"\\n\");\n  }\n\n  function generateDefines(defines) {\n    var chunks = [];\n\n    for (var name in defines) {\n      var value = defines[name];\n\n      if (value === false) {\n        continue;\n      }\n\n      chunks.push(\"#define \" + name + \" \" + value);\n    }\n\n    return chunks.join(\"\\n\");\n  }\n\n  function fetchAttributeLocations(gl, program) {\n    var attributes = {};\n\n    var n = gl.getProgramParameter(program, 35721);\n\n    for (var i = 0; i < n; i++) {\n      var info = gl.getActiveAttrib(program, i);\n      var name = info.name;\n\n      // console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n      attributes[name] = gl.getAttribLocation(program, name);\n    }\n\n    return attributes;\n  }\n\n  function filterEmptyLine(string) {\n    return string !== \"\";\n  }\n\n  function replaceLightNums(string, parameters) {\n    return string\n      .replace(/NUM_DIR_LIGHTS/g, parameters.numDirLights)\n      .replace(/NUM_SPOT_LIGHTS/g, parameters.numSpotLights)\n      .replace(/NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights)\n      .replace(/NUM_POINT_LIGHTS/g, parameters.numPointLights)\n      .replace(/NUM_HEMI_LIGHTS/g, parameters.numHemiLights)\n      .replace(/NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows)\n      .replace(/NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows)\n      .replace(/NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows);\n  }\n\n  function replaceClippingPlaneNums(string, parameters) {\n    return string\n      .replace(/NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes)\n      .replace(\n        /UNION_CLIPPING_PLANES/g,\n        parameters.numClippingPlanes - parameters.numClipIntersection\n      );\n  }\n\n  // Resolve Includes\n\n  var includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\n  function resolveIncludes(string) {\n    return string.replace(includePattern, includeReplacer);\n  }\n\n  function includeReplacer(match, include) {\n    var string = ShaderChunk[include];\n\n    if (string === undefined) {\n      throw new Error(\"Can not resolve #include <\" + include + \">\");\n    }\n\n    return resolveIncludes(string);\n  }\n\n  // Unroll Loops\n\n  var loopPattern =\n    /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\n  function unrollLoops(string) {\n    return string.replace(loopPattern, loopReplacer);\n  }\n\n  function loopReplacer(match, start, end, snippet) {\n    var string = \"\";\n\n    for (var i = parseInt(start); i < parseInt(end); i++) {\n      string += snippet\n        .replace(/\\[ i \\]/g, \"[ \" + i + \" ]\")\n        .replace(/UNROLLED_LOOP_INDEX/g, i);\n    }\n\n    return string;\n  }\n\n  //\n\n  function generatePrecision(parameters) {\n    var precisionstring =\n      \"precision \" +\n      parameters.precision +\n      \" float;\\nprecision \" +\n      parameters.precision +\n      \" int;\";\n\n    if (parameters.precision === \"highp\") {\n      precisionstring += \"\\n#define HIGH_PRECISION\";\n    } else if (parameters.precision === \"mediump\") {\n      precisionstring += \"\\n#define MEDIUM_PRECISION\";\n    } else if (parameters.precision === \"lowp\") {\n      precisionstring += \"\\n#define LOW_PRECISION\";\n    }\n\n    return precisionstring;\n  }\n\n  function generateShadowMapTypeDefine(parameters) {\n    var shadowMapTypeDefine = \"SHADOWMAP_TYPE_BASIC\";\n\n    if (parameters.shadowMapType === PCFShadowMap) {\n      shadowMapTypeDefine = \"SHADOWMAP_TYPE_PCF\";\n    } else if (parameters.shadowMapType === PCFSoftShadowMap) {\n      shadowMapTypeDefine = \"SHADOWMAP_TYPE_PCF_SOFT\";\n    } else if (parameters.shadowMapType === VSMShadowMap) {\n      shadowMapTypeDefine = \"SHADOWMAP_TYPE_VSM\";\n    }\n\n    return shadowMapTypeDefine;\n  }\n\n  function generateEnvMapTypeDefine(parameters) {\n    var envMapTypeDefine = \"ENVMAP_TYPE_CUBE\";\n\n    if (parameters.envMap) {\n      switch (parameters.envMapMode) {\n        case CubeReflectionMapping:\n        case CubeRefractionMapping:\n          envMapTypeDefine = \"ENVMAP_TYPE_CUBE\";\n          break;\n\n        case CubeUVReflectionMapping:\n        case CubeUVRefractionMapping:\n          envMapTypeDefine = \"ENVMAP_TYPE_CUBE_UV\";\n          break;\n\n        case EquirectangularReflectionMapping:\n        case EquirectangularRefractionMapping:\n          envMapTypeDefine = \"ENVMAP_TYPE_EQUIREC\";\n          break;\n\n        case SphericalReflectionMapping:\n          envMapTypeDefine = \"ENVMAP_TYPE_SPHERE\";\n          break;\n      }\n    }\n\n    return envMapTypeDefine;\n  }\n\n  function generateEnvMapModeDefine(parameters) {\n    var envMapModeDefine = \"ENVMAP_MODE_REFLECTION\";\n\n    if (parameters.envMap) {\n      switch (parameters.envMapMode) {\n        case CubeRefractionMapping:\n        case EquirectangularRefractionMapping:\n          envMapModeDefine = \"ENVMAP_MODE_REFRACTION\";\n          break;\n      }\n    }\n\n    return envMapModeDefine;\n  }\n\n  function generateEnvMapBlendingDefine(parameters) {\n    var envMapBlendingDefine = \"ENVMAP_BLENDING_NONE\";\n\n    if (parameters.envMap) {\n      switch (parameters.combine) {\n        case MultiplyOperation:\n          envMapBlendingDefine = \"ENVMAP_BLENDING_MULTIPLY\";\n          break;\n\n        case MixOperation:\n          envMapBlendingDefine = \"ENVMAP_BLENDING_MIX\";\n          break;\n\n        case AddOperation:\n          envMapBlendingDefine = \"ENVMAP_BLENDING_ADD\";\n          break;\n      }\n    }\n\n    return envMapBlendingDefine;\n  }\n\n  function WebGLProgram(\n    renderer,\n    extensions,\n    cacheKey,\n    material,\n    shader,\n    parameters\n  ) {\n    var gl = renderer.getContext();\n\n    var defines = material.defines;\n\n    var vertexShader = shader.vertexShader;\n    var fragmentShader = shader.fragmentShader;\n    var shadowMapTypeDefine = generateShadowMapTypeDefine(parameters);\n    var envMapTypeDefine = generateEnvMapTypeDefine(parameters);\n    var envMapModeDefine = generateEnvMapModeDefine(parameters);\n    var envMapBlendingDefine = generateEnvMapBlendingDefine(parameters);\n\n    var gammaFactorDefine =\n      renderer.gammaFactor > 0 ? renderer.gammaFactor : 1.0;\n\n    var customExtensions = parameters.isWebGL2\n      ? \"\"\n      : generateExtensions(material.extensions, parameters, extensions);\n\n    var customDefines = generateDefines(defines);\n\n    var program = gl.createProgram();\n\n    var prefixVertex, prefixFragment;\n\n    var numMultiviewViews = parameters.numMultiviewViews;\n\n    if (material.isRawShaderMaterial) {\n      prefixVertex = [customDefines].filter(filterEmptyLine).join(\"\\n\");\n\n      if (prefixVertex.length > 0) {\n        prefixVertex += \"\\n\";\n      }\n\n      prefixFragment = [customExtensions, customDefines]\n        .filter(filterEmptyLine)\n        .join(\"\\n\");\n\n      if (prefixFragment.length > 0) {\n        prefixFragment += \"\\n\";\n      }\n    } else {\n      prefixVertex = [\n        generatePrecision(parameters),\n\n        \"#define SHADER_NAME \" + shader.name,\n\n        customDefines,\n\n        parameters.instancing ? \"#define USE_INSTANCING\" : \"\",\n        parameters.supportsVertexTextures ? \"#define VERTEX_TEXTURES\" : \"\",\n\n        \"#define GAMMA_FACTOR \" + gammaFactorDefine,\n\n        \"#define MAX_BONES \" + parameters.maxBones,\n        parameters.useFog && parameters.fog ? \"#define USE_FOG\" : \"\",\n        parameters.useFog && parameters.fogExp2 ? \"#define FOG_EXP2\" : \"\",\n\n        parameters.map ? \"#define USE_MAP\" : \"\",\n        parameters.envMap ? \"#define USE_ENVMAP\" : \"\",\n        parameters.envMap ? \"#define \" + envMapModeDefine : \"\",\n        parameters.lightMap ? \"#define USE_LIGHTMAP\" : \"\",\n        parameters.aoMap ? \"#define USE_AOMAP\" : \"\",\n        parameters.emissiveMap ? \"#define USE_EMISSIVEMAP\" : \"\",\n        parameters.bumpMap ? \"#define USE_BUMPMAP\" : \"\",\n        parameters.normalMap ? \"#define USE_NORMALMAP\" : \"\",\n        parameters.normalMap && parameters.objectSpaceNormalMap\n          ? \"#define OBJECTSPACE_NORMALMAP\"\n          : \"\",\n        parameters.normalMap && parameters.tangentSpaceNormalMap\n          ? \"#define TANGENTSPACE_NORMALMAP\"\n          : \"\",\n\n        parameters.clearcoatNormalMap ? \"#define USE_CLEARCOAT_NORMALMAP\" : \"\",\n        parameters.displacementMap && parameters.supportsVertexTextures\n          ? \"#define USE_DISPLACEMENTMAP\"\n          : \"\",\n        parameters.specularMap ? \"#define USE_SPECULARMAP\" : \"\",\n        parameters.roughnessMap ? \"#define USE_ROUGHNESSMAP\" : \"\",\n        parameters.metalnessMap ? \"#define USE_METALNESSMAP\" : \"\",\n        parameters.alphaMap ? \"#define USE_ALPHAMAP\" : \"\",\n\n        parameters.vertexTangents ? \"#define USE_TANGENT\" : \"\",\n        parameters.vertexColors ? \"#define USE_COLOR\" : \"\",\n        parameters.vertexUvs ? \"#define USE_UV\" : \"\",\n        parameters.uvsVertexOnly ? \"#define UVS_VERTEX_ONLY\" : \"\",\n\n        parameters.flatShading ? \"#define FLAT_SHADED\" : \"\",\n\n        parameters.skinning ? \"#define USE_SKINNING\" : \"\",\n        parameters.useVertexTexture ? \"#define BONE_TEXTURE\" : \"\",\n\n        parameters.morphTargets ? \"#define USE_MORPHTARGETS\" : \"\",\n        parameters.morphNormals && parameters.flatShading === false\n          ? \"#define USE_MORPHNORMALS\"\n          : \"\",\n        parameters.doubleSided ? \"#define DOUBLE_SIDED\" : \"\",\n        parameters.flipSided ? \"#define FLIP_SIDED\" : \"\",\n\n        parameters.shadowMapEnabled ? \"#define USE_SHADOWMAP\" : \"\",\n        parameters.shadowMapEnabled ? \"#define \" + shadowMapTypeDefine : \"\",\n\n        parameters.sizeAttenuation ? \"#define USE_SIZEATTENUATION\" : \"\",\n\n        parameters.logarithmicDepthBuffer ? \"#define USE_LOGDEPTHBUF\" : \"\",\n        parameters.logarithmicDepthBuffer &&\n        (parameters.isWebGL2 || extensions.get(\"EXT_frag_depth\"))\n          ? \"#define USE_LOGDEPTHBUF_EXT\"\n          : \"\",\n\n        \"uniform mat4 modelMatrix;\",\n        \"uniform mat4 modelViewMatrix;\",\n        \"uniform mat4 projectionMatrix;\",\n        \"uniform mat4 viewMatrix;\",\n        \"uniform mat3 normalMatrix;\",\n        \"uniform vec3 cameraPosition;\",\n        \"uniform bool isOrthographic;\",\n\n        \"#ifdef USE_INSTANCING\",\n\n        \" attribute mat4 instanceMatrix;\",\n\n        \"#endif\",\n\n        \"attribute vec3 position;\",\n        \"attribute vec3 normal;\",\n        \"attribute vec2 uv;\",\n\n        \"#ifdef USE_TANGENT\",\n\n        \"\tattribute vec4 tangent;\",\n\n        \"#endif\",\n\n        \"#ifdef USE_COLOR\",\n\n        \"\tattribute vec3 color;\",\n\n        \"#endif\",\n\n        \"#ifdef USE_MORPHTARGETS\",\n\n        \"\tattribute vec3 morphTarget0;\",\n        \"\tattribute vec3 morphTarget1;\",\n        \"\tattribute vec3 morphTarget2;\",\n        \"\tattribute vec3 morphTarget3;\",\n\n        \"\t#ifdef USE_MORPHNORMALS\",\n\n        \"\t\tattribute vec3 morphNormal0;\",\n        \"\t\tattribute vec3 morphNormal1;\",\n        \"\t\tattribute vec3 morphNormal2;\",\n        \"\t\tattribute vec3 morphNormal3;\",\n\n        \"\t#else\",\n\n        \"\t\tattribute vec3 morphTarget4;\",\n        \"\t\tattribute vec3 morphTarget5;\",\n        \"\t\tattribute vec3 morphTarget6;\",\n        \"\t\tattribute vec3 morphTarget7;\",\n\n        \"\t#endif\",\n\n        \"#endif\",\n\n        \"#ifdef USE_SKINNING\",\n\n        \"\tattribute vec4 skinIndex;\",\n        \"\tattribute vec4 skinWeight;\",\n\n        \"#endif\",\n\n        \"\\n\",\n      ]\n        .filter(filterEmptyLine)\n        .join(\"\\n\");\n\n      prefixFragment = [\n        customExtensions,\n\n        generatePrecision(parameters),\n\n        \"#define SHADER_NAME \" + shader.name,\n\n        customDefines,\n\n        parameters.alphaTest\n          ? \"#define ALPHATEST \" +\n            parameters.alphaTest +\n            (parameters.alphaTest % 1 ? \"\" : \".0\")\n          : \"\", // add '.0' if integer\n\n        \"#define GAMMA_FACTOR \" + gammaFactorDefine,\n\n        parameters.useFog && parameters.fog ? \"#define USE_FOG\" : \"\",\n        parameters.useFog && parameters.fogExp2 ? \"#define FOG_EXP2\" : \"\",\n\n        parameters.map ? \"#define USE_MAP\" : \"\",\n        parameters.matcap ? \"#define USE_MATCAP\" : \"\",\n        parameters.envMap ? \"#define USE_ENVMAP\" : \"\",\n        parameters.envMap ? \"#define \" + envMapTypeDefine : \"\",\n        parameters.envMap ? \"#define \" + envMapModeDefine : \"\",\n        parameters.envMap ? \"#define \" + envMapBlendingDefine : \"\",\n        parameters.lightMap ? \"#define USE_LIGHTMAP\" : \"\",\n        parameters.aoMap ? \"#define USE_AOMAP\" : \"\",\n        parameters.emissiveMap ? \"#define USE_EMISSIVEMAP\" : \"\",\n        parameters.bumpMap ? \"#define USE_BUMPMAP\" : \"\",\n        parameters.normalMap ? \"#define USE_NORMALMAP\" : \"\",\n        parameters.normalMap && parameters.objectSpaceNormalMap\n          ? \"#define OBJECTSPACE_NORMALMAP\"\n          : \"\",\n        parameters.normalMap && parameters.tangentSpaceNormalMap\n          ? \"#define TANGENTSPACE_NORMALMAP\"\n          : \"\",\n        parameters.clearcoatNormalMap ? \"#define USE_CLEARCOAT_NORMALMAP\" : \"\",\n        parameters.specularMap ? \"#define USE_SPECULARMAP\" : \"\",\n        parameters.roughnessMap ? \"#define USE_ROUGHNESSMAP\" : \"\",\n        parameters.metalnessMap ? \"#define USE_METALNESSMAP\" : \"\",\n        parameters.alphaMap ? \"#define USE_ALPHAMAP\" : \"\",\n\n        parameters.sheen ? \"#define USE_SHEEN\" : \"\",\n\n        parameters.vertexTangents ? \"#define USE_TANGENT\" : \"\",\n        parameters.vertexColors ? \"#define USE_COLOR\" : \"\",\n        parameters.vertexUvs ? \"#define USE_UV\" : \"\",\n        parameters.uvsVertexOnly ? \"#define UVS_VERTEX_ONLY\" : \"\",\n\n        parameters.gradientMap ? \"#define USE_GRADIENTMAP\" : \"\",\n\n        parameters.flatShading ? \"#define FLAT_SHADED\" : \"\",\n\n        parameters.doubleSided ? \"#define DOUBLE_SIDED\" : \"\",\n        parameters.flipSided ? \"#define FLIP_SIDED\" : \"\",\n\n        parameters.shadowMapEnabled ? \"#define USE_SHADOWMAP\" : \"\",\n        parameters.shadowMapEnabled ? \"#define \" + shadowMapTypeDefine : \"\",\n\n        parameters.premultipliedAlpha ? \"#define PREMULTIPLIED_ALPHA\" : \"\",\n\n        parameters.physicallyCorrectLights\n          ? \"#define PHYSICALLY_CORRECT_LIGHTS\"\n          : \"\",\n\n        parameters.logarithmicDepthBuffer ? \"#define USE_LOGDEPTHBUF\" : \"\",\n        parameters.logarithmicDepthBuffer &&\n        (parameters.isWebGL2 || extensions.get(\"EXT_frag_depth\"))\n          ? \"#define USE_LOGDEPTHBUF_EXT\"\n          : \"\",\n\n        ((material.extensions ? material.extensions.shaderTextureLOD : false) ||\n          parameters.envMap) &&\n        (parameters.isWebGL2 || extensions.get(\"EXT_shader_texture_lod\"))\n          ? \"#define TEXTURE_LOD_EXT\"\n          : \"\",\n\n        \"uniform mat4 viewMatrix;\",\n        \"uniform vec3 cameraPosition;\",\n        \"uniform bool isOrthographic;\",\n\n        parameters.toneMapping !== NoToneMapping ? \"#define TONE_MAPPING\" : \"\",\n        parameters.toneMapping !== NoToneMapping\n          ? ShaderChunk[\"tonemapping_pars_fragment\"]\n          : \"\", // this code is required here because it is used by the toneMapping() function defined below\n        parameters.toneMapping !== NoToneMapping\n          ? getToneMappingFunction(\"toneMapping\", parameters.toneMapping)\n          : \"\",\n\n        parameters.dithering ? \"#define DITHERING\" : \"\",\n\n        parameters.outputEncoding ||\n        parameters.mapEncoding ||\n        parameters.matcapEncoding ||\n        parameters.envMapEncoding ||\n        parameters.emissiveMapEncoding ||\n        parameters.lightMapEncoding\n          ? ShaderChunk[\"encodings_pars_fragment\"]\n          : \"\", // this code is required here because it is used by the various encoding/decoding function defined below\n        parameters.mapEncoding\n          ? getTexelDecodingFunction(\"mapTexelToLinear\", parameters.mapEncoding)\n          : \"\",\n        parameters.matcapEncoding\n          ? getTexelDecodingFunction(\n              \"matcapTexelToLinear\",\n              parameters.matcapEncoding\n            )\n          : \"\",\n        parameters.envMapEncoding\n          ? getTexelDecodingFunction(\n              \"envMapTexelToLinear\",\n              parameters.envMapEncoding\n            )\n          : \"\",\n        parameters.emissiveMapEncoding\n          ? getTexelDecodingFunction(\n              \"emissiveMapTexelToLinear\",\n              parameters.emissiveMapEncoding\n            )\n          : \"\",\n        parameters.lightMapEncoding\n          ? getTexelDecodingFunction(\n              \"lightMapTexelToLinear\",\n              parameters.lightMapEncoding\n            )\n          : \"\",\n        parameters.outputEncoding\n          ? getTexelEncodingFunction(\n              \"linearToOutputTexel\",\n              parameters.outputEncoding\n            )\n          : \"\",\n\n        parameters.depthPacking\n          ? \"#define DEPTH_PACKING \" + material.depthPacking\n          : \"\",\n\n        \"\\n\",\n      ]\n        .filter(filterEmptyLine)\n        .join(\"\\n\");\n    }\n\n    vertexShader = resolveIncludes(vertexShader);\n    vertexShader = replaceLightNums(vertexShader, parameters);\n    vertexShader = replaceClippingPlaneNums(vertexShader, parameters);\n\n    fragmentShader = resolveIncludes(fragmentShader);\n    fragmentShader = replaceLightNums(fragmentShader, parameters);\n    fragmentShader = replaceClippingPlaneNums(fragmentShader, parameters);\n\n    vertexShader = unrollLoops(vertexShader);\n    fragmentShader = unrollLoops(fragmentShader);\n\n    if (parameters.isWebGL2 && !material.isRawShaderMaterial) {\n      var isGLSL3ShaderMaterial = false;\n\n      var versionRegex = /^\\s*#version\\s+300\\s+es\\s*\\n/;\n\n      if (\n        material.isShaderMaterial &&\n        vertexShader.match(versionRegex) !== null &&\n        fragmentShader.match(versionRegex) !== null\n      ) {\n        isGLSL3ShaderMaterial = true;\n\n        vertexShader = vertexShader.replace(versionRegex, \"\");\n        fragmentShader = fragmentShader.replace(versionRegex, \"\");\n      }\n\n      // GLSL 3.0 conversion\n\n      prefixVertex =\n        [\n          \"#version 300 es\\n\",\n          \"#define attribute in\",\n          \"#define varying out\",\n          \"#define texture2D texture\",\n        ].join(\"\\n\") +\n        \"\\n\" +\n        prefixVertex;\n\n      prefixFragment =\n        [\n          \"#version 300 es\\n\",\n          \"#define varying in\",\n          isGLSL3ShaderMaterial ? \"\" : \"out highp vec4 pc_fragColor;\",\n          isGLSL3ShaderMaterial ? \"\" : \"#define gl_FragColor pc_fragColor\",\n          \"#define gl_FragDepthEXT gl_FragDepth\",\n          \"#define texture2D texture\",\n          \"#define textureCube texture\",\n          \"#define texture2DProj textureProj\",\n          \"#define texture2DLodEXT textureLod\",\n          \"#define texture2DProjLodEXT textureProjLod\",\n          \"#define textureCubeLodEXT textureLod\",\n          \"#define texture2DGradEXT textureGrad\",\n          \"#define texture2DProjGradEXT textureProjGrad\",\n          \"#define textureCubeGradEXT textureGrad\",\n        ].join(\"\\n\") +\n        \"\\n\" +\n        prefixFragment;\n\n      // Multiview\n\n      if (numMultiviewViews > 0) {\n        prefixVertex = prefixVertex.replace(\n          \"#version 300 es\\n\",\n          [\n            \"#version 300 es\\n\",\n            \"#extension GL_OVR_multiview2 : require\",\n            \"layout(num_views = \" + numMultiviewViews + \") in;\",\n            \"#define VIEW_ID gl_ViewID_OVR\",\n          ].join(\"\\n\")\n        );\n\n        prefixVertex = prefixVertex.replace(\n          [\n            \"uniform mat4 modelViewMatrix;\",\n            \"uniform mat4 projectionMatrix;\",\n            \"uniform mat4 viewMatrix;\",\n            \"uniform mat3 normalMatrix;\",\n          ].join(\"\\n\"),\n          [\n            \"uniform mat4 modelViewMatrices[\" + numMultiviewViews + \"];\",\n            \"uniform mat4 projectionMatrices[\" + numMultiviewViews + \"];\",\n            \"uniform mat4 viewMatrices[\" + numMultiviewViews + \"];\",\n            \"uniform mat3 normalMatrices[\" + numMultiviewViews + \"];\",\n\n            \"#define modelViewMatrix modelViewMatrices[VIEW_ID]\",\n            \"#define projectionMatrix projectionMatrices[VIEW_ID]\",\n            \"#define viewMatrix viewMatrices[VIEW_ID]\",\n            \"#define normalMatrix normalMatrices[VIEW_ID]\",\n          ].join(\"\\n\")\n        );\n\n        prefixFragment = prefixFragment.replace(\n          \"#version 300 es\\n\",\n          [\n            \"#version 300 es\\n\",\n            \"#extension GL_OVR_multiview2 : require\",\n            \"#define VIEW_ID gl_ViewID_OVR\",\n          ].join(\"\\n\")\n        );\n\n        prefixFragment = prefixFragment.replace(\n          \"uniform mat4 viewMatrix;\",\n          [\n            \"uniform mat4 viewMatrices[\" + numMultiviewViews + \"];\",\n            \"#define viewMatrix viewMatrices[VIEW_ID]\",\n          ].join(\"\\n\")\n        );\n      }\n    }\n\n    var vertexGlsl = prefixVertex + vertexShader;\n    var fragmentGlsl = prefixFragment + fragmentShader;\n\n    // console.log( '*VERTEX*', vertexGlsl );\n    // console.log( '*FRAGMENT*', fragmentGlsl );\n\n    var glVertexShader = WebGLShader(gl, 35633, vertexGlsl);\n    var glFragmentShader = WebGLShader(gl, 35632, fragmentGlsl);\n\n    gl.attachShader(program, glVertexShader);\n    gl.attachShader(program, glFragmentShader);\n\n    // Force a particular attribute to index 0.\n\n    if (material.index0AttributeName !== undefined) {\n      gl.bindAttribLocation(program, 0, material.index0AttributeName);\n    } else if (parameters.morphTargets === true) {\n      // programs with morphTargets displace position out of attribute 0\n      gl.bindAttribLocation(program, 0, \"position\");\n    }\n\n    gl.linkProgram(program);\n\n    // check for link errors\n    if (renderer.debug.checkShaderErrors) {\n      var programLog = gl.getProgramInfoLog(program).trim();\n      var vertexLog = gl.getShaderInfoLog(glVertexShader).trim();\n      var fragmentLog = gl.getShaderInfoLog(glFragmentShader).trim();\n\n      var runnable = true;\n      var haveDiagnostics = true;\n\n      if (gl.getProgramParameter(program, 35714) === false) {\n        runnable = false;\n\n        var vertexErrors = getShaderErrors(gl, glVertexShader, \"vertex\");\n        var fragmentErrors = getShaderErrors(gl, glFragmentShader, \"fragment\");\n\n        console.error(\n          \"THREE.WebGLProgram: shader error: \",\n          gl.getError(),\n          \"35715\",\n          gl.getProgramParameter(program, 35715),\n          \"gl.getProgramInfoLog\",\n          programLog,\n          vertexErrors,\n          fragmentErrors\n        );\n      } else if (programLog !== \"\") {\n        console.warn(\"THREE.WebGLProgram: gl.getProgramInfoLog()\", programLog);\n      } else if (vertexLog === \"\" || fragmentLog === \"\") {\n        haveDiagnostics = false;\n      }\n\n      if (haveDiagnostics) {\n        this.diagnostics = {\n          runnable: runnable,\n          material: material,\n\n          programLog: programLog,\n\n          vertexShader: {\n            log: vertexLog,\n            prefix: prefixVertex,\n          },\n\n          fragmentShader: {\n            log: fragmentLog,\n            prefix: prefixFragment,\n          },\n        };\n      }\n    }\n\n    // clean up\n\n    gl.deleteShader(glVertexShader);\n    gl.deleteShader(glFragmentShader);\n\n    // set up caching for uniform locations\n\n    var cachedUniforms;\n\n    this.getUniforms = function () {\n      if (cachedUniforms === undefined) {\n        cachedUniforms = new WebGLUniforms(gl, program);\n      }\n\n      return cachedUniforms;\n    };\n\n    // set up caching for attribute locations\n\n    var cachedAttributes;\n\n    this.getAttributes = function () {\n      if (cachedAttributes === undefined) {\n        cachedAttributes = fetchAttributeLocations(gl, program);\n      }\n\n      return cachedAttributes;\n    };\n\n    // free resource\n\n    this.destroy = function () {\n      gl.deleteProgram(program);\n      this.program = undefined;\n    };\n\n    //\n\n    this.name = shader.name;\n    this.id = programIdCount++;\n    this.cacheKey = cacheKey;\n    this.usedTimes = 1;\n    this.program = program;\n    this.vertexShader = glVertexShader;\n    this.fragmentShader = glFragmentShader;\n    this.numMultiviewViews = numMultiviewViews;\n\n    return this;\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLPrograms(renderer, extensions, capabilities) {\n    var programs = [];\n\n    var isWebGL2 = capabilities.isWebGL2;\n    var logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n    var floatVertexTextures = capabilities.floatVertexTextures;\n    var precision = capabilities.precision;\n    var maxVertexUniforms = capabilities.maxVertexUniforms;\n    var vertexTextures = capabilities.vertexTextures;\n\n    var shaderIDs = {\n      MeshDepthMaterial: \"depth\",\n      MeshDistanceMaterial: \"distanceRGBA\",\n      MeshNormalMaterial: \"normal\",\n      MeshBasicMaterial: \"basic\",\n      MeshLambertMaterial: \"lambert\",\n      MeshPhongMaterial: \"phong\",\n      MeshToonMaterial: \"toon\",\n      MeshStandardMaterial: \"physical\",\n      MeshPhysicalMaterial: \"physical\",\n      MeshMatcapMaterial: \"matcap\",\n      LineBasicMaterial: \"basic\",\n      LineDashedMaterial: \"dashed\",\n      PointsMaterial: \"points\",\n      ShadowMaterial: \"shadow\",\n      SpriteMaterial: \"sprite\",\n    };\n\n    var parameterNames = [\n      \"precision\",\n      \"isWebGL2\",\n      \"supportsVertexTextures\",\n      \"outputEncoding\",\n      \"instancing\",\n      \"numMultiviewViews\",\n      \"map\",\n      \"mapEncoding\",\n      \"matcap\",\n      \"matcapEncoding\",\n      \"envMap\",\n      \"envMapMode\",\n      \"envMapEncoding\",\n      \"envMapCubeUV\",\n      \"lightMap\",\n      \"lightMapEncoding\",\n      \"aoMap\",\n      \"emissiveMap\",\n      \"emissiveMapEncoding\",\n      \"bumpMap\",\n      \"normalMap\",\n      \"objectSpaceNormalMap\",\n      \"tangentSpaceNormalMap\",\n      \"clearcoatNormalMap\",\n      \"displacementMap\",\n      \"specularMap\",\n      \"roughnessMap\",\n      \"metalnessMap\",\n      \"gradientMap\",\n      \"alphaMap\",\n      \"combine\",\n      \"vertexColors\",\n      \"vertexTangents\",\n      \"vertexUvs\",\n      \"uvsVertexOnly\",\n      \"fog\",\n      \"useFog\",\n      \"fogExp2\",\n      \"flatShading\",\n      \"sizeAttenuation\",\n      \"logarithmicDepthBuffer\",\n      \"skinning\",\n      \"maxBones\",\n      \"useVertexTexture\",\n      \"morphTargets\",\n      \"morphNormals\",\n      \"maxMorphTargets\",\n      \"maxMorphNormals\",\n      \"premultipliedAlpha\",\n      \"numDirLights\",\n      \"numPointLights\",\n      \"numSpotLights\",\n      \"numHemiLights\",\n      \"numRectAreaLights\",\n      \"numDirLightShadows\",\n      \"numPointLightShadows\",\n      \"numSpotLightShadows\",\n      \"shadowMapEnabled\",\n      \"shadowMapType\",\n      \"toneMapping\",\n      \"physicallyCorrectLights\",\n      \"alphaTest\",\n      \"doubleSided\",\n      \"flipSided\",\n      \"numClippingPlanes\",\n      \"numClipIntersection\",\n      \"depthPacking\",\n      \"dithering\",\n      \"sheen\",\n    ];\n\n    function allocateBones(object) {\n      var skeleton = object.skeleton;\n      var bones = skeleton.bones;\n\n      if (floatVertexTextures) {\n        return 1024;\n      } else {\n        // default for when object is not specified\n        // ( for example when prebuilding shader to be used with multiple objects )\n        //\n        //  - leave some extra space for other uniforms\n        //  - limit here is ANGLE's 254 max uniform vectors\n        //    (up to 54 should be safe)\n\n        var nVertexUniforms = maxVertexUniforms;\n        var nVertexMatrices = Math.floor((nVertexUniforms - 20) / 4);\n\n        var maxBones = Math.min(nVertexMatrices, bones.length);\n\n        if (maxBones < bones.length) {\n          console.warn(\n            \"THREE.WebGLRenderer: Skeleton has \" +\n              bones.length +\n              \" bones. This GPU supports \" +\n              maxBones +\n              \".\"\n          );\n          return 0;\n        }\n\n        return maxBones;\n      }\n    }\n\n    function getTextureEncodingFromMap(map) {\n      var encoding;\n\n      if (!map) {\n        encoding = LinearEncoding;\n      } else if (map.isTexture) {\n        encoding = map.encoding;\n      } else if (map.isWebGLRenderTarget) {\n        console.warn(\n          \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\"\n        );\n        encoding = map.texture.encoding;\n      }\n\n      return encoding;\n    }\n\n    this.getParameters = function (\n      material,\n      lights,\n      shadows,\n      scene,\n      nClipPlanes,\n      nClipIntersection,\n      object\n    ) {\n      var fog = scene.fog;\n      var environment = material.isMeshStandardMaterial\n        ? scene.environment\n        : null;\n\n      var envMap = material.envMap || environment;\n\n      var shaderID = shaderIDs[material.type];\n\n      // heuristics to create shader parameters according to lights in the scene\n      // (not to blow over maxLights budget)\n\n      var maxBones = object.isSkinnedMesh ? allocateBones(object) : 0;\n\n      if (material.precision !== null) {\n        precision = capabilities.getMaxPrecision(material.precision);\n\n        if (precision !== material.precision) {\n          console.warn(\n            \"THREE.WebGLProgram.getParameters:\",\n            material.precision,\n            \"not supported, using\",\n            precision,\n            \"instead.\"\n          );\n        }\n      }\n\n      var currentRenderTarget = renderer.getRenderTarget();\n      var numMultiviewViews =\n        currentRenderTarget && currentRenderTarget.isWebGLMultiviewRenderTarget\n          ? currentRenderTarget.numViews\n          : 0;\n\n      var parameters = {\n        isWebGL2: isWebGL2,\n\n        shaderID: shaderID,\n\n        precision: precision,\n\n        instancing: object.isInstancedMesh === true,\n\n        supportsVertexTextures: vertexTextures,\n        numMultiviewViews: numMultiviewViews,\n        outputEncoding:\n          currentRenderTarget !== null\n            ? getTextureEncodingFromMap(currentRenderTarget.texture)\n            : renderer.outputEncoding,\n        map: !!material.map,\n        mapEncoding: getTextureEncodingFromMap(material.map),\n        matcap: !!material.matcap,\n        matcapEncoding: getTextureEncodingFromMap(material.matcap),\n        envMap: !!envMap,\n        envMapMode: envMap && envMap.mapping,\n        envMapEncoding: getTextureEncodingFromMap(envMap),\n        envMapCubeUV:\n          !!envMap &&\n          (envMap.mapping === CubeUVReflectionMapping ||\n            envMap.mapping === CubeUVRefractionMapping),\n        lightMap: !!material.lightMap,\n        lightMapEncoding: getTextureEncodingFromMap(material.lightMap),\n        aoMap: !!material.aoMap,\n        emissiveMap: !!material.emissiveMap,\n        emissiveMapEncoding: getTextureEncodingFromMap(material.emissiveMap),\n        bumpMap: !!material.bumpMap,\n        normalMap: !!material.normalMap,\n        objectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n        tangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n        clearcoatNormalMap: !!material.clearcoatNormalMap,\n        displacementMap: !!material.displacementMap,\n        roughnessMap: !!material.roughnessMap,\n        metalnessMap: !!material.metalnessMap,\n        specularMap: !!material.specularMap,\n        alphaMap: !!material.alphaMap,\n\n        gradientMap: !!material.gradientMap,\n\n        sheen: !!material.sheen,\n\n        combine: material.combine,\n\n        vertexTangents: material.normalMap && material.vertexTangents,\n        vertexColors: material.vertexColors,\n        vertexUvs:\n          !!material.map ||\n          !!material.bumpMap ||\n          !!material.normalMap ||\n          !!material.specularMap ||\n          !!material.alphaMap ||\n          !!material.emissiveMap ||\n          !!material.roughnessMap ||\n          !!material.metalnessMap ||\n          !!material.clearcoatNormalMap ||\n          !!material.displacementMap,\n        uvsVertexOnly:\n          !(\n            !!material.map ||\n            !!material.bumpMap ||\n            !!material.normalMap ||\n            !!material.specularMap ||\n            !!material.alphaMap ||\n            !!material.emissiveMap ||\n            !!material.roughnessMap ||\n            !!material.metalnessMap ||\n            !!material.clearcoatNormalMap\n          ) && !!material.displacementMap,\n\n        fog: !!fog,\n        useFog: material.fog,\n        fogExp2: fog && fog.isFogExp2,\n\n        flatShading: material.flatShading,\n\n        sizeAttenuation: material.sizeAttenuation,\n        logarithmicDepthBuffer: logarithmicDepthBuffer,\n\n        skinning: material.skinning && maxBones > 0,\n        maxBones: maxBones,\n        useVertexTexture: floatVertexTextures,\n\n        morphTargets: material.morphTargets,\n        morphNormals: material.morphNormals,\n        maxMorphTargets: renderer.maxMorphTargets,\n        maxMorphNormals: renderer.maxMorphNormals,\n\n        numDirLights: lights.directional.length,\n        numPointLights: lights.point.length,\n        numSpotLights: lights.spot.length,\n        numRectAreaLights: lights.rectArea.length,\n        numHemiLights: lights.hemi.length,\n\n        numDirLightShadows: lights.directionalShadowMap.length,\n        numPointLightShadows: lights.pointShadowMap.length,\n        numSpotLightShadows: lights.spotShadowMap.length,\n\n        numClippingPlanes: nClipPlanes,\n        numClipIntersection: nClipIntersection,\n\n        dithering: material.dithering,\n\n        shadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n        shadowMapType: renderer.shadowMap.type,\n\n        toneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n        physicallyCorrectLights: renderer.physicallyCorrectLights,\n\n        premultipliedAlpha: material.premultipliedAlpha,\n\n        alphaTest: material.alphaTest,\n        doubleSided: material.side === DoubleSide,\n        flipSided: material.side === BackSide,\n\n        depthPacking:\n          material.depthPacking !== undefined ? material.depthPacking : false,\n      };\n\n      return parameters;\n    };\n\n    this.getProgramCacheKey = function (material, parameters) {\n      var array = [];\n\n      if (parameters.shaderID) {\n        array.push(parameters.shaderID);\n      } else {\n        array.push(material.fragmentShader);\n        array.push(material.vertexShader);\n      }\n\n      if (material.defines !== undefined) {\n        for (var name in material.defines) {\n          array.push(name);\n          array.push(material.defines[name]);\n        }\n      }\n\n      if (material.isRawShaderMaterial === undefined) {\n        for (var i = 0; i < parameterNames.length; i++) {\n          array.push(parameters[parameterNames[i]]);\n        }\n\n        array.push(renderer.outputEncoding);\n        array.push(renderer.gammaFactor);\n      }\n\n      array.push(material.onBeforeCompile.toString());\n\n      return array.join();\n    };\n\n    this.acquireProgram = function (material, shader, parameters, cacheKey) {\n      var program;\n\n      // Check if code has been already compiled\n      for (var p = 0, pl = programs.length; p < pl; p++) {\n        var preexistingProgram = programs[p];\n\n        if (preexistingProgram.cacheKey === cacheKey) {\n          program = preexistingProgram;\n          ++program.usedTimes;\n\n          break;\n        }\n      }\n\n      if (program === undefined) {\n        program = new WebGLProgram(\n          renderer,\n          extensions,\n          cacheKey,\n          material,\n          shader,\n          parameters\n        );\n        programs.push(program);\n      }\n\n      return program;\n    };\n\n    this.releaseProgram = function (program) {\n      if (--program.usedTimes === 0) {\n        // Remove from unordered set\n        var i = programs.indexOf(program);\n        programs[i] = programs[programs.length - 1];\n        programs.pop();\n\n        // Free WebGL resources\n        program.destroy();\n      }\n    };\n\n    // Exposed for resource monitoring & error feedback via renderer.info:\n    this.programs = programs;\n  }\n\n  /**\n   * @author fordacious / fordacious.github.io\n   */\n\n  function WebGLProperties() {\n    var properties = new WeakMap();\n\n    function get(object) {\n      var map = properties.get(object);\n\n      if (map === undefined) {\n        map = {};\n        properties.set(object, map);\n      }\n\n      return map;\n    }\n\n    function remove(object) {\n      properties.delete(object);\n    }\n\n    function update(object, key, value) {\n      properties.get(object)[key] = value;\n    }\n\n    function dispose() {\n      properties = new WeakMap();\n    }\n\n    return {\n      get: get,\n      remove: remove,\n      update: update,\n      dispose: dispose,\n    };\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function painterSortStable(a, b) {\n    if (a.groupOrder !== b.groupOrder) {\n      return a.groupOrder - b.groupOrder;\n    } else if (a.renderOrder !== b.renderOrder) {\n      return a.renderOrder - b.renderOrder;\n    } else if (a.program !== b.program) {\n      return a.program.id - b.program.id;\n    } else if (a.material.id !== b.material.id) {\n      return a.material.id - b.material.id;\n    } else if (a.z !== b.z) {\n      return a.z - b.z;\n    } else {\n      return a.id - b.id;\n    }\n  }\n\n  function reversePainterSortStable(a, b) {\n    if (a.groupOrder !== b.groupOrder) {\n      return a.groupOrder - b.groupOrder;\n    } else if (a.renderOrder !== b.renderOrder) {\n      return a.renderOrder - b.renderOrder;\n    } else if (a.z !== b.z) {\n      return b.z - a.z;\n    } else {\n      return a.id - b.id;\n    }\n  }\n\n  function WebGLRenderList() {\n    var renderItems = [];\n    var renderItemsIndex = 0;\n\n    var opaque = [];\n    var transparent = [];\n\n    var defaultProgram = {\n      id: -1,\n    };\n\n    function init() {\n      renderItemsIndex = 0;\n\n      opaque.length = 0;\n      transparent.length = 0;\n    }\n\n    function getNextRenderItem(\n      object,\n      geometry,\n      material,\n      groupOrder,\n      z,\n      group\n    ) {\n      var renderItem = renderItems[renderItemsIndex];\n\n      if (renderItem === undefined) {\n        renderItem = {\n          id: object.id,\n          object: object,\n          geometry: geometry,\n          material: material,\n          program: material.program || defaultProgram,\n          groupOrder: groupOrder,\n          renderOrder: object.renderOrder,\n          z: z,\n          group: group,\n        };\n\n        renderItems[renderItemsIndex] = renderItem;\n      } else {\n        renderItem.id = object.id;\n        renderItem.object = object;\n        renderItem.geometry = geometry;\n        renderItem.material = material;\n        renderItem.program = material.program || defaultProgram;\n        renderItem.groupOrder = groupOrder;\n        renderItem.renderOrder = object.renderOrder;\n        renderItem.z = z;\n        renderItem.group = group;\n      }\n\n      renderItemsIndex++;\n\n      return renderItem;\n    }\n\n    function push(object, geometry, material, groupOrder, z, group) {\n      var renderItem = getNextRenderItem(\n        object,\n        geometry,\n        material,\n        groupOrder,\n        z,\n        group\n      );\n\n      (material.transparent === true ? transparent : opaque).push(renderItem);\n    }\n\n    function unshift(object, geometry, material, groupOrder, z, group) {\n      var renderItem = getNextRenderItem(\n        object,\n        geometry,\n        material,\n        groupOrder,\n        z,\n        group\n      );\n\n      (material.transparent === true ? transparent : opaque).unshift(\n        renderItem\n      );\n    }\n\n    function sort(customOpaqueSort, customTransparentSort) {\n      if (opaque.length > 1) {\n        opaque.sort(customOpaqueSort || painterSortStable);\n      }\n      if (transparent.length > 1) {\n        transparent.sort(customTransparentSort || reversePainterSortStable);\n      }\n    }\n\n    return {\n      opaque: opaque,\n      transparent: transparent,\n\n      init: init,\n      push: push,\n      unshift: unshift,\n\n      sort: sort,\n    };\n  }\n\n  function WebGLRenderLists() {\n    var lists = new WeakMap();\n\n    function onSceneDispose(event) {\n      var scene = event.target;\n\n      scene.removeEventListener(\"dispose\", onSceneDispose);\n\n      lists.delete(scene);\n    }\n\n    function get(scene, camera) {\n      var cameras = lists.get(scene);\n      var list;\n      if (cameras === undefined) {\n        list = new WebGLRenderList();\n        lists.set(scene, new WeakMap());\n        lists.get(scene).set(camera, list);\n\n        scene.addEventListener(\"dispose\", onSceneDispose);\n      } else {\n        list = cameras.get(camera);\n        if (list === undefined) {\n          list = new WebGLRenderList();\n          cameras.set(camera, list);\n        }\n      }\n\n      return list;\n    }\n\n    function dispose() {\n      lists = new WeakMap();\n    }\n\n    return {\n      get: get,\n      dispose: dispose,\n    };\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function UniformsCache() {\n    var lights = {};\n\n    return {\n      get: function (light) {\n        if (lights[light.id] !== undefined) {\n          return lights[light.id];\n        }\n\n        var uniforms;\n\n        switch (light.type) {\n          case \"DirectionalLight\":\n            uniforms = {\n              direction: new Vector3(),\n              color: new Color(),\n\n              shadow: false,\n              shadowBias: 0,\n              shadowRadius: 1,\n              shadowMapSize: new Vector2(),\n            };\n            break;\n\n          case \"SpotLight\":\n            uniforms = {\n              position: new Vector3(),\n              direction: new Vector3(),\n              color: new Color(),\n              distance: 0,\n              coneCos: 0,\n              penumbraCos: 0,\n              decay: 0,\n\n              shadow: false,\n              shadowBias: 0,\n              shadowRadius: 1,\n              shadowMapSize: new Vector2(),\n            };\n            break;\n\n          case \"PointLight\":\n            uniforms = {\n              position: new Vector3(),\n              color: new Color(),\n              distance: 0,\n              decay: 0,\n\n              shadow: false,\n              shadowBias: 0,\n              shadowRadius: 1,\n              shadowMapSize: new Vector2(),\n              shadowCameraNear: 1,\n              shadowCameraFar: 1000,\n            };\n            break;\n\n          case \"HemisphereLight\":\n            uniforms = {\n              direction: new Vector3(),\n              skyColor: new Color(),\n              groundColor: new Color(),\n            };\n            break;\n\n          case \"RectAreaLight\":\n            uniforms = {\n              color: new Color(),\n              position: new Vector3(),\n              halfWidth: new Vector3(),\n              halfHeight: new Vector3(),\n              // TODO (abelnation): set RectAreaLight shadow uniforms\n            };\n            break;\n        }\n\n        lights[light.id] = uniforms;\n\n        return uniforms;\n      },\n    };\n  }\n\n  var nextVersion = 0;\n\n  function shadowCastingLightsFirst(lightA, lightB) {\n    return (lightB.castShadow ? 1 : 0) - (lightA.castShadow ? 1 : 0);\n  }\n\n  function WebGLLights() {\n    var cache = new UniformsCache();\n\n    var state = {\n      version: 0,\n\n      hash: {\n        directionalLength: -1,\n        pointLength: -1,\n        spotLength: -1,\n        rectAreaLength: -1,\n        hemiLength: -1,\n\n        numDirectionalShadows: -1,\n        numPointShadows: -1,\n        numSpotShadows: -1,\n      },\n\n      ambient: [0, 0, 0],\n      probe: [],\n      directional: [],\n      directionalShadowMap: [],\n      directionalShadowMatrix: [],\n      spot: [],\n      spotShadowMap: [],\n      spotShadowMatrix: [],\n      rectArea: [],\n      point: [],\n      pointShadowMap: [],\n      pointShadowMatrix: [],\n      hemi: [],\n\n      numDirectionalShadows: -1,\n      numPointShadows: -1,\n      numSpotShadows: -1,\n    };\n\n    for (var i = 0; i < 9; i++) {\n      state.probe.push(new Vector3());\n    }\n\n    var vector3 = new Vector3();\n    var matrix4 = new Matrix4();\n    var matrix42 = new Matrix4();\n\n    function setup(lights, shadows, camera) {\n      var r = 0,\n        g = 0,\n        b = 0;\n\n      for (var i = 0; i < 9; i++) {\n        state.probe[i].set(0, 0, 0);\n      }\n\n      var directionalLength = 0;\n      var pointLength = 0;\n      var spotLength = 0;\n      var rectAreaLength = 0;\n      var hemiLength = 0;\n\n      var numDirectionalShadows = 0;\n      var numPointShadows = 0;\n      var numSpotShadows = 0;\n\n      var viewMatrix = camera.matrixWorldInverse;\n\n      lights.sort(shadowCastingLightsFirst);\n\n      for (var i = 0, l = lights.length; i < l; i++) {\n        var light = lights[i];\n\n        var color = light.color;\n        var intensity = light.intensity;\n        var distance = light.distance;\n\n        var shadowMap =\n          light.shadow && light.shadow.map ? light.shadow.map.texture : null;\n\n        if (light.isAmbientLight) {\n          r += color.r * intensity;\n          g += color.g * intensity;\n          b += color.b * intensity;\n        } else if (light.isLightProbe) {\n          for (var j = 0; j < 9; j++) {\n            state.probe[j].addScaledVector(light.sh.coefficients[j], intensity);\n          }\n        } else if (light.isDirectionalLight) {\n          var uniforms = cache.get(light);\n\n          uniforms.color.copy(light.color).multiplyScalar(light.intensity);\n          uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n          vector3.setFromMatrixPosition(light.target.matrixWorld);\n          uniforms.direction.sub(vector3);\n          uniforms.direction.transformDirection(viewMatrix);\n\n          uniforms.shadow = light.castShadow;\n\n          if (light.castShadow) {\n            var shadow = light.shadow;\n\n            uniforms.shadowBias = shadow.bias;\n            uniforms.shadowRadius = shadow.radius;\n            uniforms.shadowMapSize = shadow.mapSize;\n\n            state.directionalShadowMap[directionalLength] = shadowMap;\n            state.directionalShadowMatrix[directionalLength] =\n              light.shadow.matrix;\n\n            numDirectionalShadows++;\n          }\n\n          state.directional[directionalLength] = uniforms;\n\n          directionalLength++;\n        } else if (light.isSpotLight) {\n          var uniforms = cache.get(light);\n\n          uniforms.position.setFromMatrixPosition(light.matrixWorld);\n          uniforms.position.applyMatrix4(viewMatrix);\n\n          uniforms.color.copy(color).multiplyScalar(intensity);\n          uniforms.distance = distance;\n\n          uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n          vector3.setFromMatrixPosition(light.target.matrixWorld);\n          uniforms.direction.sub(vector3);\n          uniforms.direction.transformDirection(viewMatrix);\n\n          uniforms.coneCos = Math.cos(light.angle);\n          uniforms.penumbraCos = Math.cos(light.angle * (1 - light.penumbra));\n          uniforms.decay = light.decay;\n\n          uniforms.shadow = light.castShadow;\n\n          if (light.castShadow) {\n            var shadow = light.shadow;\n\n            uniforms.shadowBias = shadow.bias;\n            uniforms.shadowRadius = shadow.radius;\n            uniforms.shadowMapSize = shadow.mapSize;\n\n            state.spotShadowMap[spotLength] = shadowMap;\n            state.spotShadowMatrix[spotLength] = light.shadow.matrix;\n\n            numSpotShadows++;\n          }\n\n          state.spot[spotLength] = uniforms;\n\n          spotLength++;\n        } else if (light.isRectAreaLight) {\n          var uniforms = cache.get(light);\n\n          // (a) intensity is the total visible light emitted\n          //uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n          // (b) intensity is the brightness of the light\n          uniforms.color.copy(color).multiplyScalar(intensity);\n\n          uniforms.position.setFromMatrixPosition(light.matrixWorld);\n          uniforms.position.applyMatrix4(viewMatrix);\n\n          // extract local rotation of light to derive width/height half vectors\n          matrix42.identity();\n          matrix4.copy(light.matrixWorld);\n          matrix4.premultiply(viewMatrix);\n          matrix42.extractRotation(matrix4);\n\n          uniforms.halfWidth.set(light.width * 0.5, 0.0, 0.0);\n          uniforms.halfHeight.set(0.0, light.height * 0.5, 0.0);\n\n          uniforms.halfWidth.applyMatrix4(matrix42);\n          uniforms.halfHeight.applyMatrix4(matrix42);\n\n          // TODO (abelnation): RectAreaLight distance?\n          // uniforms.distance = distance;\n\n          state.rectArea[rectAreaLength] = uniforms;\n\n          rectAreaLength++;\n        } else if (light.isPointLight) {\n          var uniforms = cache.get(light);\n\n          uniforms.position.setFromMatrixPosition(light.matrixWorld);\n          uniforms.position.applyMatrix4(viewMatrix);\n\n          uniforms.color.copy(light.color).multiplyScalar(light.intensity);\n          uniforms.distance = light.distance;\n          uniforms.decay = light.decay;\n\n          uniforms.shadow = light.castShadow;\n\n          if (light.castShadow) {\n            var shadow = light.shadow;\n\n            uniforms.shadowBias = shadow.bias;\n            uniforms.shadowRadius = shadow.radius;\n            uniforms.shadowMapSize = shadow.mapSize;\n            uniforms.shadowCameraNear = shadow.camera.near;\n            uniforms.shadowCameraFar = shadow.camera.far;\n\n            state.pointShadowMap[pointLength] = shadowMap;\n            state.pointShadowMatrix[pointLength] = light.shadow.matrix;\n\n            numPointShadows++;\n          }\n\n          state.point[pointLength] = uniforms;\n\n          pointLength++;\n        } else if (light.isHemisphereLight) {\n          var uniforms = cache.get(light);\n\n          uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n          uniforms.direction.transformDirection(viewMatrix);\n          uniforms.direction.normalize();\n\n          uniforms.skyColor.copy(light.color).multiplyScalar(intensity);\n          uniforms.groundColor\n            .copy(light.groundColor)\n            .multiplyScalar(intensity);\n\n          state.hemi[hemiLength] = uniforms;\n\n          hemiLength++;\n        }\n      }\n\n      state.ambient[0] = r;\n      state.ambient[1] = g;\n      state.ambient[2] = b;\n\n      var hash = state.hash;\n\n      if (\n        hash.directionalLength !== directionalLength ||\n        hash.pointLength !== pointLength ||\n        hash.spotLength !== spotLength ||\n        hash.rectAreaLength !== rectAreaLength ||\n        hash.hemiLength !== hemiLength ||\n        hash.numDirectionalShadows !== numDirectionalShadows ||\n        hash.numPointShadows !== numPointShadows ||\n        hash.numSpotShadows !== numSpotShadows\n      ) {\n        state.directional.length = directionalLength;\n        state.spot.length = spotLength;\n        state.rectArea.length = rectAreaLength;\n        state.point.length = pointLength;\n        state.hemi.length = hemiLength;\n\n        state.directionalShadowMap.length = numDirectionalShadows;\n        state.pointShadowMap.length = numPointShadows;\n        state.spotShadowMap.length = numSpotShadows;\n        state.directionalShadowMatrix.length = numDirectionalShadows;\n        state.pointShadowMatrix.length = numPointShadows;\n        state.spotShadowMatrix.length = numSpotShadows;\n\n        hash.directionalLength = directionalLength;\n        hash.pointLength = pointLength;\n        hash.spotLength = spotLength;\n        hash.rectAreaLength = rectAreaLength;\n        hash.hemiLength = hemiLength;\n\n        hash.numDirectionalShadows = numDirectionalShadows;\n        hash.numPointShadows = numPointShadows;\n        hash.numSpotShadows = numSpotShadows;\n\n        state.version = nextVersion++;\n      }\n    }\n\n    return {\n      setup: setup,\n      state: state,\n    };\n  }\n\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  function WebGLRenderState() {\n    var lights = new WebGLLights();\n\n    var lightsArray = [];\n    var shadowsArray = [];\n\n    function init() {\n      lightsArray.length = 0;\n      shadowsArray.length = 0;\n    }\n\n    function pushLight(light) {\n      lightsArray.push(light);\n    }\n\n    function pushShadow(shadowLight) {\n      shadowsArray.push(shadowLight);\n    }\n\n    function setupLights(camera) {\n      lights.setup(lightsArray, shadowsArray, camera);\n    }\n\n    var state = {\n      lightsArray: lightsArray,\n      shadowsArray: shadowsArray,\n\n      lights: lights,\n    };\n\n    return {\n      init: init,\n      state: state,\n      setupLights: setupLights,\n\n      pushLight: pushLight,\n      pushShadow: pushShadow,\n    };\n  }\n\n  function WebGLRenderStates() {\n    var renderStates = new WeakMap();\n\n    function onSceneDispose(event) {\n      var scene = event.target;\n\n      scene.removeEventListener(\"dispose\", onSceneDispose);\n\n      renderStates.delete(scene);\n    }\n\n    function get(scene, camera) {\n      var renderState;\n\n      if (renderStates.has(scene) === false) {\n        renderState = new WebGLRenderState();\n        renderStates.set(scene, new WeakMap());\n        renderStates.get(scene).set(camera, renderState);\n\n        scene.addEventListener(\"dispose\", onSceneDispose);\n      } else {\n        if (renderStates.get(scene).has(camera) === false) {\n          renderState = new WebGLRenderState();\n          renderStates.get(scene).set(camera, renderState);\n        } else {\n          renderState = renderStates.get(scene).get(camera);\n        }\n      }\n\n      return renderState;\n    }\n\n    function dispose() {\n      renderStates = new WeakMap();\n    }\n\n    return {\n      get: get,\n      dispose: dispose,\n    };\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author bhouston / https://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *\n   *  opacity: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>\n   * }\n   */\n\n  function MeshDepthMaterial(parameters) {\n    Material.call(this);\n\n    this.type = \"MeshDepthMaterial\";\n\n    this.depthPacking = BasicDepthPacking;\n\n    this.skinning = false;\n    this.morphTargets = false;\n\n    this.map = null;\n\n    this.alphaMap = null;\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n\n    this.fog = false;\n\n    this.setValues(parameters);\n  }\n\n  MeshDepthMaterial.prototype = Object.create(Material.prototype);\n  MeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\n  MeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\n  MeshDepthMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.depthPacking = source.depthPacking;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n\n    this.map = source.map;\n\n    this.alphaMap = source.alphaMap;\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n\n    return this;\n  };\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *\n   *  referencePosition: <float>,\n   *  nearDistance: <float>,\n   *  farDistance: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>\n   *\n   * }\n   */\n\n  function MeshDistanceMaterial(parameters) {\n    Material.call(this);\n\n    this.type = \"MeshDistanceMaterial\";\n\n    this.referencePosition = new Vector3();\n    this.nearDistance = 1;\n    this.farDistance = 1000;\n\n    this.skinning = false;\n    this.morphTargets = false;\n\n    this.map = null;\n\n    this.alphaMap = null;\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.fog = false;\n\n    this.setValues(parameters);\n  }\n\n  MeshDistanceMaterial.prototype = Object.create(Material.prototype);\n  MeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\n  MeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\n  MeshDistanceMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.referencePosition.copy(source.referencePosition);\n    this.nearDistance = source.nearDistance;\n    this.farDistance = source.farDistance;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n\n    this.map = source.map;\n\n    this.alphaMap = source.alphaMap;\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    return this;\n  };\n\n  var vsm_frag =\n    \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n  float mean = 0.0;\\n  float squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n    #ifdef HORIZONAL_PASS\\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n      mean += distribution.x;\\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n    #else\\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\\n      mean += depth;\\n      squared_mean += depth * depth;\\n    #endif\\n  }\\n  mean = mean * HALF_SAMPLE_RATE;\\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\\n  float std_dev = sqrt( squared_mean - mean * mean );\\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\n  var vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLShadowMap(_renderer, _objects, maxTextureSize) {\n    var _frustum = new Frustum(),\n      _shadowMapSize = new Vector2(),\n      _viewportSize = new Vector2(),\n      _viewport = new Vector4(),\n      _depthMaterials = [],\n      _distanceMaterials = [],\n      _materialCache = {};\n\n    var shadowSide = {\n      0: BackSide,\n      1: FrontSide,\n      2: DoubleSide,\n    };\n\n    var shadowMaterialVertical = new ShaderMaterial({\n      defines: {\n        SAMPLE_RATE: 2.0 / 8.0,\n        HALF_SAMPLE_RATE: 1.0 / 8.0,\n      },\n\n      uniforms: {\n        shadow_pass: {\n          value: null,\n        },\n        resolution: {\n          value: new Vector2(),\n        },\n        radius: {\n          value: 4.0,\n        },\n      },\n\n      vertexShader: vsm_vert,\n\n      fragmentShader: vsm_frag,\n    });\n\n    var shadowMaterialHorizonal = shadowMaterialVertical.clone();\n    shadowMaterialHorizonal.defines.HORIZONAL_PASS = 1;\n\n    var fullScreenTri = new BufferGeometry();\n    fullScreenTri.setAttribute(\n      \"position\",\n      new BufferAttribute(\n        new Float32Array([-1, -1, 0.5, 3, -1, 0.5, -1, 3, 0.5]),\n        3\n      )\n    );\n\n    var fullScreenMesh = new Mesh(fullScreenTri, shadowMaterialVertical);\n\n    var scope = this;\n\n    this.enabled = false;\n\n    this.autoUpdate = true;\n    this.needsUpdate = false;\n\n    this.type = PCFShadowMap;\n\n    this.render = function (lights, scene, camera) {\n      if (scope.enabled === false) {\n        return;\n      }\n      if (scope.autoUpdate === false && scope.needsUpdate === false) {\n        return;\n      }\n\n      if (lights.length === 0) {\n        return;\n      }\n\n      var currentRenderTarget = _renderer.getRenderTarget();\n      var activeCubeFace = _renderer.getActiveCubeFace();\n      var activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n      var _state = _renderer.state;\n\n      // Set GL state for depth map.\n      _state.setBlending(NoBlending);\n      _state.buffers.color.setClear(1, 1, 1, 1);\n      _state.buffers.depth.setTest(true);\n      _state.setScissorTest(false);\n\n      // render depth map\n\n      for (var i = 0, il = lights.length; i < il; i++) {\n        var light = lights[i];\n        var shadow = light.shadow;\n\n        if (shadow === undefined) {\n          console.warn(\"THREE.WebGLShadowMap:\", light, \"has no shadow.\");\n          continue;\n        }\n\n        _shadowMapSize.copy(shadow.mapSize);\n\n        var shadowFrameExtents = shadow.getFrameExtents();\n\n        _shadowMapSize.multiply(shadowFrameExtents);\n\n        _viewportSize.copy(shadow.mapSize);\n\n        if (\n          _shadowMapSize.x > maxTextureSize ||\n          _shadowMapSize.y > maxTextureSize\n        ) {\n          console.warn(\n            \"THREE.WebGLShadowMap:\",\n            light,\n            \"has shadow exceeding max texture size, reducing\"\n          );\n\n          if (_shadowMapSize.x > maxTextureSize) {\n            _viewportSize.x = Math.floor(maxTextureSize / shadowFrameExtents.x);\n            _shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n            shadow.mapSize.x = _viewportSize.x;\n          }\n\n          if (_shadowMapSize.y > maxTextureSize) {\n            _viewportSize.y = Math.floor(maxTextureSize / shadowFrameExtents.y);\n            _shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n            shadow.mapSize.y = _viewportSize.y;\n          }\n        }\n\n        if (\n          shadow.map === null &&\n          !shadow.isPointLightShadow &&\n          this.type === VSMShadowMap\n        ) {\n          var pars = {\n            minFilter: LinearFilter,\n            magFilter: LinearFilter,\n            format: RGBAFormat,\n          };\n\n          shadow.map = new WebGLRenderTarget(\n            _shadowMapSize.x,\n            _shadowMapSize.y,\n            pars\n          );\n          shadow.map.texture.name = light.name + \".shadowMap\";\n\n          shadow.mapPass = new WebGLRenderTarget(\n            _shadowMapSize.x,\n            _shadowMapSize.y,\n            pars\n          );\n\n          shadow.camera.updateProjectionMatrix();\n        }\n\n        if (shadow.map === null) {\n          var pars = {\n            minFilter: NearestFilter,\n            magFilter: NearestFilter,\n            format: RGBAFormat,\n          };\n\n          shadow.map = new WebGLRenderTarget(\n            _shadowMapSize.x,\n            _shadowMapSize.y,\n            pars\n          );\n          shadow.map.texture.name = light.name + \".shadowMap\";\n\n          shadow.camera.updateProjectionMatrix();\n        }\n\n        _renderer.setRenderTarget(shadow.map);\n        _renderer.clear();\n\n        var viewportCount = shadow.getViewportCount();\n\n        for (var vp = 0; vp < viewportCount; vp++) {\n          var viewport = shadow.getViewport(vp);\n\n          _viewport.set(\n            _viewportSize.x * viewport.x,\n            _viewportSize.y * viewport.y,\n            _viewportSize.x * viewport.z,\n            _viewportSize.y * viewport.w\n          );\n\n          _state.viewport(_viewport);\n\n          shadow.updateMatrices(light, vp);\n\n          _frustum = shadow.getFrustum();\n\n          renderObject(scene, camera, shadow.camera, light, this.type);\n        }\n\n        // do blur pass for VSM\n\n        if (!shadow.isPointLightShadow && this.type === VSMShadowMap) {\n          VSMPass(shadow, camera);\n        }\n      }\n\n      scope.needsUpdate = false;\n\n      _renderer.setRenderTarget(\n        currentRenderTarget,\n        activeCubeFace,\n        activeMipmapLevel\n      );\n    };\n\n    function VSMPass(shadow, camera) {\n      var geometry = _objects.update(fullScreenMesh);\n\n      // vertical pass\n\n      shadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n      shadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n      shadowMaterialVertical.uniforms.radius.value = shadow.radius;\n      _renderer.setRenderTarget(shadow.mapPass);\n      _renderer.clear();\n      _renderer.renderBufferDirect(\n        camera,\n        null,\n        geometry,\n        shadowMaterialVertical,\n        fullScreenMesh,\n        null\n      );\n\n      // horizonal pass\n\n      shadowMaterialHorizonal.uniforms.shadow_pass.value =\n        shadow.mapPass.texture;\n      shadowMaterialHorizonal.uniforms.resolution.value = shadow.mapSize;\n      shadowMaterialHorizonal.uniforms.radius.value = shadow.radius;\n      _renderer.setRenderTarget(shadow.map);\n      _renderer.clear();\n      _renderer.renderBufferDirect(\n        camera,\n        null,\n        geometry,\n        shadowMaterialHorizonal,\n        fullScreenMesh,\n        null\n      );\n    }\n\n    function getDepthMaterialVariant(useMorphing, useSkinning, useInstancing) {\n      var index =\n        (useMorphing << 0) | (useSkinning << 1) | (useInstancing << 2);\n\n      var material = _depthMaterials[index];\n\n      if (material === undefined) {\n        material = new MeshDepthMaterial({\n          depthPacking: RGBADepthPacking,\n\n          morphTargets: useMorphing,\n          skinning: useSkinning,\n        });\n\n        _depthMaterials[index] = material;\n      }\n\n      return material;\n    }\n\n    function getDistanceMaterialVariant(\n      useMorphing,\n      useSkinning,\n      useInstancing\n    ) {\n      var index =\n        (useMorphing << 0) | (useSkinning << 1) | (useInstancing << 2);\n\n      var material = _distanceMaterials[index];\n\n      if (material === undefined) {\n        material = new MeshDistanceMaterial({\n          morphTargets: useMorphing,\n          skinning: useSkinning,\n        });\n\n        _distanceMaterials[index] = material;\n      }\n\n      return material;\n    }\n\n    function getDepthMaterial(\n      object,\n      material,\n      light,\n      shadowCameraNear,\n      shadowCameraFar,\n      type\n    ) {\n      var geometry = object.geometry;\n\n      var result = null;\n\n      var getMaterialVariant = getDepthMaterialVariant;\n      var customMaterial = object.customDepthMaterial;\n\n      if (light.isPointLight === true) {\n        getMaterialVariant = getDistanceMaterialVariant;\n        customMaterial = object.customDistanceMaterial;\n      }\n\n      if (customMaterial === undefined) {\n        var useMorphing = false;\n\n        if (material.morphTargets === true) {\n          if (geometry.isBufferGeometry === true) {\n            useMorphing =\n              geometry.morphAttributes &&\n              geometry.morphAttributes.position &&\n              geometry.morphAttributes.position.length > 0;\n          } else if (geometry.isGeometry === true) {\n            useMorphing =\n              geometry.morphTargets && geometry.morphTargets.length > 0;\n          }\n        }\n\n        var useSkinning = false;\n\n        if (object.isSkinnedMesh === true) {\n          if (material.skinning === true) {\n            useSkinning = true;\n          } else {\n            console.warn(\n              \"THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:\",\n              object\n            );\n          }\n        }\n\n        var useInstancing = object.isInstancedMesh === true;\n\n        result = getMaterialVariant(useMorphing, useSkinning, useInstancing);\n      } else {\n        result = customMaterial;\n      }\n\n      if (\n        _renderer.localClippingEnabled &&\n        material.clipShadows === true &&\n        material.clippingPlanes.length !== 0\n      ) {\n        // in this case we need a unique material instance reflecting the\n        // appropriate state\n\n        var keyA = result.uuid,\n          keyB = material.uuid;\n\n        var materialsForVariant = _materialCache[keyA];\n\n        if (materialsForVariant === undefined) {\n          materialsForVariant = {};\n          _materialCache[keyA] = materialsForVariant;\n        }\n\n        var cachedMaterial = materialsForVariant[keyB];\n\n        if (cachedMaterial === undefined) {\n          cachedMaterial = result.clone();\n          materialsForVariant[keyB] = cachedMaterial;\n        }\n\n        result = cachedMaterial;\n      }\n\n      result.visible = material.visible;\n      result.wireframe = material.wireframe;\n\n      if (type === VSMShadowMap) {\n        result.side =\n          material.shadowSide !== null ? material.shadowSide : material.side;\n      } else {\n        result.side =\n          material.shadowSide !== null\n            ? material.shadowSide\n            : shadowSide[material.side];\n      }\n\n      result.clipShadows = material.clipShadows;\n      result.clippingPlanes = material.clippingPlanes;\n      result.clipIntersection = material.clipIntersection;\n\n      result.wireframeLinewidth = material.wireframeLinewidth;\n      result.linewidth = material.linewidth;\n\n      if (\n        light.isPointLight === true &&\n        result.isMeshDistanceMaterial === true\n      ) {\n        result.referencePosition.setFromMatrixPosition(light.matrixWorld);\n        result.nearDistance = shadowCameraNear;\n        result.farDistance = shadowCameraFar;\n      }\n\n      return result;\n    }\n\n    function renderObject(object, camera, shadowCamera, light, type) {\n      if (object.visible === false) {\n        return;\n      }\n\n      var visible = object.layers.test(camera.layers);\n\n      if (visible && (object.isMesh || object.isLine || object.isPoints)) {\n        if (\n          (object.castShadow ||\n            (object.receiveShadow && type === VSMShadowMap)) &&\n          (!object.frustumCulled || _frustum.intersectsObject(object))\n        ) {\n          object.modelViewMatrix.multiplyMatrices(\n            shadowCamera.matrixWorldInverse,\n            object.matrixWorld\n          );\n\n          var geometry = _objects.update(object);\n          var material = object.material;\n\n          if (Array.isArray(material)) {\n            var groups = geometry.groups;\n\n            for (var k = 0, kl = groups.length; k < kl; k++) {\n              var group = groups[k];\n              var groupMaterial = material[group.materialIndex];\n\n              if (groupMaterial && groupMaterial.visible) {\n                var depthMaterial = getDepthMaterial(\n                  object,\n                  groupMaterial,\n                  light,\n                  shadowCamera.near,\n                  shadowCamera.far,\n                  type\n                );\n\n                _renderer.renderBufferDirect(\n                  shadowCamera,\n                  null,\n                  geometry,\n                  depthMaterial,\n                  object,\n                  group\n                );\n              }\n            }\n          } else if (material.visible) {\n            var depthMaterial = getDepthMaterial(\n              object,\n              material,\n              light,\n              shadowCamera.near,\n              shadowCamera.far,\n              type\n            );\n\n            _renderer.renderBufferDirect(\n              shadowCamera,\n              null,\n              geometry,\n              depthMaterial,\n              object,\n              null\n            );\n          }\n        }\n      }\n\n      var children = object.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        renderObject(children[i], camera, shadowCamera, light, type);\n      }\n    }\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLState(gl, extensions, capabilities) {\n    var isWebGL2 = capabilities.isWebGL2;\n\n    function ColorBuffer() {\n      var locked = false;\n\n      var color = new Vector4();\n      var currentColorMask = null;\n      var currentColorClear = new Vector4(0, 0, 0, 0);\n\n      return {\n        setMask: function (colorMask) {\n          if (currentColorMask !== colorMask && !locked) {\n            gl.colorMask(colorMask, colorMask, colorMask, colorMask);\n            currentColorMask = colorMask;\n          }\n        },\n\n        setLocked: function (lock) {\n          locked = lock;\n        },\n\n        setClear: function (r, g, b, a, premultipliedAlpha) {\n          if (premultipliedAlpha === true) {\n            r *= a;\n            g *= a;\n            b *= a;\n          }\n\n          color.set(r, g, b, a);\n\n          if (currentColorClear.equals(color) === false) {\n            gl.clearColor(r, g, b, a);\n            currentColorClear.copy(color);\n          }\n        },\n\n        reset: function () {\n          locked = false;\n\n          currentColorMask = null;\n          currentColorClear.set(-1, 0, 0, 0); // set to invalid state\n        },\n      };\n    }\n\n    function DepthBuffer() {\n      var locked = false;\n\n      var currentDepthMask = null;\n      var currentDepthFunc = null;\n      var currentDepthClear = null;\n\n      return {\n        setTest: function (depthTest) {\n          if (depthTest) {\n            enable(2929);\n          } else {\n            disable(2929);\n          }\n        },\n\n        setMask: function (depthMask) {\n          if (currentDepthMask !== depthMask && !locked) {\n            gl.depthMask(depthMask);\n            currentDepthMask = depthMask;\n          }\n        },\n\n        setFunc: function (depthFunc) {\n          if (currentDepthFunc !== depthFunc) {\n            if (depthFunc) {\n              switch (depthFunc) {\n                case NeverDepth:\n                  gl.depthFunc(512);\n                  break;\n\n                case AlwaysDepth:\n                  gl.depthFunc(519);\n                  break;\n\n                case LessDepth:\n                  gl.depthFunc(513);\n                  break;\n\n                case LessEqualDepth:\n                  gl.depthFunc(515);\n                  break;\n\n                case EqualDepth:\n                  gl.depthFunc(514);\n                  break;\n\n                case GreaterEqualDepth:\n                  gl.depthFunc(518);\n                  break;\n\n                case GreaterDepth:\n                  gl.depthFunc(516);\n                  break;\n\n                case NotEqualDepth:\n                  gl.depthFunc(517);\n                  break;\n\n                default:\n                  gl.depthFunc(515);\n              }\n            } else {\n              gl.depthFunc(515);\n            }\n\n            currentDepthFunc = depthFunc;\n          }\n        },\n\n        setLocked: function (lock) {\n          locked = lock;\n        },\n\n        setClear: function (depth) {\n          if (currentDepthClear !== depth) {\n            gl.clearDepth(depth);\n            currentDepthClear = depth;\n          }\n        },\n\n        reset: function () {\n          locked = false;\n\n          currentDepthMask = null;\n          currentDepthFunc = null;\n          currentDepthClear = null;\n        },\n      };\n    }\n\n    function StencilBuffer() {\n      var locked = false;\n\n      var currentStencilMask = null;\n      var currentStencilFunc = null;\n      var currentStencilRef = null;\n      var currentStencilFuncMask = null;\n      var currentStencilFail = null;\n      var currentStencilZFail = null;\n      var currentStencilZPass = null;\n      var currentStencilClear = null;\n\n      return {\n        setTest: function (stencilTest) {\n          if (!locked) {\n            if (stencilTest) {\n              enable(2960);\n            } else {\n              disable(2960);\n            }\n          }\n        },\n\n        setMask: function (stencilMask) {\n          if (currentStencilMask !== stencilMask && !locked) {\n            gl.stencilMask(stencilMask);\n            currentStencilMask = stencilMask;\n          }\n        },\n\n        setFunc: function (stencilFunc, stencilRef, stencilMask) {\n          if (\n            currentStencilFunc !== stencilFunc ||\n            currentStencilRef !== stencilRef ||\n            currentStencilFuncMask !== stencilMask\n          ) {\n            gl.stencilFunc(stencilFunc, stencilRef, stencilMask);\n\n            currentStencilFunc = stencilFunc;\n            currentStencilRef = stencilRef;\n            currentStencilFuncMask = stencilMask;\n          }\n        },\n\n        setOp: function (stencilFail, stencilZFail, stencilZPass) {\n          if (\n            currentStencilFail !== stencilFail ||\n            currentStencilZFail !== stencilZFail ||\n            currentStencilZPass !== stencilZPass\n          ) {\n            gl.stencilOp(stencilFail, stencilZFail, stencilZPass);\n\n            currentStencilFail = stencilFail;\n            currentStencilZFail = stencilZFail;\n            currentStencilZPass = stencilZPass;\n          }\n        },\n\n        setLocked: function (lock) {\n          locked = lock;\n        },\n\n        setClear: function (stencil) {\n          if (currentStencilClear !== stencil) {\n            gl.clearStencil(stencil);\n            currentStencilClear = stencil;\n          }\n        },\n\n        reset: function () {\n          locked = false;\n\n          currentStencilMask = null;\n          currentStencilFunc = null;\n          currentStencilRef = null;\n          currentStencilFuncMask = null;\n          currentStencilFail = null;\n          currentStencilZFail = null;\n          currentStencilZPass = null;\n          currentStencilClear = null;\n        },\n      };\n    }\n\n    //\n\n    var colorBuffer = new ColorBuffer();\n    var depthBuffer = new DepthBuffer();\n    var stencilBuffer = new StencilBuffer();\n\n    var maxVertexAttributes = gl.getParameter(34921);\n    var newAttributes = new Uint8Array(maxVertexAttributes);\n    var enabledAttributes = new Uint8Array(maxVertexAttributes);\n    var attributeDivisors = new Uint8Array(maxVertexAttributes);\n\n    var enabledCapabilities = {};\n\n    var currentProgram = null;\n\n    var currentBlendingEnabled = null;\n    var currentBlending = null;\n    var currentBlendEquation = null;\n    var currentBlendSrc = null;\n    var currentBlendDst = null;\n    var currentBlendEquationAlpha = null;\n    var currentBlendSrcAlpha = null;\n    var currentBlendDstAlpha = null;\n    var currentPremultipledAlpha = false;\n\n    var currentFlipSided = null;\n    var currentCullFace = null;\n\n    var currentLineWidth = null;\n\n    var currentPolygonOffsetFactor = null;\n    var currentPolygonOffsetUnits = null;\n\n    var maxTextures = gl.getParameter(35661);\n\n    var lineWidthAvailable = false;\n    var version = 0;\n    var glVersion = gl.getParameter(7938);\n\n    if (glVersion.indexOf(\"WebGL\") !== -1) {\n      version = parseFloat(/^WebGL\\ ([0-9])/.exec(glVersion)[1]);\n      lineWidthAvailable = version >= 1.0;\n    } else if (glVersion.indexOf(\"OpenGL ES\") !== -1) {\n      version = parseFloat(/^OpenGL\\ ES\\ ([0-9])/.exec(glVersion)[1]);\n      lineWidthAvailable = version >= 2.0;\n    }\n\n    var currentTextureSlot = null;\n    var currentBoundTextures = {};\n\n    var currentScissor = new Vector4();\n    var currentViewport = new Vector4();\n\n    function createTexture(type, target, count) {\n      var data = new Uint8Array(4); // 4 is required to match default unpack alignment of 4.\n      var texture = gl.createTexture();\n\n      gl.bindTexture(type, texture);\n      gl.texParameteri(type, 10241, 9728);\n      gl.texParameteri(type, 10240, 9728);\n\n      for (var i = 0; i < count; i++) {\n        gl.texImage2D(target + i, 0, 6408, 1, 1, 0, 6408, 5121, data);\n      }\n\n      return texture;\n    }\n\n    var emptyTextures = {};\n    emptyTextures[3553] = createTexture(3553, 3553, 1);\n    emptyTextures[34067] = createTexture(34067, 34069, 6);\n\n    // init\n\n    colorBuffer.setClear(0, 0, 0, 1);\n    depthBuffer.setClear(1);\n    stencilBuffer.setClear(0);\n\n    enable(2929);\n    depthBuffer.setFunc(LessEqualDepth);\n\n    setFlipSided(false);\n    setCullFace(CullFaceBack);\n    enable(2884);\n\n    setBlending(NoBlending);\n\n    //\n\n    function initAttributes() {\n      for (var i = 0, l = newAttributes.length; i < l; i++) {\n        newAttributes[i] = 0;\n      }\n    }\n\n    function enableAttribute(attribute) {\n      enableAttributeAndDivisor(attribute, 0);\n    }\n\n    function enableAttributeAndDivisor(attribute, meshPerAttribute) {\n      newAttributes[attribute] = 1;\n\n      if (enabledAttributes[attribute] === 0) {\n        gl.enableVertexAttribArray(attribute);\n        enabledAttributes[attribute] = 1;\n      }\n\n      if (attributeDivisors[attribute] !== meshPerAttribute) {\n        var extension = isWebGL2\n          ? gl\n          : extensions.get(\"ANGLE_instanced_arrays\");\n\n        extension[\n          isWebGL2 ? \"vertexAttribDivisor\" : \"vertexAttribDivisorANGLE\"\n        ](attribute, meshPerAttribute);\n        attributeDivisors[attribute] = meshPerAttribute;\n      }\n    }\n\n    function disableUnusedAttributes() {\n      for (var i = 0, l = enabledAttributes.length; i !== l; ++i) {\n        if (enabledAttributes[i] !== newAttributes[i]) {\n          gl.disableVertexAttribArray(i);\n          enabledAttributes[i] = 0;\n        }\n      }\n    }\n\n    function enable(id) {\n      if (enabledCapabilities[id] !== true) {\n        gl.enable(id);\n        enabledCapabilities[id] = true;\n      }\n    }\n\n    function disable(id) {\n      if (enabledCapabilities[id] !== false) {\n        gl.disable(id);\n        enabledCapabilities[id] = false;\n      }\n    }\n\n    function useProgram(program) {\n      if (currentProgram !== program) {\n        gl.useProgram(program);\n\n        currentProgram = program;\n\n        return true;\n      }\n\n      return false;\n    }\n\n    var equationToGL = {};\n    equationToGL[AddEquation] = 32774;\n    equationToGL[SubtractEquation] = 32778;\n    equationToGL[ReverseSubtractEquation] = 32779;\n\n    if (isWebGL2) {\n      equationToGL[MinEquation] = 32775;\n      equationToGL[MaxEquation] = 32776;\n    } else {\n      var extension = extensions.get(\"EXT_blend_minmax\");\n\n      if (extension !== null) {\n        equationToGL[MinEquation] = extension.MIN_EXT;\n        equationToGL[MaxEquation] = extension.MAX_EXT;\n      }\n    }\n\n    var factorToGL = {};\n    factorToGL[ZeroFactor] = 0;\n    factorToGL[OneFactor] = 1;\n    factorToGL[SrcColorFactor] = 768;\n    factorToGL[SrcAlphaFactor] = 770;\n    factorToGL[SrcAlphaSaturateFactor] = 776;\n    factorToGL[DstColorFactor] = 774;\n    factorToGL[DstAlphaFactor] = 772;\n    factorToGL[OneMinusSrcColorFactor] = 769;\n    factorToGL[OneMinusSrcAlphaFactor] = 771;\n    factorToGL[OneMinusDstColorFactor] = 775;\n    factorToGL[OneMinusDstAlphaFactor] = 773;\n\n    function setBlending(\n      blending,\n      blendEquation,\n      blendSrc,\n      blendDst,\n      blendEquationAlpha,\n      blendSrcAlpha,\n      blendDstAlpha,\n      premultipliedAlpha\n    ) {\n      if (blending === NoBlending) {\n        if (currentBlendingEnabled) {\n          disable(3042);\n          currentBlendingEnabled = false;\n        }\n\n        return;\n      }\n\n      if (!currentBlendingEnabled) {\n        enable(3042);\n        currentBlendingEnabled = true;\n      }\n\n      if (blending !== CustomBlending) {\n        if (\n          blending !== currentBlending ||\n          premultipliedAlpha !== currentPremultipledAlpha\n        ) {\n          if (\n            currentBlendEquation !== AddEquation ||\n            currentBlendEquationAlpha !== AddEquation\n          ) {\n            gl.blendEquation(32774);\n\n            currentBlendEquation = AddEquation;\n            currentBlendEquationAlpha = AddEquation;\n          }\n\n          if (premultipliedAlpha) {\n            switch (blending) {\n              case NormalBlending:\n                gl.blendFuncSeparate(1, 771, 1, 771);\n                break;\n\n              case AdditiveBlending:\n                gl.blendFunc(1, 1);\n                break;\n\n              case SubtractiveBlending:\n                gl.blendFuncSeparate(0, 0, 769, 771);\n                break;\n\n              case MultiplyBlending:\n                gl.blendFuncSeparate(0, 768, 0, 770);\n                break;\n\n              default:\n                console.error(\"THREE.WebGLState: Invalid blending: \", blending);\n                break;\n            }\n          } else {\n            switch (blending) {\n              case NormalBlending:\n                gl.blendFuncSeparate(770, 771, 1, 771);\n                break;\n\n              case AdditiveBlending:\n                gl.blendFunc(770, 1);\n                break;\n\n              case SubtractiveBlending:\n                gl.blendFunc(0, 769);\n                break;\n\n              case MultiplyBlending:\n                gl.blendFunc(0, 768);\n                break;\n\n              default:\n                console.error(\"THREE.WebGLState: Invalid blending: \", blending);\n                break;\n            }\n          }\n\n          currentBlendSrc = null;\n          currentBlendDst = null;\n          currentBlendSrcAlpha = null;\n          currentBlendDstAlpha = null;\n\n          currentBlending = blending;\n          currentPremultipledAlpha = premultipliedAlpha;\n        }\n\n        return;\n      }\n\n      // custom blending\n\n      blendEquationAlpha = blendEquationAlpha || blendEquation;\n      blendSrcAlpha = blendSrcAlpha || blendSrc;\n      blendDstAlpha = blendDstAlpha || blendDst;\n\n      if (\n        blendEquation !== currentBlendEquation ||\n        blendEquationAlpha !== currentBlendEquationAlpha\n      ) {\n        gl.blendEquationSeparate(\n          equationToGL[blendEquation],\n          equationToGL[blendEquationAlpha]\n        );\n\n        currentBlendEquation = blendEquation;\n        currentBlendEquationAlpha = blendEquationAlpha;\n      }\n\n      if (\n        blendSrc !== currentBlendSrc ||\n        blendDst !== currentBlendDst ||\n        blendSrcAlpha !== currentBlendSrcAlpha ||\n        blendDstAlpha !== currentBlendDstAlpha\n      ) {\n        gl.blendFuncSeparate(\n          factorToGL[blendSrc],\n          factorToGL[blendDst],\n          factorToGL[blendSrcAlpha],\n          factorToGL[blendDstAlpha]\n        );\n\n        currentBlendSrc = blendSrc;\n        currentBlendDst = blendDst;\n        currentBlendSrcAlpha = blendSrcAlpha;\n        currentBlendDstAlpha = blendDstAlpha;\n      }\n\n      currentBlending = blending;\n      currentPremultipledAlpha = null;\n    }\n\n    function setMaterial(material, frontFaceCW) {\n      material.side === DoubleSide ? disable(2884) : enable(2884);\n\n      var flipSided = material.side === BackSide;\n      if (frontFaceCW) {\n        flipSided = !flipSided;\n      }\n\n      setFlipSided(flipSided);\n\n      material.blending === NormalBlending && material.transparent === false\n        ? setBlending(NoBlending)\n        : setBlending(\n            material.blending,\n            material.blendEquation,\n            material.blendSrc,\n            material.blendDst,\n            material.blendEquationAlpha,\n            material.blendSrcAlpha,\n            material.blendDstAlpha,\n            material.premultipliedAlpha\n          );\n\n      depthBuffer.setFunc(material.depthFunc);\n      depthBuffer.setTest(material.depthTest);\n      depthBuffer.setMask(material.depthWrite);\n      colorBuffer.setMask(material.colorWrite);\n\n      var stencilWrite = material.stencilWrite;\n      stencilBuffer.setTest(stencilWrite);\n      if (stencilWrite) {\n        stencilBuffer.setMask(material.stencilWriteMask);\n        stencilBuffer.setFunc(\n          material.stencilFunc,\n          material.stencilRef,\n          material.stencilFuncMask\n        );\n        stencilBuffer.setOp(\n          material.stencilFail,\n          material.stencilZFail,\n          material.stencilZPass\n        );\n      }\n\n      setPolygonOffset(\n        material.polygonOffset,\n        material.polygonOffsetFactor,\n        material.polygonOffsetUnits\n      );\n    }\n\n    //\n\n    function setFlipSided(flipSided) {\n      if (currentFlipSided !== flipSided) {\n        if (flipSided) {\n          gl.frontFace(2304);\n        } else {\n          gl.frontFace(2305);\n        }\n\n        currentFlipSided = flipSided;\n      }\n    }\n\n    function setCullFace(cullFace) {\n      if (cullFace !== CullFaceNone) {\n        enable(2884);\n\n        if (cullFace !== currentCullFace) {\n          if (cullFace === CullFaceBack) {\n            gl.cullFace(1029);\n          } else if (cullFace === CullFaceFront) {\n            gl.cullFace(1028);\n          } else {\n            gl.cullFace(1032);\n          }\n        }\n      } else {\n        disable(2884);\n      }\n\n      currentCullFace = cullFace;\n    }\n\n    function setLineWidth(width) {\n      if (width !== currentLineWidth) {\n        if (lineWidthAvailable) {\n          gl.lineWidth(width);\n        }\n\n        currentLineWidth = width;\n      }\n    }\n\n    function setPolygonOffset(polygonOffset, factor, units) {\n      if (polygonOffset) {\n        enable(32823);\n\n        if (\n          currentPolygonOffsetFactor !== factor ||\n          currentPolygonOffsetUnits !== units\n        ) {\n          gl.polygonOffset(factor, units);\n\n          currentPolygonOffsetFactor = factor;\n          currentPolygonOffsetUnits = units;\n        }\n      } else {\n        disable(32823);\n      }\n    }\n\n    function setScissorTest(scissorTest) {\n      if (scissorTest) {\n        enable(3089);\n      } else {\n        disable(3089);\n      }\n    }\n\n    // texture\n\n    function activeTexture(webglSlot) {\n      if (webglSlot === undefined) {\n        webglSlot = 33984 + maxTextures - 1;\n      }\n\n      if (currentTextureSlot !== webglSlot) {\n        gl.activeTexture(webglSlot);\n        currentTextureSlot = webglSlot;\n      }\n    }\n\n    function bindTexture(webglType, webglTexture) {\n      if (currentTextureSlot === null) {\n        activeTexture();\n      }\n\n      var boundTexture = currentBoundTextures[currentTextureSlot];\n\n      if (boundTexture === undefined) {\n        boundTexture = {\n          type: undefined,\n          texture: undefined,\n        };\n        currentBoundTextures[currentTextureSlot] = boundTexture;\n      }\n\n      if (\n        boundTexture.type !== webglType ||\n        boundTexture.texture !== webglTexture\n      ) {\n        gl.bindTexture(webglType, webglTexture || emptyTextures[webglType]);\n\n        boundTexture.type = webglType;\n        boundTexture.texture = webglTexture;\n      }\n    }\n\n    function unbindTexture() {\n      var boundTexture = currentBoundTextures[currentTextureSlot];\n\n      if (boundTexture !== undefined && boundTexture.type !== undefined) {\n        gl.bindTexture(boundTexture.type, null);\n\n        boundTexture.type = undefined;\n        boundTexture.texture = undefined;\n      }\n    }\n\n    function compressedTexImage2D() {\n      try {\n        gl.compressedTexImage2D.apply(gl, arguments);\n      } catch (error) {\n        console.error(\"THREE.WebGLState:\", error);\n      }\n    }\n\n    function texImage2D() {\n      try {\n        gl.texImage2D.apply(gl, arguments);\n      } catch (error) {\n        console.error(\"THREE.WebGLState:\", error);\n      }\n    }\n\n    function texImage3D() {\n      try {\n        gl.texImage3D.apply(gl, arguments);\n      } catch (error) {\n        console.error(\"THREE.WebGLState:\", error);\n      }\n    }\n\n    //\n\n    function scissor(scissor) {\n      if (currentScissor.equals(scissor) === false) {\n        gl.scissor(scissor.x, scissor.y, scissor.z, scissor.w);\n        currentScissor.copy(scissor);\n      }\n    }\n\n    function viewport(viewport) {\n      if (currentViewport.equals(viewport) === false) {\n        gl.viewport(viewport.x, viewport.y, viewport.z, viewport.w);\n        currentViewport.copy(viewport);\n      }\n    }\n\n    //\n\n    function reset() {\n      for (var i = 0; i < enabledAttributes.length; i++) {\n        if (enabledAttributes[i] === 1) {\n          gl.disableVertexAttribArray(i);\n          enabledAttributes[i] = 0;\n        }\n      }\n\n      enabledCapabilities = {};\n\n      currentTextureSlot = null;\n      currentBoundTextures = {};\n\n      currentProgram = null;\n\n      currentBlending = null;\n\n      currentFlipSided = null;\n      currentCullFace = null;\n\n      colorBuffer.reset();\n      depthBuffer.reset();\n      stencilBuffer.reset();\n    }\n\n    return {\n      buffers: {\n        color: colorBuffer,\n        depth: depthBuffer,\n        stencil: stencilBuffer,\n      },\n\n      initAttributes: initAttributes,\n      enableAttribute: enableAttribute,\n      enableAttributeAndDivisor: enableAttributeAndDivisor,\n      disableUnusedAttributes: disableUnusedAttributes,\n      enable: enable,\n      disable: disable,\n\n      useProgram: useProgram,\n\n      setBlending: setBlending,\n      setMaterial: setMaterial,\n\n      setFlipSided: setFlipSided,\n      setCullFace: setCullFace,\n\n      setLineWidth: setLineWidth,\n      setPolygonOffset: setPolygonOffset,\n\n      setScissorTest: setScissorTest,\n\n      activeTexture: activeTexture,\n      bindTexture: bindTexture,\n      unbindTexture: unbindTexture,\n      compressedTexImage2D: compressedTexImage2D,\n      texImage2D: texImage2D,\n      texImage3D: texImage3D,\n\n      scissor: scissor,\n      viewport: viewport,\n\n      reset: reset,\n    };\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebGLTextures(\n    _gl,\n    extensions,\n    state,\n    properties,\n    capabilities,\n    utils,\n    info\n  ) {\n    var isWebGL2 = capabilities.isWebGL2;\n    var maxTextures = capabilities.maxTextures;\n    var maxCubemapSize = capabilities.maxCubemapSize;\n    var maxTextureSize = capabilities.maxTextureSize;\n    var maxSamples = capabilities.maxSamples;\n\n    var _videoTextures = new WeakMap();\n    var _canvas;\n\n    // cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n    // also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n    // Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n    var useOffscreenCanvas = false;\n\n    try {\n      useOffscreenCanvas =\n        typeof OffscreenCanvas !== \"undefined\" &&\n        new OffscreenCanvas(1, 1).getContext(\"2d\") !== null;\n    } catch (err) {\n      // Ignore any errors\n    }\n\n    function createCanvas(width, height) {\n      // Use OffscreenCanvas when available. Specially needed in web workers\n\n      return useOffscreenCanvas\n        ? new OffscreenCanvas(width, height)\n        : document.createElementNS(\"http://www.w3.org/1999/xhtml\", \"canvas\");\n    }\n\n    function resizeImage(image, needsPowerOfTwo, needsNewCanvas, maxSize) {\n      var scale = 1;\n\n      // handle case if texture exceeds max size\n\n      if (image.width > maxSize || image.height > maxSize) {\n        scale = maxSize / Math.max(image.width, image.height);\n      }\n\n      // only perform resize if necessary\n\n      if (scale < 1 || needsPowerOfTwo === true) {\n        // only perform resize for certain image types\n\n        if (\n          (typeof HTMLImageElement !== \"undefined\" &&\n            image instanceof HTMLImageElement) ||\n          (typeof HTMLCanvasElement !== \"undefined\" &&\n            image instanceof HTMLCanvasElement) ||\n          (typeof ImageBitmap !== \"undefined\" && image instanceof ImageBitmap)\n        ) {\n          var floor = needsPowerOfTwo ? _Math.floorPowerOfTwo : Math.floor;\n\n          var width = floor(scale * image.width);\n          var height = floor(scale * image.height);\n\n          if (_canvas === undefined) {\n            _canvas = createCanvas(width, height);\n          }\n\n          // cube textures can't reuse the same canvas\n\n          var canvas = needsNewCanvas ? createCanvas(width, height) : _canvas;\n\n          canvas.width = width;\n          canvas.height = height;\n\n          var context = canvas.getContext(\"2d\");\n          context.drawImage(image, 0, 0, width, height);\n\n          console.warn(\n            \"THREE.WebGLRenderer: Texture has been resized from (\" +\n              image.width +\n              \"x\" +\n              image.height +\n              \") to (\" +\n              width +\n              \"x\" +\n              height +\n              \").\"\n          );\n\n          return canvas;\n        } else {\n          if (\"data\" in image) {\n            console.warn(\n              \"THREE.WebGLRenderer: Image in DataTexture is too big (\" +\n                image.width +\n                \"x\" +\n                image.height +\n                \").\"\n            );\n          }\n\n          return image;\n        }\n      }\n\n      return image;\n    }\n\n    function isPowerOfTwo(image) {\n      return (\n        _Math.isPowerOfTwo(image.width) && _Math.isPowerOfTwo(image.height)\n      );\n    }\n\n    function textureNeedsPowerOfTwo(texture) {\n      if (isWebGL2) {\n        return false;\n      }\n\n      return (\n        texture.wrapS !== ClampToEdgeWrapping ||\n        texture.wrapT !== ClampToEdgeWrapping ||\n        (texture.minFilter !== NearestFilter &&\n          texture.minFilter !== LinearFilter)\n      );\n    }\n\n    function textureNeedsGenerateMipmaps(texture, supportsMips) {\n      return (\n        texture.generateMipmaps &&\n        supportsMips &&\n        texture.minFilter !== NearestFilter &&\n        texture.minFilter !== LinearFilter\n      );\n    }\n\n    function generateMipmap(target, texture, width, height) {\n      _gl.generateMipmap(target);\n\n      var textureProperties = properties.get(texture);\n\n      // Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n      textureProperties.__maxMipLevel =\n        Math.log(Math.max(width, height)) * Math.LOG2E;\n    }\n\n    function getInternalFormat(internalFormatName, glFormat, glType) {\n      if (isWebGL2 === false) {\n        return glFormat;\n      }\n\n      if (internalFormatName !== null) {\n        if (_gl[internalFormatName] !== undefined) {\n          return _gl[internalFormatName];\n        }\n\n        console.warn(\n          \"THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '\" +\n            internalFormatName +\n            \"'\"\n        );\n      }\n\n      var internalFormat = glFormat;\n\n      if (glFormat === 6403) {\n        if (glType === 5126) {\n          internalFormat = 33326;\n        }\n        if (glType === 5131) {\n          internalFormat = 33325;\n        }\n        if (glType === 5121) {\n          internalFormat = 33321;\n        }\n      }\n\n      if (glFormat === 6407) {\n        if (glType === 5126) {\n          internalFormat = 34837;\n        }\n        if (glType === 5131) {\n          internalFormat = 34843;\n        }\n        if (glType === 5121) {\n          internalFormat = 32849;\n        }\n      }\n\n      if (glFormat === 6408) {\n        if (glType === 5126) {\n          internalFormat = 34836;\n        }\n        if (glType === 5131) {\n          internalFormat = 34842;\n        }\n        if (glType === 5121) {\n          internalFormat = 32856;\n        }\n      }\n\n      if (\n        internalFormat === 33325 ||\n        internalFormat === 33326 ||\n        internalFormat === 34842 ||\n        internalFormat === 34836\n      ) {\n        extensions.get(\"EXT_color_buffer_float\");\n      } else if (internalFormat === 34843 || internalFormat === 34837) {\n        console.warn(\n          \"THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.\"\n        );\n      }\n\n      return internalFormat;\n    }\n\n    // Fallback filters for non-power-of-2 textures\n\n    function filterFallback(f) {\n      if (\n        f === NearestFilter ||\n        f === NearestMipmapNearestFilter ||\n        f === NearestMipmapLinearFilter\n      ) {\n        return 9728;\n      }\n\n      return 9729;\n    }\n\n    //\n\n    function onTextureDispose(event) {\n      var texture = event.target;\n\n      texture.removeEventListener(\"dispose\", onTextureDispose);\n\n      deallocateTexture(texture);\n\n      if (texture.isVideoTexture) {\n        _videoTextures.delete(texture);\n      }\n\n      info.memory.textures--;\n    }\n\n    function onRenderTargetDispose(event) {\n      var renderTarget = event.target;\n\n      renderTarget.removeEventListener(\"dispose\", onRenderTargetDispose);\n\n      deallocateRenderTarget(renderTarget);\n\n      info.memory.textures--;\n    }\n\n    //\n\n    function deallocateTexture(texture) {\n      var textureProperties = properties.get(texture);\n\n      if (textureProperties.__webglInit === undefined) {\n        return;\n      }\n\n      _gl.deleteTexture(textureProperties.__webglTexture);\n\n      properties.remove(texture);\n    }\n\n    function deallocateRenderTarget(renderTarget) {\n      var renderTargetProperties = properties.get(renderTarget);\n      var textureProperties = properties.get(renderTarget.texture);\n\n      if (!renderTarget) {\n        return;\n      }\n\n      if (textureProperties.__webglTexture !== undefined) {\n        _gl.deleteTexture(textureProperties.__webglTexture);\n      }\n\n      if (renderTarget.depthTexture) {\n        renderTarget.depthTexture.dispose();\n      }\n\n      if (renderTarget.isWebGLRenderTargetCube) {\n        for (var i = 0; i < 6; i++) {\n          _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);\n          if (renderTargetProperties.__webglDepthbuffer) {\n            _gl.deleteRenderbuffer(\n              renderTargetProperties.__webglDepthbuffer[i]\n            );\n          }\n        }\n      } else {\n        _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);\n        if (renderTargetProperties.__webglDepthbuffer) {\n          _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer);\n        }\n      }\n\n      if (renderTarget.isWebGLMultiviewRenderTarget) {\n        _gl.deleteTexture(renderTargetProperties.__webglColorTexture);\n        _gl.deleteTexture(renderTargetProperties.__webglDepthStencilTexture);\n\n        info.memory.textures -= 2;\n\n        for (\n          var i = 0, il = renderTargetProperties.__webglViewFramebuffers.length;\n          i < il;\n          i++\n        ) {\n          _gl.deleteFramebuffer(\n            renderTargetProperties.__webglViewFramebuffers[i]\n          );\n        }\n      }\n\n      properties.remove(renderTarget.texture);\n      properties.remove(renderTarget);\n    }\n\n    //\n\n    var textureUnits = 0;\n\n    function resetTextureUnits() {\n      textureUnits = 0;\n    }\n\n    function allocateTextureUnit() {\n      var textureUnit = textureUnits;\n\n      if (textureUnit >= maxTextures) {\n        console.warn(\n          \"THREE.WebGLTextures: Trying to use \" +\n            textureUnit +\n            \" texture units while this GPU supports only \" +\n            maxTextures\n        );\n      }\n\n      textureUnits += 1;\n\n      return textureUnit;\n    }\n\n    //\n\n    function setTexture2D(texture, slot) {\n      var textureProperties = properties.get(texture);\n\n      if (texture.isVideoTexture) {\n        updateVideoTexture(texture);\n      }\n\n      if (\n        texture.version > 0 &&\n        textureProperties.__version !== texture.version\n      ) {\n        var image = texture.image;\n\n        if (image === undefined) {\n          console.warn(\n            \"THREE.WebGLRenderer: Texture marked for update but image is undefined\"\n          );\n        } else if (image.complete === false) {\n          console.warn(\n            \"THREE.WebGLRenderer: Texture marked for update but image is incomplete\"\n          );\n        } else {\n          uploadTexture(textureProperties, texture, slot);\n          return;\n        }\n      }\n\n      state.activeTexture(33984 + slot);\n      state.bindTexture(3553, textureProperties.__webglTexture);\n    }\n\n    function setTexture2DArray(texture, slot) {\n      var textureProperties = properties.get(texture);\n\n      if (\n        texture.version > 0 &&\n        textureProperties.__version !== texture.version\n      ) {\n        uploadTexture(textureProperties, texture, slot);\n        return;\n      }\n\n      state.activeTexture(33984 + slot);\n      state.bindTexture(35866, textureProperties.__webglTexture);\n    }\n\n    function setTexture3D(texture, slot) {\n      var textureProperties = properties.get(texture);\n\n      if (\n        texture.version > 0 &&\n        textureProperties.__version !== texture.version\n      ) {\n        uploadTexture(textureProperties, texture, slot);\n        return;\n      }\n\n      state.activeTexture(33984 + slot);\n      state.bindTexture(32879, textureProperties.__webglTexture);\n    }\n\n    function setTextureCube(texture, slot) {\n      if (texture.image.length !== 6) {\n        return;\n      }\n\n      var textureProperties = properties.get(texture);\n\n      if (\n        texture.version > 0 &&\n        textureProperties.__version !== texture.version\n      ) {\n        initTexture(textureProperties, texture);\n\n        state.activeTexture(33984 + slot);\n        state.bindTexture(34067, textureProperties.__webglTexture);\n\n        _gl.pixelStorei(37440, texture.flipY);\n\n        var isCompressed = texture && texture.isCompressedTexture;\n        var isDataTexture = texture.image[0] && texture.image[0].isDataTexture;\n\n        var cubeImage = [];\n\n        for (var i = 0; i < 6; i++) {\n          if (!isCompressed && !isDataTexture) {\n            cubeImage[i] = resizeImage(\n              texture.image[i],\n              false,\n              true,\n              maxCubemapSize\n            );\n          } else {\n            cubeImage[i] = isDataTexture\n              ? texture.image[i].image\n              : texture.image[i];\n          }\n        }\n\n        var image = cubeImage[0],\n          supportsMips = isPowerOfTwo(image) || isWebGL2,\n          glFormat = utils.convert(texture.format),\n          glType = utils.convert(texture.type),\n          glInternalFormat = getInternalFormat(\n            texture.internalFormat,\n            glFormat,\n            glType\n          );\n\n        setTextureParameters(34067, texture, supportsMips);\n\n        var mipmaps;\n\n        if (isCompressed) {\n          for (var i = 0; i < 6; i++) {\n            mipmaps = cubeImage[i].mipmaps;\n\n            for (var j = 0; j < mipmaps.length; j++) {\n              var mipmap = mipmaps[j];\n\n              if (\n                texture.format !== RGBAFormat &&\n                texture.format !== RGBFormat\n              ) {\n                if (glFormat !== null) {\n                  state.compressedTexImage2D(\n                    34069 + i,\n                    j,\n                    glInternalFormat,\n                    mipmap.width,\n                    mipmap.height,\n                    0,\n                    mipmap.data\n                  );\n                } else {\n                  console.warn(\n                    \"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()\"\n                  );\n                }\n              } else {\n                state.texImage2D(\n                  34069 + i,\n                  j,\n                  glInternalFormat,\n                  mipmap.width,\n                  mipmap.height,\n                  0,\n                  glFormat,\n                  glType,\n                  mipmap.data\n                );\n              }\n            }\n          }\n\n          textureProperties.__maxMipLevel = mipmaps.length - 1;\n        } else {\n          mipmaps = texture.mipmaps;\n\n          for (var i = 0; i < 6; i++) {\n            if (isDataTexture) {\n              state.texImage2D(\n                34069 + i,\n                0,\n                glInternalFormat,\n                cubeImage[i].width,\n                cubeImage[i].height,\n                0,\n                glFormat,\n                glType,\n                cubeImage[i].data\n              );\n\n              for (var j = 0; j < mipmaps.length; j++) {\n                var mipmap = mipmaps[j];\n                var mipmapImage = mipmap.image[i].image;\n\n                state.texImage2D(\n                  34069 + i,\n                  j + 1,\n                  glInternalFormat,\n                  mipmapImage.width,\n                  mipmapImage.height,\n                  0,\n                  glFormat,\n                  glType,\n                  mipmapImage.data\n                );\n              }\n            } else {\n              state.texImage2D(\n                34069 + i,\n                0,\n                glInternalFormat,\n                glFormat,\n                glType,\n                cubeImage[i]\n              );\n\n              for (var j = 0; j < mipmaps.length; j++) {\n                var mipmap = mipmaps[j];\n\n                state.texImage2D(\n                  34069 + i,\n                  j + 1,\n                  glInternalFormat,\n                  glFormat,\n                  glType,\n                  mipmap.image[i]\n                );\n              }\n            }\n          }\n\n          textureProperties.__maxMipLevel = mipmaps.length;\n        }\n\n        if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n          // We assume images for cube map have the same size.\n          generateMipmap(34067, texture, image.width, image.height);\n        }\n\n        textureProperties.__version = texture.version;\n\n        if (texture.onUpdate) {\n          texture.onUpdate(texture);\n        }\n      } else {\n        state.activeTexture(33984 + slot);\n        state.bindTexture(34067, textureProperties.__webglTexture);\n      }\n    }\n\n    function setTextureCubeDynamic(texture, slot) {\n      state.activeTexture(33984 + slot);\n      state.bindTexture(34067, properties.get(texture).__webglTexture);\n    }\n\n    var wrappingToGL = {};\n    wrappingToGL[RepeatWrapping] = 10497;\n    wrappingToGL[ClampToEdgeWrapping] = 33071;\n    wrappingToGL[MirroredRepeatWrapping] = 33648;\n\n    var filterToGL = {};\n    filterToGL[NearestFilter] = 9728;\n    filterToGL[NearestMipmapNearestFilter] = 9984;\n    filterToGL[NearestMipmapLinearFilter] = 9986;\n    filterToGL[LinearFilter] = 9729;\n    filterToGL[LinearMipmapNearestFilter] = 9985;\n    filterToGL[LinearMipmapLinearFilter] = 9987;\n\n    function setTextureParameters(textureType, texture, supportsMips) {\n      if (supportsMips) {\n        _gl.texParameteri(textureType, 10242, wrappingToGL[texture.wrapS]);\n        _gl.texParameteri(textureType, 10243, wrappingToGL[texture.wrapT]);\n\n        if (textureType === 32879 || textureType === 35866) {\n          _gl.texParameteri(textureType, 32882, wrappingToGL[texture.wrapR]);\n        }\n\n        _gl.texParameteri(textureType, 10240, filterToGL[texture.magFilter]);\n        _gl.texParameteri(textureType, 10241, filterToGL[texture.minFilter]);\n      } else {\n        _gl.texParameteri(textureType, 10242, 33071);\n        _gl.texParameteri(textureType, 10243, 33071);\n\n        if (textureType === 32879 || textureType === 35866) {\n          _gl.texParameteri(textureType, 32882, 33071);\n        }\n\n        if (\n          texture.wrapS !== ClampToEdgeWrapping ||\n          texture.wrapT !== ClampToEdgeWrapping\n        ) {\n          console.warn(\n            \"THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.\"\n          );\n        }\n\n        _gl.texParameteri(\n          textureType,\n          10240,\n          filterFallback(texture.magFilter)\n        );\n        _gl.texParameteri(\n          textureType,\n          10241,\n          filterFallback(texture.minFilter)\n        );\n\n        if (\n          texture.minFilter !== NearestFilter &&\n          texture.minFilter !== LinearFilter\n        ) {\n          console.warn(\n            \"THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.\"\n          );\n        }\n      }\n\n      var extension = extensions.get(\"EXT_texture_filter_anisotropic\");\n\n      if (extension) {\n        if (\n          texture.type === FloatType &&\n          extensions.get(\"OES_texture_float_linear\") === null\n        ) {\n          return;\n        }\n        if (\n          texture.type === HalfFloatType &&\n          (isWebGL2 || extensions.get(\"OES_texture_half_float_linear\")) === null\n        ) {\n          return;\n        }\n\n        if (\n          texture.anisotropy > 1 ||\n          properties.get(texture).__currentAnisotropy\n        ) {\n          _gl.texParameterf(\n            textureType,\n            extension.TEXTURE_MAX_ANISOTROPY_EXT,\n            Math.min(texture.anisotropy, capabilities.getMaxAnisotropy())\n          );\n          properties.get(texture).__currentAnisotropy = texture.anisotropy;\n        }\n      }\n    }\n\n    function initTexture(textureProperties, texture) {\n      if (textureProperties.__webglInit === undefined) {\n        textureProperties.__webglInit = true;\n\n        texture.addEventListener(\"dispose\", onTextureDispose);\n\n        textureProperties.__webglTexture = _gl.createTexture();\n\n        info.memory.textures++;\n      }\n    }\n\n    function uploadTexture(textureProperties, texture, slot) {\n      var textureType = 3553;\n\n      if (texture.isDataTexture2DArray) {\n        textureType = 35866;\n      }\n      if (texture.isDataTexture3D) {\n        textureType = 32879;\n      }\n\n      initTexture(textureProperties, texture);\n\n      state.activeTexture(33984 + slot);\n      state.bindTexture(textureType, textureProperties.__webglTexture);\n\n      _gl.pixelStorei(37440, texture.flipY);\n      _gl.pixelStorei(37441, texture.premultiplyAlpha);\n      _gl.pixelStorei(3317, texture.unpackAlignment);\n\n      var needsPowerOfTwo =\n        textureNeedsPowerOfTwo(texture) &&\n        isPowerOfTwo(texture.image) === false;\n      var image = resizeImage(\n        texture.image,\n        needsPowerOfTwo,\n        false,\n        maxTextureSize\n      );\n\n      var supportsMips = isPowerOfTwo(image) || isWebGL2,\n        glFormat = utils.convert(texture.format),\n        glType = utils.convert(texture.type),\n        glInternalFormat = getInternalFormat(\n          texture.internalFormat,\n          glFormat,\n          glType\n        );\n\n      setTextureParameters(textureType, texture, supportsMips);\n\n      var mipmap,\n        mipmaps = texture.mipmaps;\n\n      if (texture.isDepthTexture) {\n        // populate depth texture with dummy data\n\n        glInternalFormat = 6402;\n\n        if (texture.type === FloatType) {\n          if (isWebGL2 === false) {\n            throw new Error(\"Float Depth Texture only supported in WebGL2.0\");\n          }\n          glInternalFormat = 36012;\n        } else if (isWebGL2) {\n          // WebGL 2.0 requires signed internalformat for glTexImage2D\n          glInternalFormat = 33189;\n        }\n\n        if (texture.format === DepthFormat && glInternalFormat === 6402) {\n          // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n          // DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n          // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n          if (\n            texture.type !== UnsignedShortType &&\n            texture.type !== UnsignedIntType\n          ) {\n            console.warn(\n              \"THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.\"\n            );\n\n            texture.type = UnsignedShortType;\n            glType = utils.convert(texture.type);\n          }\n        }\n\n        // Depth stencil textures need the DEPTH_STENCIL internal format\n        // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n        if (texture.format === DepthStencilFormat) {\n          glInternalFormat = 34041;\n\n          // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n          // DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n          // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n          if (texture.type !== UnsignedInt248Type) {\n            console.warn(\n              \"THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.\"\n            );\n\n            texture.type = UnsignedInt248Type;\n            glType = utils.convert(texture.type);\n          }\n        }\n\n        state.texImage2D(\n          3553,\n          0,\n          glInternalFormat,\n          image.width,\n          image.height,\n          0,\n          glFormat,\n          glType,\n          null\n        );\n      } else if (texture.isDataTexture) {\n        // use manually created mipmaps if available\n        // if there are no manual mipmaps\n        // set 0 level mipmap and then use GL to generate other mipmap levels\n\n        if (mipmaps.length > 0 && supportsMips) {\n          for (var i = 0, il = mipmaps.length; i < il; i++) {\n            mipmap = mipmaps[i];\n            state.texImage2D(\n              3553,\n              i,\n              glInternalFormat,\n              mipmap.width,\n              mipmap.height,\n              0,\n              glFormat,\n              glType,\n              mipmap.data\n            );\n          }\n\n          texture.generateMipmaps = false;\n          textureProperties.__maxMipLevel = mipmaps.length - 1;\n        } else {\n          state.texImage2D(\n            3553,\n            0,\n            glInternalFormat,\n            image.width,\n            image.height,\n            0,\n            glFormat,\n            glType,\n            image.data\n          );\n          textureProperties.__maxMipLevel = 0;\n        }\n      } else if (texture.isCompressedTexture) {\n        for (var i = 0, il = mipmaps.length; i < il; i++) {\n          mipmap = mipmaps[i];\n\n          if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {\n            if (glFormat !== null) {\n              state.compressedTexImage2D(\n                3553,\n                i,\n                glInternalFormat,\n                mipmap.width,\n                mipmap.height,\n                0,\n                mipmap.data\n              );\n            } else {\n              console.warn(\n                \"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\"\n              );\n            }\n          } else {\n            state.texImage2D(\n              3553,\n              i,\n              glInternalFormat,\n              mipmap.width,\n              mipmap.height,\n              0,\n              glFormat,\n              glType,\n              mipmap.data\n            );\n          }\n        }\n\n        textureProperties.__maxMipLevel = mipmaps.length - 1;\n      } else if (texture.isDataTexture2DArray) {\n        state.texImage3D(\n          35866,\n          0,\n          glInternalFormat,\n          image.width,\n          image.height,\n          image.depth,\n          0,\n          glFormat,\n          glType,\n          image.data\n        );\n        textureProperties.__maxMipLevel = 0;\n      } else if (texture.isDataTexture3D) {\n        state.texImage3D(\n          32879,\n          0,\n          glInternalFormat,\n          image.width,\n          image.height,\n          image.depth,\n          0,\n          glFormat,\n          glType,\n          image.data\n        );\n        textureProperties.__maxMipLevel = 0;\n      } else {\n        // regular Texture (image, video, canvas)\n\n        // use manually created mipmaps if available\n        // if there are no manual mipmaps\n        // set 0 level mipmap and then use GL to generate other mipmap levels\n\n        if (mipmaps.length > 0 && supportsMips) {\n          for (var i = 0, il = mipmaps.length; i < il; i++) {\n            mipmap = mipmaps[i];\n            state.texImage2D(\n              3553,\n              i,\n              glInternalFormat,\n              glFormat,\n              glType,\n              mipmap\n            );\n          }\n\n          texture.generateMipmaps = false;\n          textureProperties.__maxMipLevel = mipmaps.length - 1;\n        } else {\n          state.texImage2D(3553, 0, glInternalFormat, glFormat, glType, image);\n          textureProperties.__maxMipLevel = 0;\n        }\n      }\n\n      if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n        generateMipmap(textureType, texture, image.width, image.height);\n      }\n\n      textureProperties.__version = texture.version;\n\n      if (texture.onUpdate) {\n        texture.onUpdate(texture);\n      }\n    }\n\n    // Render targets\n\n    // Setup storage for target texture and bind it to correct framebuffer\n    function setupFrameBufferTexture(\n      framebuffer,\n      renderTarget,\n      attachment,\n      textureTarget\n    ) {\n      var glFormat = utils.convert(renderTarget.texture.format);\n      var glType = utils.convert(renderTarget.texture.type);\n      var glInternalFormat = getInternalFormat(\n        renderTarget.texture.internalFormat,\n        glFormat,\n        glType\n      );\n      state.texImage2D(\n        textureTarget,\n        0,\n        glInternalFormat,\n        renderTarget.width,\n        renderTarget.height,\n        0,\n        glFormat,\n        glType,\n        null\n      );\n      _gl.bindFramebuffer(36160, framebuffer);\n      _gl.framebufferTexture2D(\n        36160,\n        attachment,\n        textureTarget,\n        properties.get(renderTarget.texture).__webglTexture,\n        0\n      );\n      _gl.bindFramebuffer(36160, null);\n    }\n\n    // Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n    function setupRenderBufferStorage(\n      renderbuffer,\n      renderTarget,\n      isMultisample\n    ) {\n      _gl.bindRenderbuffer(36161, renderbuffer);\n\n      if (renderTarget.depthBuffer && !renderTarget.stencilBuffer) {\n        if (isMultisample) {\n          var samples = getRenderTargetSamples(renderTarget);\n\n          _gl.renderbufferStorageMultisample(\n            36161,\n            samples,\n            33189,\n            renderTarget.width,\n            renderTarget.height\n          );\n        } else {\n          _gl.renderbufferStorage(\n            36161,\n            33189,\n            renderTarget.width,\n            renderTarget.height\n          );\n        }\n\n        _gl.framebufferRenderbuffer(36160, 36096, 36161, renderbuffer);\n      } else if (renderTarget.depthBuffer && renderTarget.stencilBuffer) {\n        if (isMultisample) {\n          var samples = getRenderTargetSamples(renderTarget);\n\n          _gl.renderbufferStorageMultisample(\n            36161,\n            samples,\n            35056,\n            renderTarget.width,\n            renderTarget.height\n          );\n        } else {\n          _gl.renderbufferStorage(\n            36161,\n            34041,\n            renderTarget.width,\n            renderTarget.height\n          );\n        }\n\n        _gl.framebufferRenderbuffer(36160, 33306, 36161, renderbuffer);\n      } else {\n        var glFormat = utils.convert(renderTarget.texture.format);\n        var glType = utils.convert(renderTarget.texture.type);\n        var glInternalFormat = getInternalFormat(\n          renderTarget.texture.internalFormat,\n          glFormat,\n          glType\n        );\n\n        if (isMultisample) {\n          var samples = getRenderTargetSamples(renderTarget);\n\n          _gl.renderbufferStorageMultisample(\n            36161,\n            samples,\n            glInternalFormat,\n            renderTarget.width,\n            renderTarget.height\n          );\n        } else {\n          _gl.renderbufferStorage(\n            36161,\n            glInternalFormat,\n            renderTarget.width,\n            renderTarget.height\n          );\n        }\n      }\n\n      _gl.bindRenderbuffer(36161, null);\n    }\n\n    // Setup resources for a Depth Texture for a FBO (needs an extension)\n    function setupDepthTexture(framebuffer, renderTarget) {\n      var isCube = renderTarget && renderTarget.isWebGLRenderTargetCube;\n      if (isCube) {\n        throw new Error(\n          \"Depth Texture with cube render targets is not supported\"\n        );\n      }\n\n      _gl.bindFramebuffer(36160, framebuffer);\n\n      if (\n        !(renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture)\n      ) {\n        throw new Error(\n          \"renderTarget.depthTexture must be an instance of THREE.DepthTexture\"\n        );\n      }\n\n      // upload an empty depth texture with framebuffer size\n      if (\n        !properties.get(renderTarget.depthTexture).__webglTexture ||\n        renderTarget.depthTexture.image.width !== renderTarget.width ||\n        renderTarget.depthTexture.image.height !== renderTarget.height\n      ) {\n        renderTarget.depthTexture.image.width = renderTarget.width;\n        renderTarget.depthTexture.image.height = renderTarget.height;\n        renderTarget.depthTexture.needsUpdate = true;\n      }\n\n      setTexture2D(renderTarget.depthTexture, 0);\n\n      var webglDepthTexture = properties.get(\n        renderTarget.depthTexture\n      ).__webglTexture;\n\n      if (renderTarget.depthTexture.format === DepthFormat) {\n        _gl.framebufferTexture2D(36160, 36096, 3553, webglDepthTexture, 0);\n      } else if (renderTarget.depthTexture.format === DepthStencilFormat) {\n        _gl.framebufferTexture2D(36160, 33306, 3553, webglDepthTexture, 0);\n      } else {\n        throw new Error(\"Unknown depthTexture format\");\n      }\n    }\n\n    // Setup GL resources for a non-texture depth buffer\n    function setupDepthRenderbuffer(renderTarget) {\n      var renderTargetProperties = properties.get(renderTarget);\n\n      var isCube = renderTarget.isWebGLRenderTargetCube === true;\n\n      if (renderTarget.depthTexture) {\n        if (isCube) {\n          throw new Error(\n            \"target.depthTexture not supported in Cube render targets\"\n          );\n        }\n\n        setupDepthTexture(\n          renderTargetProperties.__webglFramebuffer,\n          renderTarget\n        );\n      } else {\n        if (isCube) {\n          renderTargetProperties.__webglDepthbuffer = [];\n\n          for (var i = 0; i < 6; i++) {\n            _gl.bindFramebuffer(\n              36160,\n              renderTargetProperties.__webglFramebuffer[i]\n            );\n            renderTargetProperties.__webglDepthbuffer[i] =\n              _gl.createRenderbuffer();\n            setupRenderBufferStorage(\n              renderTargetProperties.__webglDepthbuffer[i],\n              renderTarget\n            );\n          }\n        } else {\n          _gl.bindFramebuffer(36160, renderTargetProperties.__webglFramebuffer);\n          renderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n          setupRenderBufferStorage(\n            renderTargetProperties.__webglDepthbuffer,\n            renderTarget\n          );\n        }\n      }\n\n      _gl.bindFramebuffer(36160, null);\n    }\n\n    // Set up GL resources for the render target\n    function setupRenderTarget(renderTarget) {\n      var renderTargetProperties = properties.get(renderTarget);\n      var textureProperties = properties.get(renderTarget.texture);\n\n      renderTarget.addEventListener(\"dispose\", onRenderTargetDispose);\n\n      textureProperties.__webglTexture = _gl.createTexture();\n\n      info.memory.textures++;\n\n      var isCube = renderTarget.isWebGLRenderTargetCube === true;\n      var isMultisample = renderTarget.isWebGLMultisampleRenderTarget === true;\n      var isMultiview = renderTarget.isWebGLMultiviewRenderTarget === true;\n      var supportsMips = isPowerOfTwo(renderTarget) || isWebGL2;\n\n      // Setup framebuffer\n\n      if (isCube) {\n        renderTargetProperties.__webglFramebuffer = [];\n\n        for (var i = 0; i < 6; i++) {\n          renderTargetProperties.__webglFramebuffer[i] =\n            _gl.createFramebuffer();\n        }\n      } else {\n        renderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n        if (isMultisample) {\n          if (isWebGL2) {\n            renderTargetProperties.__webglMultisampledFramebuffer =\n              _gl.createFramebuffer();\n            renderTargetProperties.__webglColorRenderbuffer =\n              _gl.createRenderbuffer();\n\n            _gl.bindRenderbuffer(\n              36161,\n              renderTargetProperties.__webglColorRenderbuffer\n            );\n\n            var glFormat = utils.convert(renderTarget.texture.format);\n            var glType = utils.convert(renderTarget.texture.type);\n            var glInternalFormat = getInternalFormat(\n              renderTarget.texture.internalFormat,\n              glFormat,\n              glType\n            );\n            var samples = getRenderTargetSamples(renderTarget);\n            _gl.renderbufferStorageMultisample(\n              36161,\n              samples,\n              glInternalFormat,\n              renderTarget.width,\n              renderTarget.height\n            );\n\n            _gl.bindFramebuffer(\n              36160,\n              renderTargetProperties.__webglMultisampledFramebuffer\n            );\n            _gl.framebufferRenderbuffer(\n              36160,\n              36064,\n              36161,\n              renderTargetProperties.__webglColorRenderbuffer\n            );\n            _gl.bindRenderbuffer(36161, null);\n\n            if (renderTarget.depthBuffer) {\n              renderTargetProperties.__webglDepthRenderbuffer =\n                _gl.createRenderbuffer();\n              setupRenderBufferStorage(\n                renderTargetProperties.__webglDepthRenderbuffer,\n                renderTarget,\n                true\n              );\n            }\n\n            _gl.bindFramebuffer(36160, null);\n          } else {\n            console.warn(\n              \"THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.\"\n            );\n          }\n        } else if (isMultiview) {\n          var width = renderTarget.width;\n          var height = renderTarget.height;\n          var numViews = renderTarget.numViews;\n\n          _gl.bindFramebuffer(36160, renderTargetProperties.__webglFramebuffer);\n\n          var ext = extensions.get(\"OVR_multiview2\");\n\n          info.memory.textures += 2;\n\n          var colorTexture = _gl.createTexture();\n          _gl.bindTexture(35866, colorTexture);\n          _gl.texParameteri(35866, 10240, 9728);\n          _gl.texParameteri(35866, 10241, 9728);\n          _gl.texImage3D(\n            35866,\n            0,\n            32856,\n            width,\n            height,\n            numViews,\n            0,\n            6408,\n            5121,\n            null\n          );\n          ext.framebufferTextureMultiviewOVR(\n            36160,\n            36064,\n            colorTexture,\n            0,\n            0,\n            numViews\n          );\n\n          var depthStencilTexture = _gl.createTexture();\n          _gl.bindTexture(35866, depthStencilTexture);\n          _gl.texParameteri(35866, 10240, 9728);\n          _gl.texParameteri(35866, 10241, 9728);\n          _gl.texImage3D(\n            35866,\n            0,\n            35056,\n            width,\n            height,\n            numViews,\n            0,\n            34041,\n            34042,\n            null\n          );\n          ext.framebufferTextureMultiviewOVR(\n            36160,\n            33306,\n            depthStencilTexture,\n            0,\n            0,\n            numViews\n          );\n\n          var viewFramebuffers = new Array(numViews);\n          for (var i = 0; i < numViews; ++i) {\n            viewFramebuffers[i] = _gl.createFramebuffer();\n            _gl.bindFramebuffer(36160, viewFramebuffers[i]);\n            _gl.framebufferTextureLayer(36160, 36064, colorTexture, 0, i);\n          }\n\n          renderTargetProperties.__webglColorTexture = colorTexture;\n          renderTargetProperties.__webglDepthStencilTexture =\n            depthStencilTexture;\n          renderTargetProperties.__webglViewFramebuffers = viewFramebuffers;\n\n          _gl.bindFramebuffer(36160, null);\n          _gl.bindTexture(35866, null);\n        }\n      }\n\n      // Setup color buffer\n\n      if (isCube) {\n        state.bindTexture(34067, textureProperties.__webglTexture);\n        setTextureParameters(34067, renderTarget.texture, supportsMips);\n\n        for (var i = 0; i < 6; i++) {\n          setupFrameBufferTexture(\n            renderTargetProperties.__webglFramebuffer[i],\n            renderTarget,\n            36064,\n            34069 + i\n          );\n        }\n\n        if (textureNeedsGenerateMipmaps(renderTarget.texture, supportsMips)) {\n          generateMipmap(\n            34067,\n            renderTarget.texture,\n            renderTarget.width,\n            renderTarget.height\n          );\n        }\n\n        state.bindTexture(34067, null);\n      } else if (!isMultiview) {\n        state.bindTexture(3553, textureProperties.__webglTexture);\n        setTextureParameters(3553, renderTarget.texture, supportsMips);\n        setupFrameBufferTexture(\n          renderTargetProperties.__webglFramebuffer,\n          renderTarget,\n          36064,\n          3553\n        );\n\n        if (textureNeedsGenerateMipmaps(renderTarget.texture, supportsMips)) {\n          generateMipmap(\n            3553,\n            renderTarget.texture,\n            renderTarget.width,\n            renderTarget.height\n          );\n        }\n\n        state.bindTexture(3553, null);\n      }\n\n      // Setup depth and stencil buffers\n\n      if (renderTarget.depthBuffer) {\n        setupDepthRenderbuffer(renderTarget);\n      }\n    }\n\n    function updateRenderTargetMipmap(renderTarget) {\n      var texture = renderTarget.texture;\n      var supportsMips = isPowerOfTwo(renderTarget) || isWebGL2;\n\n      if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n        var target = renderTarget.isWebGLRenderTargetCube ? 34067 : 3553;\n        var webglTexture = properties.get(texture).__webglTexture;\n\n        state.bindTexture(target, webglTexture);\n        generateMipmap(\n          target,\n          texture,\n          renderTarget.width,\n          renderTarget.height\n        );\n        state.bindTexture(target, null);\n      }\n    }\n\n    function updateMultisampleRenderTarget(renderTarget) {\n      if (renderTarget.isWebGLMultisampleRenderTarget) {\n        if (isWebGL2) {\n          var renderTargetProperties = properties.get(renderTarget);\n\n          _gl.bindFramebuffer(\n            36008,\n            renderTargetProperties.__webglMultisampledFramebuffer\n          );\n          _gl.bindFramebuffer(36009, renderTargetProperties.__webglFramebuffer);\n\n          var width = renderTarget.width;\n          var height = renderTarget.height;\n          var mask = 16384;\n\n          if (renderTarget.depthBuffer) {\n            mask |= 256;\n          }\n          if (renderTarget.stencilBuffer) {\n            mask |= 1024;\n          }\n\n          _gl.blitFramebuffer(\n            0,\n            0,\n            width,\n            height,\n            0,\n            0,\n            width,\n            height,\n            mask,\n            9728\n          );\n        } else {\n          console.warn(\n            \"THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.\"\n          );\n        }\n      }\n    }\n\n    function getRenderTargetSamples(renderTarget) {\n      return isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget\n        ? Math.min(maxSamples, renderTarget.samples)\n        : 0;\n    }\n\n    function updateVideoTexture(texture) {\n      var frame = info.render.frame;\n\n      // Check the last frame we updated the VideoTexture\n\n      if (_videoTextures.get(texture) !== frame) {\n        _videoTextures.set(texture, frame);\n        texture.update();\n      }\n    }\n\n    // backwards compatibility\n\n    var warnedTexture2D = false;\n    var warnedTextureCube = false;\n\n    function safeSetTexture2D(texture, slot) {\n      if (texture && texture.isWebGLRenderTarget) {\n        if (warnedTexture2D === false) {\n          console.warn(\n            \"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\"\n          );\n          warnedTexture2D = true;\n        }\n\n        texture = texture.texture;\n      }\n\n      setTexture2D(texture, slot);\n    }\n\n    function safeSetTextureCube(texture, slot) {\n      if (texture && texture.isWebGLRenderTargetCube) {\n        if (warnedTextureCube === false) {\n          console.warn(\n            \"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\"\n          );\n          warnedTextureCube = true;\n        }\n\n        texture = texture.texture;\n      }\n\n      // currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\n      // TODO: unify these code paths\n      if (\n        (texture && texture.isCubeTexture) ||\n        (Array.isArray(texture.image) && texture.image.length === 6)\n      ) {\n        // CompressedTexture can have Array in image :/\n\n        // this function alone should take care of cube textures\n        setTextureCube(texture, slot);\n      } else {\n        // assumed: texture property of THREE.WebGLRenderTargetCube\n        setTextureCubeDynamic(texture, slot);\n      }\n    }\n\n    //\n\n    this.allocateTextureUnit = allocateTextureUnit;\n    this.resetTextureUnits = resetTextureUnits;\n\n    this.setTexture2D = setTexture2D;\n    this.setTexture2DArray = setTexture2DArray;\n    this.setTexture3D = setTexture3D;\n    this.setTextureCube = setTextureCube;\n    this.setTextureCubeDynamic = setTextureCubeDynamic;\n    this.setupRenderTarget = setupRenderTarget;\n    this.updateRenderTargetMipmap = updateRenderTargetMipmap;\n    this.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n    this.safeSetTexture2D = safeSetTexture2D;\n    this.safeSetTextureCube = safeSetTextureCube;\n  }\n\n  /**\n   * @author thespite / http://www.twitter.com/thespite\n   */\n\n  function WebGLUtils(gl, extensions, capabilities) {\n    var isWebGL2 = capabilities.isWebGL2;\n\n    function convert(p) {\n      var extension;\n\n      if (p === UnsignedByteType) {\n        return 5121;\n      }\n      if (p === UnsignedShort4444Type) {\n        return 32819;\n      }\n      if (p === UnsignedShort5551Type) {\n        return 32820;\n      }\n      if (p === UnsignedShort565Type) {\n        return 33635;\n      }\n\n      if (p === ByteType) {\n        return 5120;\n      }\n      if (p === ShortType) {\n        return 5122;\n      }\n      if (p === UnsignedShortType) {\n        return 5123;\n      }\n      if (p === IntType) {\n        return 5124;\n      }\n      if (p === UnsignedIntType) {\n        return 5125;\n      }\n      if (p === FloatType) {\n        return 5126;\n      }\n\n      if (p === HalfFloatType) {\n        if (isWebGL2) {\n          return 5131;\n        }\n\n        extension = extensions.get(\"OES_texture_half_float\");\n\n        if (extension !== null) {\n          return extension.HALF_FLOAT_OES;\n        } else {\n          return null;\n        }\n      }\n\n      if (p === AlphaFormat) {\n        return 6406;\n      }\n      if (p === RGBFormat) {\n        return 6407;\n      }\n      if (p === RGBAFormat) {\n        return 6408;\n      }\n      if (p === LuminanceFormat) {\n        return 6409;\n      }\n      if (p === LuminanceAlphaFormat) {\n        return 6410;\n      }\n      if (p === DepthFormat) {\n        return 6402;\n      }\n      if (p === DepthStencilFormat) {\n        return 34041;\n      }\n      if (p === RedFormat) {\n        return 6403;\n      }\n\n      // WebGL2 formats.\n\n      if (p === RedIntegerFormat) {\n        return 36244;\n      }\n      if (p === RGFormat) {\n        return 33319;\n      }\n      if (p === RGIntegerFormat) {\n        return 33320;\n      }\n      if (p === RGBIntegerFormat) {\n        return 36248;\n      }\n      if (p === RGBAIntegerFormat) {\n        return 36249;\n      }\n\n      if (\n        p === RGB_S3TC_DXT1_Format ||\n        p === RGBA_S3TC_DXT1_Format ||\n        p === RGBA_S3TC_DXT3_Format ||\n        p === RGBA_S3TC_DXT5_Format\n      ) {\n        extension = extensions.get(\"WEBGL_compressed_texture_s3tc\");\n\n        if (extension !== null) {\n          if (p === RGB_S3TC_DXT1_Format) {\n            return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n          }\n          if (p === RGBA_S3TC_DXT1_Format) {\n            return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n          }\n          if (p === RGBA_S3TC_DXT3_Format) {\n            return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n          }\n          if (p === RGBA_S3TC_DXT5_Format) {\n            return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n          }\n        } else {\n          return null;\n        }\n      }\n\n      if (\n        p === RGB_PVRTC_4BPPV1_Format ||\n        p === RGB_PVRTC_2BPPV1_Format ||\n        p === RGBA_PVRTC_4BPPV1_Format ||\n        p === RGBA_PVRTC_2BPPV1_Format\n      ) {\n        extension = extensions.get(\"WEBGL_compressed_texture_pvrtc\");\n\n        if (extension !== null) {\n          if (p === RGB_PVRTC_4BPPV1_Format) {\n            return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n          }\n          if (p === RGB_PVRTC_2BPPV1_Format) {\n            return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n          }\n          if (p === RGBA_PVRTC_4BPPV1_Format) {\n            return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n          }\n          if (p === RGBA_PVRTC_2BPPV1_Format) {\n            return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n          }\n        } else {\n          return null;\n        }\n      }\n\n      if (p === RGB_ETC1_Format) {\n        extension = extensions.get(\"WEBGL_compressed_texture_etc1\");\n\n        if (extension !== null) {\n          return extension.COMPRESSED_RGB_ETC1_WEBGL;\n        } else {\n          return null;\n        }\n      }\n\n      if (\n        p === RGBA_ASTC_4x4_Format ||\n        p === RGBA_ASTC_5x4_Format ||\n        p === RGBA_ASTC_5x5_Format ||\n        p === RGBA_ASTC_6x5_Format ||\n        p === RGBA_ASTC_6x6_Format ||\n        p === RGBA_ASTC_8x5_Format ||\n        p === RGBA_ASTC_8x6_Format ||\n        p === RGBA_ASTC_8x8_Format ||\n        p === RGBA_ASTC_10x5_Format ||\n        p === RGBA_ASTC_10x6_Format ||\n        p === RGBA_ASTC_10x8_Format ||\n        p === RGBA_ASTC_10x10_Format ||\n        p === RGBA_ASTC_12x10_Format ||\n        p === RGBA_ASTC_12x12_Format\n      ) {\n        extension = extensions.get(\"WEBGL_compressed_texture_astc\");\n\n        if (extension !== null) {\n          // TODO Complete?\n\n          return p;\n        } else {\n          return null;\n        }\n      }\n\n      if (p === UnsignedInt248Type) {\n        if (isWebGL2) {\n          return 34042;\n        }\n\n        extension = extensions.get(\"WEBGL_depth_texture\");\n\n        if (extension !== null) {\n          return extension.UNSIGNED_INT_24_8_WEBGL;\n        } else {\n          return null;\n        }\n      }\n    }\n\n    return {\n      convert: convert,\n    };\n  }\n\n  /**\n   * @author fernandojsg / http://fernandojsg.com\n   * @author Takahiro https://github.com/takahirox\n   */\n\n  function WebGLMultiviewRenderTarget(width, height, numViews, options) {\n    WebGLRenderTarget.call(this, width, height, options);\n\n    this.depthBuffer = false;\n    this.stencilBuffer = false;\n\n    this.numViews = numViews;\n  }\n\n  WebGLMultiviewRenderTarget.prototype = Object.assign(\n    Object.create(WebGLRenderTarget.prototype),\n    {\n      constructor: WebGLMultiviewRenderTarget,\n\n      isWebGLMultiviewRenderTarget: true,\n\n      copy: function (source) {\n        WebGLRenderTarget.prototype.copy.call(this, source);\n\n        this.numViews = source.numViews;\n\n        return this;\n      },\n\n      setNumViews: function (numViews) {\n        if (this.numViews !== numViews) {\n          this.numViews = numViews;\n          this.dispose();\n        }\n\n        return this;\n      },\n    }\n  );\n\n  /**\n   * @author fernandojsg / http://fernandojsg.com\n   * @author Takahiro https://github.com/takahirox\n   */\n\n  function WebGLMultiview(renderer, gl) {\n    var DEFAULT_NUMVIEWS = 2;\n\n    var extensions = renderer.extensions;\n    var properties = renderer.properties;\n\n    var renderTarget, currentRenderTarget;\n    var mat3, mat4, cameraArray, renderSize;\n\n    var available;\n    var maxNumViews = 0;\n\n    //\n\n    function isAvailable() {\n      if (available === undefined) {\n        var extension = extensions.get(\"OVR_multiview2\");\n\n        available =\n          extension !== null && gl.getContextAttributes().antialias === false;\n\n        if (available) {\n          maxNumViews = gl.getParameter(extension.MAX_VIEWS_OVR);\n          renderTarget = new WebGLMultiviewRenderTarget(0, 0, DEFAULT_NUMVIEWS);\n\n          renderSize = new Vector2();\n          mat4 = [];\n          mat3 = [];\n          cameraArray = [];\n\n          for (var i = 0; i < maxNumViews; i++) {\n            mat4[i] = new Matrix4();\n            mat3[i] = new Matrix3();\n          }\n        }\n      }\n\n      return available;\n    }\n\n    function getCameraArray(camera) {\n      if (camera.isArrayCamera) {\n        return camera.cameras;\n      }\n\n      cameraArray[0] = camera;\n\n      return cameraArray;\n    }\n\n    function updateCameraProjectionMatricesUniform(camera, uniforms) {\n      var cameras = getCameraArray(camera);\n\n      for (var i = 0; i < cameras.length; i++) {\n        mat4[i].copy(cameras[i].projectionMatrix);\n      }\n\n      uniforms.setValue(gl, \"projectionMatrices\", mat4);\n    }\n\n    function updateCameraViewMatricesUniform(camera, uniforms) {\n      var cameras = getCameraArray(camera);\n\n      for (var i = 0; i < cameras.length; i++) {\n        mat4[i].copy(cameras[i].matrixWorldInverse);\n      }\n\n      uniforms.setValue(gl, \"viewMatrices\", mat4);\n    }\n\n    function updateObjectMatricesUniforms(object, camera, uniforms) {\n      var cameras = getCameraArray(camera);\n\n      for (var i = 0; i < cameras.length; i++) {\n        mat4[i].multiplyMatrices(\n          cameras[i].matrixWorldInverse,\n          object.matrixWorld\n        );\n        mat3[i].getNormalMatrix(mat4[i]);\n      }\n\n      uniforms.setValue(gl, \"modelViewMatrices\", mat4);\n      uniforms.setValue(gl, \"normalMatrices\", mat3);\n    }\n\n    function isMultiviewCompatible(camera) {\n      if (camera.isArrayCamera === undefined) {\n        return true;\n      }\n\n      var cameras = camera.cameras;\n\n      if (cameras.length > maxNumViews) {\n        return false;\n      }\n\n      for (var i = 1, il = cameras.length; i < il; i++) {\n        if (\n          cameras[0].viewport.z !== cameras[i].viewport.z ||\n          cameras[0].viewport.w !== cameras[i].viewport.w\n        ) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function resizeRenderTarget(camera) {\n      if (currentRenderTarget) {\n        renderSize.set(currentRenderTarget.width, currentRenderTarget.height);\n      } else {\n        renderer.getDrawingBufferSize(renderSize);\n      }\n\n      if (camera.isArrayCamera) {\n        var viewport = camera.cameras[0].viewport;\n\n        renderTarget.setSize(viewport.z, viewport.w);\n        renderTarget.setNumViews(camera.cameras.length);\n      } else {\n        renderTarget.setSize(renderSize.x, renderSize.y);\n        renderTarget.setNumViews(DEFAULT_NUMVIEWS);\n      }\n    }\n\n    function attachCamera(camera) {\n      if (isMultiviewCompatible(camera) === false) {\n        return;\n      }\n\n      currentRenderTarget = renderer.getRenderTarget();\n      resizeRenderTarget(camera);\n      renderer.setRenderTarget(renderTarget);\n    }\n\n    function detachCamera(camera) {\n      if (renderTarget !== renderer.getRenderTarget()) {\n        return;\n      }\n\n      renderer.setRenderTarget(currentRenderTarget);\n\n      flush(camera);\n    }\n\n    function flush(camera) {\n      var srcRenderTarget = renderTarget;\n      var numViews = srcRenderTarget.numViews;\n\n      var srcFramebuffers =\n        properties.get(srcRenderTarget).__webglViewFramebuffers;\n\n      var viewWidth = srcRenderTarget.width;\n      var viewHeight = srcRenderTarget.height;\n\n      if (camera.isArrayCamera) {\n        for (var i = 0; i < numViews; i++) {\n          var viewport = camera.cameras[i].viewport;\n\n          var x1 = viewport.x;\n          var y1 = viewport.y;\n          var x2 = x1 + viewport.z;\n          var y2 = y1 + viewport.w;\n\n          gl.bindFramebuffer(36008, srcFramebuffers[i]);\n          gl.blitFramebuffer(\n            0,\n            0,\n            viewWidth,\n            viewHeight,\n            x1,\n            y1,\n            x2,\n            y2,\n            16384,\n            9728\n          );\n        }\n      } else {\n        gl.bindFramebuffer(36008, srcFramebuffers[0]);\n        gl.blitFramebuffer(\n          0,\n          0,\n          viewWidth,\n          viewHeight,\n          0,\n          0,\n          renderSize.x,\n          renderSize.y,\n          16384,\n          9728\n        );\n      }\n    }\n\n    this.isAvailable = isAvailable;\n    this.attachCamera = attachCamera;\n    this.detachCamera = detachCamera;\n    this.updateCameraProjectionMatricesUniform =\n      updateCameraProjectionMatricesUniform;\n    this.updateCameraViewMatricesUniform = updateCameraViewMatricesUniform;\n    this.updateObjectMatricesUniforms = updateObjectMatricesUniforms;\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function ArrayCamera(array) {\n    PerspectiveCamera.call(this);\n\n    this.cameras = array || [];\n  }\n\n  ArrayCamera.prototype = Object.assign(\n    Object.create(PerspectiveCamera.prototype),\n    {\n      constructor: ArrayCamera,\n\n      isArrayCamera: true,\n    }\n  );\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Group() {\n    Object3D.call(this);\n\n    this.type = \"Group\";\n  }\n\n  Group.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Group,\n\n    isGroup: true,\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function WebXRManager(renderer, gl) {\n    var scope = this;\n\n    var session = null;\n\n    // var framebufferScaleFactor = 1.0;\n\n    var referenceSpace = null;\n    var referenceSpaceType = \"local-floor\";\n\n    var pose = null;\n\n    var controllers = [];\n    var inputSourcesMap = new Map();\n\n    //\n\n    var cameraL = new PerspectiveCamera();\n    cameraL.layers.enable(1);\n    cameraL.viewport = new Vector4();\n\n    var cameraR = new PerspectiveCamera();\n    cameraR.layers.enable(2);\n    cameraR.viewport = new Vector4();\n\n    var cameraVR = new ArrayCamera([cameraL, cameraR]);\n    cameraVR.layers.enable(1);\n    cameraVR.layers.enable(2);\n\n    //\n\n    this.enabled = false;\n\n    this.isPresenting = false;\n\n    this.getController = function (id) {\n      var controller = controllers[id];\n\n      if (controller === undefined) {\n        controller = new Group();\n        controller.matrixAutoUpdate = false;\n        controller.visible = false;\n\n        controllers[id] = controller;\n      }\n\n      return controller;\n    };\n\n    //\n\n    function onSessionEvent(event) {\n      var controller = inputSourcesMap.get(event.inputSource);\n\n      if (controller) {\n        controller.dispatchEvent({\n          type: event.type,\n        });\n      }\n    }\n\n    function onSessionEnd() {\n      inputSourcesMap.forEach(function (controller, inputSource) {\n        controller.dispatchEvent({\n          type: \"disconnected\",\n          data: inputSource,\n        });\n        controller.visible = false;\n      });\n\n      inputSourcesMap.clear();\n\n      //\n\n      renderer.setFramebuffer(null);\n      renderer.setRenderTarget(renderer.getRenderTarget()); // Hack #15830\n      animation.stop();\n\n      scope.dispatchEvent({\n        type: \"sessionend\",\n      });\n\n      scope.isPresenting = false;\n    }\n\n    function onRequestReferenceSpace(value) {\n      referenceSpace = value;\n\n      animation.setContext(session);\n      animation.start();\n\n      scope.dispatchEvent({\n        type: \"sessionstart\",\n      });\n\n      scope.isPresenting = true;\n    }\n\n    this.setFramebufferScaleFactor = function (/* value */) {\n      // framebufferScaleFactor = value;\n    };\n\n    this.setReferenceSpaceType = function (value) {\n      referenceSpaceType = value;\n    };\n\n    this.getReferenceSpace = function () {\n      return referenceSpace;\n    };\n\n    this.getSession = function () {\n      return session;\n    };\n\n    this.setSession = function (value) {\n      session = value;\n\n      if (session !== null) {\n        session.addEventListener(\"select\", onSessionEvent);\n        session.addEventListener(\"selectstart\", onSessionEvent);\n        session.addEventListener(\"selectend\", onSessionEvent);\n        session.addEventListener(\"squeeze\", onSessionEvent);\n        session.addEventListener(\"squeezestart\", onSessionEvent);\n        session.addEventListener(\"squeezeend\", onSessionEvent);\n        session.addEventListener(\"end\", onSessionEnd);\n\n        var attributes = gl.getContextAttributes();\n\n        var layerInit = {\n          antialias: attributes.antialias,\n          alpha: attributes.alpha,\n          depth: attributes.depth,\n          stencil: attributes.stencil,\n        };\n\n        // eslint-disable-next-line no-undef\n        var baseLayer = new XRWebGLLayer(session, gl, layerInit);\n\n        session.updateRenderState({\n          baseLayer: baseLayer,\n        });\n\n        session\n          .requestReferenceSpace(referenceSpaceType)\n          .then(onRequestReferenceSpace);\n\n        //\n\n        session.addEventListener(\"inputsourceschange\", updateInputSources);\n      }\n    };\n\n    function updateInputSources(event) {\n      var inputSources = session.inputSources;\n\n      // Assign inputSources to available controllers\n\n      for (var i = 0; i < controllers.length; i++) {\n        inputSourcesMap.set(inputSources[i], controllers[i]);\n      }\n\n      // Notify disconnected\n\n      for (var i = 0; i < event.removed.length; i++) {\n        var inputSource = event.removed[i];\n        var controller = inputSourcesMap.get(inputSource);\n\n        if (controller) {\n          controller.dispatchEvent({\n            type: \"disconnected\",\n            data: inputSource,\n          });\n          inputSourcesMap.delete(inputSource);\n        }\n      }\n\n      // Notify connected\n\n      for (var i = 0; i < event.added.length; i++) {\n        var inputSource = event.added[i];\n        var controller = inputSourcesMap.get(inputSource);\n\n        if (controller) {\n          controller.dispatchEvent({\n            type: \"connected\",\n            data: inputSource,\n          });\n        }\n      }\n    }\n\n    //\n\n    var cameraLPos = new Vector3();\n    var cameraRPos = new Vector3();\n\n    /**\n     * @author jsantell / https://www.jsantell.com/\n     *\n     * Assumes 2 cameras that are parallel and share an X-axis, and that\n     * the cameras' projection and world matrices have already been set.\n     * And that near and far planes are identical for both cameras.\n     * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n     */\n    function setProjectionFromUnion(camera, cameraL, cameraR) {\n      cameraLPos.setFromMatrixPosition(cameraL.matrixWorld);\n      cameraRPos.setFromMatrixPosition(cameraR.matrixWorld);\n\n      var ipd = cameraLPos.distanceTo(cameraRPos);\n\n      var projL = cameraL.projectionMatrix.elements;\n      var projR = cameraR.projectionMatrix.elements;\n\n      // VR systems will have identical far and near planes, and\n      // most likely identical top and bottom frustum extents.\n      // Use the left camera for these values.\n      var near = projL[14] / (projL[10] - 1);\n      var far = projL[14] / (projL[10] + 1);\n      var topFov = (projL[9] + 1) / projL[5];\n      var bottomFov = (projL[9] - 1) / projL[5];\n\n      var leftFov = (projL[8] - 1) / projL[0];\n      var rightFov = (projR[8] + 1) / projR[0];\n      var left = near * leftFov;\n      var right = near * rightFov;\n\n      // Calculate the new camera's position offset from the\n      // left camera. xOffset should be roughly half `ipd`.\n      var zOffset = ipd / (-leftFov + rightFov);\n      var xOffset = zOffset * -leftFov;\n\n      // TODO: Better way to apply this offset?\n      cameraL.matrixWorld.decompose(\n        camera.position,\n        camera.quaternion,\n        camera.scale\n      );\n      camera.translateX(xOffset);\n      camera.translateZ(zOffset);\n      camera.matrixWorld.compose(\n        camera.position,\n        camera.quaternion,\n        camera.scale\n      );\n      camera.matrixWorldInverse.getInverse(camera.matrixWorld);\n\n      // Find the union of the frustum values of the cameras and scale\n      // the values so that the near plane's position does not change in world space,\n      // although must now be relative to the new union camera.\n      var near2 = near + zOffset;\n      var far2 = far + zOffset;\n      var left2 = left - xOffset;\n      var right2 = right + (ipd - xOffset);\n      var top2 = ((topFov * far) / far2) * near2;\n      var bottom2 = ((bottomFov * far) / far2) * near2;\n\n      camera.projectionMatrix.makePerspective(\n        left2,\n        right2,\n        top2,\n        bottom2,\n        near2,\n        far2\n      );\n    }\n\n    function updateCamera(camera, parent) {\n      if (parent === null) {\n        camera.matrixWorld.copy(camera.matrix);\n      } else {\n        camera.matrixWorld.multiplyMatrices(parent.matrixWorld, camera.matrix);\n      }\n\n      camera.matrixWorldInverse.getInverse(camera.matrixWorld);\n    }\n\n    this.getCamera = function (camera) {\n      var parent = camera.parent;\n      var cameras = cameraVR.cameras;\n\n      updateCamera(cameraVR, parent);\n\n      for (var i = 0; i < cameras.length; i++) {\n        updateCamera(cameras[i], parent);\n      }\n\n      // update camera and its children\n\n      camera.matrixWorld.copy(cameraVR.matrixWorld);\n\n      var children = camera.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].updateMatrixWorld(true);\n      }\n\n      setProjectionFromUnion(cameraVR, cameraL, cameraR);\n\n      return cameraVR;\n    };\n\n    // Animation Loop\n\n    var onAnimationFrameCallback = null;\n\n    function onAnimationFrame(time, frame) {\n      pose = frame.getViewerPose(referenceSpace);\n\n      if (pose !== null) {\n        var views = pose.views;\n        var baseLayer = session.renderState.baseLayer;\n\n        renderer.setFramebuffer(baseLayer.framebuffer);\n\n        for (var i = 0; i < views.length; i++) {\n          var view = views[i];\n          var viewport = baseLayer.getViewport(view);\n          var viewMatrix = view.transform.inverse.matrix;\n\n          var camera = cameraVR.cameras[i];\n          camera.matrix.fromArray(viewMatrix).getInverse(camera.matrix);\n          camera.projectionMatrix.fromArray(view.projectionMatrix);\n          camera.viewport.set(\n            viewport.x,\n            viewport.y,\n            viewport.width,\n            viewport.height\n          );\n\n          if (i === 0) {\n            cameraVR.matrix.copy(camera.matrix);\n          }\n        }\n      }\n\n      //\n\n      var inputSources = session.inputSources;\n\n      for (var i = 0; i < controllers.length; i++) {\n        var controller = controllers[i];\n\n        var inputSource = inputSources[i];\n\n        if (inputSource) {\n          var inputPose = frame.getPose(\n            inputSource.targetRaySpace,\n            referenceSpace\n          );\n\n          if (inputPose !== null) {\n            controller.matrix.fromArray(inputPose.transform.matrix);\n            controller.matrix.decompose(\n              controller.position,\n              controller.rotation,\n              controller.scale\n            );\n            controller.visible = true;\n\n            continue;\n          }\n        }\n\n        controller.visible = false;\n      }\n\n      if (onAnimationFrameCallback) {\n        onAnimationFrameCallback(time, frame);\n      }\n    }\n\n    var animation = new WebGLAnimation();\n    animation.setAnimationLoop(onAnimationFrame);\n\n    this.setAnimationLoop = function (callback) {\n      onAnimationFrameCallback = callback;\n    };\n\n    this.dispose = function () {};\n  }\n\n  Object.assign(WebXRManager.prototype, EventDispatcher.prototype);\n\n  /**\n   * @author supereggbert / http://www.paulbrunt.co.uk/\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   * @author szimek / https://github.com/szimek/\n   * @author tschw\n   */\n\n  function WebGLRenderer(parameters) {\n    parameters = parameters || {};\n\n    var _canvas =\n        parameters.canvas !== undefined\n          ? parameters.canvas\n          : document.createElementNS(\"http://www.w3.org/1999/xhtml\", \"canvas\"),\n      _context = parameters.context !== undefined ? parameters.context : null,\n      _alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n      _depth = parameters.depth !== undefined ? parameters.depth : true,\n      _stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n      _antialias =\n        parameters.antialias !== undefined ? parameters.antialias : false,\n      _premultipliedAlpha =\n        parameters.premultipliedAlpha !== undefined\n          ? parameters.premultipliedAlpha\n          : true,\n      _preserveDrawingBuffer =\n        parameters.preserveDrawingBuffer !== undefined\n          ? parameters.preserveDrawingBuffer\n          : false,\n      _powerPreference =\n        parameters.powerPreference !== undefined\n          ? parameters.powerPreference\n          : \"default\",\n      _failIfMajorPerformanceCaveat =\n        parameters.failIfMajorPerformanceCaveat !== undefined\n          ? parameters.failIfMajorPerformanceCaveat\n          : false;\n\n    var currentRenderList = null;\n    var currentRenderState = null;\n\n    // public properties\n\n    this.domElement = _canvas;\n\n    // Debug configuration container\n    this.debug = {\n      /**\n       * Enables error checking and reporting when shader programs are being compiled\n       * @type {boolean}\n       */\n      checkShaderErrors: true,\n    };\n\n    // clearing\n\n    this.autoClear = true;\n    this.autoClearColor = true;\n    this.autoClearDepth = true;\n    this.autoClearStencil = true;\n\n    // scene graph\n\n    this.sortObjects = true;\n\n    // user-defined clipping\n\n    this.clippingPlanes = [];\n    this.localClippingEnabled = false;\n\n    // physically based shading\n\n    this.gammaFactor = 2.0; // for backwards compatibility\n    this.outputEncoding = LinearEncoding;\n\n    // physical lights\n\n    this.physicallyCorrectLights = false;\n\n    // tone mapping\n\n    this.toneMapping = LinearToneMapping;\n    this.toneMappingExposure = 1.0;\n    this.toneMappingWhitePoint = 1.0;\n\n    // morphs\n\n    this.maxMorphTargets = 8;\n    this.maxMorphNormals = 4;\n\n    // internal properties\n\n    var _this = this,\n      _isContextLost = false,\n      // internal state cache\n\n      _framebuffer = null,\n      _currentActiveCubeFace = 0,\n      _currentActiveMipmapLevel = 0,\n      _currentRenderTarget = null,\n      _currentFramebuffer = null,\n      _currentMaterialId = -1,\n      // geometry and program caching\n\n      _currentGeometryProgram = {\n        geometry: null,\n        program: null,\n        wireframe: false,\n      },\n      _currentCamera = null,\n      _currentArrayCamera = null,\n      _currentViewport = new Vector4(),\n      _currentScissor = new Vector4(),\n      _currentScissorTest = null,\n      //\n\n      _width = _canvas.width,\n      _height = _canvas.height,\n      _pixelRatio = 1,\n      _opaqueSort = null,\n      _transparentSort = null,\n      _viewport = new Vector4(0, 0, _width, _height),\n      _scissor = new Vector4(0, 0, _width, _height),\n      _scissorTest = false,\n      // frustum\n\n      _frustum = new Frustum(),\n      // clipping\n\n      _clipping = new WebGLClipping(),\n      _clippingEnabled = false,\n      _localClippingEnabled = false,\n      // camera matrices cache\n\n      _projScreenMatrix = new Matrix4(),\n      _vector3 = new Vector3();\n\n    function getTargetPixelRatio() {\n      return _currentRenderTarget === null ? _pixelRatio : 1;\n    }\n\n    // initialize\n\n    var _gl;\n\n    try {\n      var contextAttributes = {\n        alpha: _alpha,\n        depth: _depth,\n        stencil: _stencil,\n        antialias: _antialias,\n        premultipliedAlpha: _premultipliedAlpha,\n        preserveDrawingBuffer: _preserveDrawingBuffer,\n        powerPreference: _powerPreference,\n        failIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat,\n        xrCompatible: true,\n      };\n\n      // event listeners must be registered before WebGL context is created, see #12753\n\n      _canvas.addEventListener(\"webglcontextlost\", onContextLost, false);\n      _canvas.addEventListener(\"webglcontextrestored\", onContextRestore, false);\n\n      _gl =\n        _context ||\n        _canvas.getContext(\"webgl\", contextAttributes) ||\n        _canvas.getContext(\"experimental-webgl\", contextAttributes);\n\n      if (_gl === null) {\n        if (_canvas.getContext(\"webgl\") !== null) {\n          throw new Error(\n            \"Error creating WebGL context with your selected attributes.\"\n          );\n        } else {\n          throw new Error(\"Error creating WebGL context.\");\n        }\n      }\n\n      // Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n      if (_gl.getShaderPrecisionFormat === undefined) {\n        _gl.getShaderPrecisionFormat = function () {\n          return {\n            rangeMin: 1,\n            rangeMax: 1,\n            precision: 1,\n          };\n        };\n      }\n    } catch (error) {\n      console.error(\"THREE.WebGLRenderer: \" + error.message);\n      throw error;\n    }\n\n    var extensions, capabilities, state, info;\n    var properties, textures, attributes, geometries, objects;\n    var programCache, renderLists, renderStates;\n\n    var background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n    var utils;\n\n    function initGLContext() {\n      extensions = new WebGLExtensions(_gl);\n\n      capabilities = new WebGLCapabilities(_gl, extensions, parameters);\n\n      if (capabilities.isWebGL2 === false) {\n        extensions.get(\"WEBGL_depth_texture\");\n        extensions.get(\"OES_texture_float\");\n        extensions.get(\"OES_texture_half_float\");\n        extensions.get(\"OES_texture_half_float_linear\");\n        extensions.get(\"OES_standard_derivatives\");\n        extensions.get(\"OES_element_index_uint\");\n        extensions.get(\"ANGLE_instanced_arrays\");\n      }\n\n      extensions.get(\"OES_texture_float_linear\");\n\n      utils = new WebGLUtils(_gl, extensions, capabilities);\n\n      state = new WebGLState(_gl, extensions, capabilities);\n      state.scissor(\n        _currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor()\n      );\n      state.viewport(\n        _currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor()\n      );\n\n      info = new WebGLInfo(_gl);\n      properties = new WebGLProperties();\n      textures = new WebGLTextures(\n        _gl,\n        extensions,\n        state,\n        properties,\n        capabilities,\n        utils,\n        info\n      );\n      attributes = new WebGLAttributes(_gl);\n      geometries = new WebGLGeometries(_gl, attributes, info);\n      objects = new WebGLObjects(_gl, geometries, attributes, info);\n      morphtargets = new WebGLMorphtargets(_gl);\n      programCache = new WebGLPrograms(_this, extensions, capabilities);\n      renderLists = new WebGLRenderLists();\n      renderStates = new WebGLRenderStates();\n\n      background = new WebGLBackground(\n        _this,\n        state,\n        objects,\n        _premultipliedAlpha\n      );\n\n      bufferRenderer = new WebGLBufferRenderer(\n        _gl,\n        extensions,\n        info,\n        capabilities\n      );\n      indexedBufferRenderer = new WebGLIndexedBufferRenderer(\n        _gl,\n        extensions,\n        info,\n        capabilities\n      );\n\n      info.programs = programCache.programs;\n\n      _this.capabilities = capabilities;\n      _this.extensions = extensions;\n      _this.properties = properties;\n      _this.renderLists = renderLists;\n      _this.state = state;\n      _this.info = info;\n    }\n\n    initGLContext();\n\n    // xr\n\n    var xr = new WebXRManager(_this, _gl);\n\n    this.xr = xr;\n\n    // Multiview\n\n    var multiview = new WebGLMultiview(_this, _gl);\n\n    // shadow map\n\n    var shadowMap = new WebGLShadowMap(\n      _this,\n      objects,\n      capabilities.maxTextureSize\n    );\n\n    this.shadowMap = shadowMap;\n\n    // API\n\n    this.getContext = function () {\n      return _gl;\n    };\n\n    this.getContextAttributes = function () {\n      return _gl.getContextAttributes();\n    };\n\n    this.forceContextLoss = function () {\n      var extension = extensions.get(\"WEBGL_lose_context\");\n      if (extension) {\n        extension.loseContext();\n      }\n    };\n\n    this.forceContextRestore = function () {\n      var extension = extensions.get(\"WEBGL_lose_context\");\n      if (extension) {\n        extension.restoreContext();\n      }\n    };\n\n    this.getPixelRatio = function () {\n      return _pixelRatio;\n    };\n\n    this.setPixelRatio = function (value) {\n      if (value === undefined) {\n        return;\n      }\n\n      _pixelRatio = value;\n\n      this.setSize(_width, _height, false);\n    };\n\n    this.getSize = function (target) {\n      if (target === undefined) {\n        console.warn(\n          \"WebGLRenderer: .getsize() now requires a Vector2 as an argument\"\n        );\n\n        target = new Vector2();\n      }\n\n      return target.set(_width, _height);\n    };\n\n    this.setSize = function (width, height, updateStyle) {\n      if (xr.isPresenting) {\n        console.warn(\n          \"THREE.WebGLRenderer: Can't change size while VR device is presenting.\"\n        );\n        return;\n      }\n\n      _width = width;\n      _height = height;\n\n      _canvas.width = Math.floor(width * _pixelRatio);\n      _canvas.height = Math.floor(height * _pixelRatio);\n\n      if (updateStyle !== false) {\n        _canvas.style.width = width + \"px\";\n        _canvas.style.height = height + \"px\";\n      }\n\n      this.setViewport(0, 0, width, height);\n    };\n\n    this.getDrawingBufferSize = function (target) {\n      if (target === undefined) {\n        console.warn(\n          \"WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument\"\n        );\n\n        target = new Vector2();\n      }\n\n      return target.set(_width * _pixelRatio, _height * _pixelRatio).floor();\n    };\n\n    this.setDrawingBufferSize = function (width, height, pixelRatio) {\n      _width = width;\n      _height = height;\n\n      _pixelRatio = pixelRatio;\n\n      _canvas.width = Math.floor(width * pixelRatio);\n      _canvas.height = Math.floor(height * pixelRatio);\n\n      this.setViewport(0, 0, width, height);\n    };\n\n    this.getCurrentViewport = function (target) {\n      if (target === undefined) {\n        console.warn(\n          \"WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument\"\n        );\n\n        target = new Vector4();\n      }\n\n      return target.copy(_currentViewport);\n    };\n\n    this.getViewport = function (target) {\n      return target.copy(_viewport);\n    };\n\n    this.setViewport = function (x, y, width, height) {\n      if (x.isVector4) {\n        _viewport.set(x.x, x.y, x.z, x.w);\n      } else {\n        _viewport.set(x, y, width, height);\n      }\n\n      state.viewport(\n        _currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor()\n      );\n    };\n\n    this.getScissor = function (target) {\n      return target.copy(_scissor);\n    };\n\n    this.setScissor = function (x, y, width, height) {\n      if (x.isVector4) {\n        _scissor.set(x.x, x.y, x.z, x.w);\n      } else {\n        _scissor.set(x, y, width, height);\n      }\n\n      state.scissor(\n        _currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor()\n      );\n    };\n\n    this.getScissorTest = function () {\n      return _scissorTest;\n    };\n\n    this.setScissorTest = function (boolean) {\n      state.setScissorTest((_scissorTest = boolean));\n    };\n\n    this.setOpaqueSort = function (method) {\n      _opaqueSort = method;\n    };\n\n    this.setTransparentSort = function (method) {\n      _transparentSort = method;\n    };\n\n    // Clearing\n\n    this.getClearColor = function () {\n      return background.getClearColor();\n    };\n\n    this.setClearColor = function () {\n      background.setClearColor.apply(background, arguments);\n    };\n\n    this.getClearAlpha = function () {\n      return background.getClearAlpha();\n    };\n\n    this.setClearAlpha = function () {\n      background.setClearAlpha.apply(background, arguments);\n    };\n\n    this.clear = function (color, depth, stencil) {\n      var bits = 0;\n\n      if (color === undefined || color) {\n        bits |= 16384;\n      }\n      if (depth === undefined || depth) {\n        bits |= 256;\n      }\n      if (stencil === undefined || stencil) {\n        bits |= 1024;\n      }\n\n      _gl.clear(bits);\n    };\n\n    this.clearColor = function () {\n      this.clear(true, false, false);\n    };\n\n    this.clearDepth = function () {\n      this.clear(false, true, false);\n    };\n\n    this.clearStencil = function () {\n      this.clear(false, false, true);\n    };\n\n    //\n\n    this.dispose = function () {\n      _canvas.removeEventListener(\"webglcontextlost\", onContextLost, false);\n      _canvas.removeEventListener(\n        \"webglcontextrestored\",\n        onContextRestore,\n        false\n      );\n\n      renderLists.dispose();\n      renderStates.dispose();\n      properties.dispose();\n      objects.dispose();\n\n      xr.dispose();\n\n      animation.stop();\n    };\n\n    // Events\n\n    function onContextLost(event) {\n      event.preventDefault();\n\n      console.log(\"THREE.WebGLRenderer: Context Lost.\");\n\n      _isContextLost = true;\n    }\n\n    function onContextRestore(/* event */) {\n      console.log(\"THREE.WebGLRenderer: Context Restored.\");\n\n      _isContextLost = false;\n\n      initGLContext();\n    }\n\n    function onMaterialDispose(event) {\n      var material = event.target;\n\n      material.removeEventListener(\"dispose\", onMaterialDispose);\n\n      deallocateMaterial(material);\n    }\n\n    // Buffer deallocation\n\n    function deallocateMaterial(material) {\n      releaseMaterialProgramReference(material);\n\n      properties.remove(material);\n    }\n\n    function releaseMaterialProgramReference(material) {\n      var programInfo = properties.get(material).program;\n\n      material.program = undefined;\n\n      if (programInfo !== undefined) {\n        programCache.releaseProgram(programInfo);\n      }\n    }\n\n    // Buffer rendering\n\n    function renderObjectImmediate(object, program) {\n      object.render(function (object) {\n        _this.renderBufferImmediate(object, program);\n      });\n    }\n\n    this.renderBufferImmediate = function (object, program) {\n      state.initAttributes();\n\n      var buffers = properties.get(object);\n\n      if (object.hasPositions && !buffers.position) {\n        buffers.position = _gl.createBuffer();\n      }\n      if (object.hasNormals && !buffers.normal) {\n        buffers.normal = _gl.createBuffer();\n      }\n      if (object.hasUvs && !buffers.uv) {\n        buffers.uv = _gl.createBuffer();\n      }\n      if (object.hasColors && !buffers.color) {\n        buffers.color = _gl.createBuffer();\n      }\n\n      var programAttributes = program.getAttributes();\n\n      if (object.hasPositions) {\n        _gl.bindBuffer(34962, buffers.position);\n        _gl.bufferData(34962, object.positionArray, 35048);\n\n        state.enableAttribute(programAttributes.position);\n        _gl.vertexAttribPointer(\n          programAttributes.position,\n          3,\n          5126,\n          false,\n          0,\n          0\n        );\n      }\n\n      if (object.hasNormals) {\n        _gl.bindBuffer(34962, buffers.normal);\n        _gl.bufferData(34962, object.normalArray, 35048);\n\n        state.enableAttribute(programAttributes.normal);\n        _gl.vertexAttribPointer(programAttributes.normal, 3, 5126, false, 0, 0);\n      }\n\n      if (object.hasUvs) {\n        _gl.bindBuffer(34962, buffers.uv);\n        _gl.bufferData(34962, object.uvArray, 35048);\n\n        state.enableAttribute(programAttributes.uv);\n        _gl.vertexAttribPointer(programAttributes.uv, 2, 5126, false, 0, 0);\n      }\n\n      if (object.hasColors) {\n        _gl.bindBuffer(34962, buffers.color);\n        _gl.bufferData(34962, object.colorArray, 35048);\n\n        state.enableAttribute(programAttributes.color);\n        _gl.vertexAttribPointer(programAttributes.color, 3, 5126, false, 0, 0);\n      }\n\n      state.disableUnusedAttributes();\n\n      _gl.drawArrays(4, 0, object.count);\n\n      object.count = 0;\n    };\n\n    var tempScene = new Scene();\n\n    this.renderBufferDirect = function (\n      camera,\n      scene,\n      geometry,\n      material,\n      object,\n      group\n    ) {\n      if (scene === null) {\n        scene = tempScene;\n      } // renderBufferDirect second parameter used to be fog (could be null)\n\n      var frontFaceCW = object.isMesh && object.matrixWorld.determinant() < 0;\n\n      var program = setProgram(camera, scene, material, object);\n\n      state.setMaterial(material, frontFaceCW);\n\n      var updateBuffers = false;\n\n      if (\n        _currentGeometryProgram.geometry !== geometry.id ||\n        _currentGeometryProgram.program !== program.id ||\n        _currentGeometryProgram.wireframe !== (material.wireframe === true)\n      ) {\n        _currentGeometryProgram.geometry = geometry.id;\n        _currentGeometryProgram.program = program.id;\n        _currentGeometryProgram.wireframe = material.wireframe === true;\n        updateBuffers = true;\n      }\n\n      if (material.morphTargets || material.morphNormals) {\n        morphtargets.update(object, geometry, material, program);\n\n        updateBuffers = true;\n      }\n\n      //\n\n      var index = geometry.index;\n      var position = geometry.attributes.position;\n\n      //\n\n      if (index === null) {\n        if (position === undefined || position.count === 0) {\n          return;\n        }\n      } else if (index.count === 0) {\n        return;\n      }\n\n      //\n\n      var rangeFactor = 1;\n\n      if (material.wireframe === true) {\n        index = geometries.getWireframeAttribute(geometry);\n        rangeFactor = 2;\n      }\n\n      var attribute;\n      var renderer = bufferRenderer;\n\n      if (index !== null) {\n        attribute = attributes.get(index);\n\n        renderer = indexedBufferRenderer;\n        renderer.setIndex(attribute);\n      }\n\n      if (updateBuffers) {\n        setupVertexAttributes(object, geometry, material, program);\n\n        if (index !== null) {\n          _gl.bindBuffer(34963, attribute.buffer);\n        }\n      }\n\n      //\n\n      var dataCount = index !== null ? index.count : position.count;\n\n      var rangeStart = geometry.drawRange.start * rangeFactor;\n      var rangeCount = geometry.drawRange.count * rangeFactor;\n\n      var groupStart = group !== null ? group.start * rangeFactor : 0;\n      var groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n      var drawStart = Math.max(rangeStart, groupStart);\n      var drawEnd =\n        Math.min(dataCount, rangeStart + rangeCount, groupStart + groupCount) -\n        1;\n\n      var drawCount = Math.max(0, drawEnd - drawStart + 1);\n\n      if (drawCount === 0) {\n        return;\n      }\n\n      //\n\n      if (object.isMesh) {\n        if (material.wireframe === true) {\n          state.setLineWidth(\n            material.wireframeLinewidth * getTargetPixelRatio()\n          );\n          renderer.setMode(1);\n        } else {\n          renderer.setMode(4);\n        }\n      } else if (object.isLine) {\n        var lineWidth = material.linewidth;\n\n        if (lineWidth === undefined) {\n          lineWidth = 1;\n        } // Not using Line*Material\n\n        state.setLineWidth(lineWidth * getTargetPixelRatio());\n\n        if (object.isLineSegments) {\n          renderer.setMode(1);\n        } else if (object.isLineLoop) {\n          renderer.setMode(2);\n        } else {\n          renderer.setMode(3);\n        }\n      } else if (object.isPoints) {\n        renderer.setMode(0);\n      } else if (object.isSprite) {\n        renderer.setMode(4);\n      }\n\n      if (object.isInstancedMesh) {\n        renderer.renderInstances(geometry, drawStart, drawCount, object.count);\n      } else if (geometry.isInstancedBufferGeometry) {\n        renderer.renderInstances(\n          geometry,\n          drawStart,\n          drawCount,\n          geometry.maxInstancedCount\n        );\n      } else {\n        renderer.render(drawStart, drawCount);\n      }\n    };\n\n    function setupVertexAttributes(object, geometry, material, program) {\n      if (\n        capabilities.isWebGL2 === false &&\n        (object.isInstancedMesh || geometry.isInstancedBufferGeometry)\n      ) {\n        if (extensions.get(\"ANGLE_instanced_arrays\") === null) {\n          return;\n        }\n      }\n\n      state.initAttributes();\n\n      var geometryAttributes = geometry.attributes;\n\n      var programAttributes = program.getAttributes();\n\n      var materialDefaultAttributeValues = material.defaultAttributeValues;\n\n      for (var name in programAttributes) {\n        var programAttribute = programAttributes[name];\n\n        if (programAttribute >= 0) {\n          var geometryAttribute = geometryAttributes[name];\n\n          if (geometryAttribute !== undefined) {\n            var normalized = geometryAttribute.normalized;\n            var size = geometryAttribute.itemSize;\n\n            var attribute = attributes.get(geometryAttribute);\n\n            // TODO Attribute may not be available on context restore\n\n            if (attribute === undefined) {\n              continue;\n            }\n\n            var buffer = attribute.buffer;\n            var type = attribute.type;\n            var bytesPerElement = attribute.bytesPerElement;\n\n            if (geometryAttribute.isInterleavedBufferAttribute) {\n              var data = geometryAttribute.data;\n              var stride = data.stride;\n              var offset = geometryAttribute.offset;\n\n              if (data && data.isInstancedInterleavedBuffer) {\n                state.enableAttributeAndDivisor(\n                  programAttribute,\n                  data.meshPerAttribute\n                );\n\n                if (geometry.maxInstancedCount === undefined) {\n                  geometry.maxInstancedCount =\n                    data.meshPerAttribute * data.count;\n                }\n              } else {\n                state.enableAttribute(programAttribute);\n              }\n\n              _gl.bindBuffer(34962, buffer);\n              _gl.vertexAttribPointer(\n                programAttribute,\n                size,\n                type,\n                normalized,\n                stride * bytesPerElement,\n                offset * bytesPerElement\n              );\n            } else {\n              if (geometryAttribute.isInstancedBufferAttribute) {\n                state.enableAttributeAndDivisor(\n                  programAttribute,\n                  geometryAttribute.meshPerAttribute\n                );\n\n                if (geometry.maxInstancedCount === undefined) {\n                  geometry.maxInstancedCount =\n                    geometryAttribute.meshPerAttribute *\n                    geometryAttribute.count;\n                }\n              } else {\n                state.enableAttribute(programAttribute);\n              }\n\n              _gl.bindBuffer(34962, buffer);\n              _gl.vertexAttribPointer(\n                programAttribute,\n                size,\n                type,\n                normalized,\n                0,\n                0\n              );\n            }\n          } else if (name === \"instanceMatrix\") {\n            var attribute = attributes.get(object.instanceMatrix);\n\n            // TODO Attribute may not be available on context restore\n\n            if (attribute === undefined) {\n              continue;\n            }\n\n            var buffer = attribute.buffer;\n            var type = attribute.type;\n\n            state.enableAttributeAndDivisor(programAttribute + 0, 1);\n            state.enableAttributeAndDivisor(programAttribute + 1, 1);\n            state.enableAttributeAndDivisor(programAttribute + 2, 1);\n            state.enableAttributeAndDivisor(programAttribute + 3, 1);\n\n            _gl.bindBuffer(34962, buffer);\n\n            _gl.vertexAttribPointer(\n              programAttribute + 0,\n              4,\n              type,\n              false,\n              64,\n              0\n            );\n            _gl.vertexAttribPointer(\n              programAttribute + 1,\n              4,\n              type,\n              false,\n              64,\n              16\n            );\n            _gl.vertexAttribPointer(\n              programAttribute + 2,\n              4,\n              type,\n              false,\n              64,\n              32\n            );\n            _gl.vertexAttribPointer(\n              programAttribute + 3,\n              4,\n              type,\n              false,\n              64,\n              48\n            );\n          } else if (materialDefaultAttributeValues !== undefined) {\n            var value = materialDefaultAttributeValues[name];\n\n            if (value !== undefined) {\n              switch (value.length) {\n                case 2:\n                  _gl.vertexAttrib2fv(programAttribute, value);\n                  break;\n\n                case 3:\n                  _gl.vertexAttrib3fv(programAttribute, value);\n                  break;\n\n                case 4:\n                  _gl.vertexAttrib4fv(programAttribute, value);\n                  break;\n\n                default:\n                  _gl.vertexAttrib1fv(programAttribute, value);\n              }\n            }\n          }\n        }\n      }\n\n      state.disableUnusedAttributes();\n    }\n\n    // Compile\n\n    this.compile = function (scene, camera) {\n      currentRenderState = renderStates.get(scene, camera);\n      currentRenderState.init();\n\n      scene.traverse(function (object) {\n        if (object.isLight) {\n          currentRenderState.pushLight(object);\n\n          if (object.castShadow) {\n            currentRenderState.pushShadow(object);\n          }\n        }\n      });\n\n      currentRenderState.setupLights(camera);\n\n      scene.traverse(function (object) {\n        if (object.material) {\n          if (Array.isArray(object.material)) {\n            for (var i = 0; i < object.material.length; i++) {\n              initMaterial(object.material[i], scene, object);\n            }\n          } else {\n            initMaterial(object.material, scene, object);\n          }\n        }\n      });\n    };\n\n    // Animation Loop\n\n    var onAnimationFrameCallback = null;\n\n    function onAnimationFrame(time) {\n      if (xr.isPresenting) {\n        return;\n      }\n      if (onAnimationFrameCallback) {\n        onAnimationFrameCallback(time);\n      }\n    }\n\n    var animation = new WebGLAnimation();\n    animation.setAnimationLoop(onAnimationFrame);\n\n    if (typeof window !== \"undefined\") {\n      animation.setContext(window);\n    }\n\n    this.setAnimationLoop = function (callback) {\n      onAnimationFrameCallback = callback;\n      xr.setAnimationLoop(callback);\n\n      animation.start();\n    };\n\n    // Rendering\n\n    this.render = function (scene, camera) {\n      var renderTarget, forceClear;\n\n      if (arguments[2] !== undefined) {\n        console.warn(\n          \"THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.\"\n        );\n        renderTarget = arguments[2];\n      }\n\n      if (arguments[3] !== undefined) {\n        console.warn(\n          \"THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.\"\n        );\n        forceClear = arguments[3];\n      }\n\n      if (!(camera && camera.isCamera)) {\n        console.error(\n          \"THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.\"\n        );\n        return;\n      }\n\n      if (_isContextLost) {\n        return;\n      }\n\n      // reset caching for this frame\n\n      _currentGeometryProgram.geometry = null;\n      _currentGeometryProgram.program = null;\n      _currentGeometryProgram.wireframe = false;\n      _currentMaterialId = -1;\n      _currentCamera = null;\n\n      // update scene graph\n\n      if (scene.autoUpdate === true) {\n        scene.updateMatrixWorld();\n      }\n\n      // update camera matrices and frustum\n\n      if (camera.parent === null) {\n        camera.updateMatrixWorld();\n      }\n\n      if (xr.enabled && xr.isPresenting) {\n        camera = xr.getCamera(camera);\n      }\n\n      //\n\n      currentRenderState = renderStates.get(scene, camera);\n      currentRenderState.init();\n\n      scene.onBeforeRender(\n        _this,\n        scene,\n        camera,\n        renderTarget || _currentRenderTarget\n      );\n\n      _projScreenMatrix.multiplyMatrices(\n        camera.projectionMatrix,\n        camera.matrixWorldInverse\n      );\n      _frustum.setFromMatrix(_projScreenMatrix);\n\n      _localClippingEnabled = this.localClippingEnabled;\n      _clippingEnabled = _clipping.init(\n        this.clippingPlanes,\n        _localClippingEnabled,\n        camera\n      );\n\n      currentRenderList = renderLists.get(scene, camera);\n      currentRenderList.init();\n\n      projectObject(scene, camera, 0, _this.sortObjects);\n\n      if (_this.sortObjects === true) {\n        currentRenderList.sort(_opaqueSort, _transparentSort);\n      }\n\n      //\n\n      if (_clippingEnabled) {\n        _clipping.beginShadows();\n      }\n\n      var shadowsArray = currentRenderState.state.shadowsArray;\n\n      shadowMap.render(shadowsArray, scene, camera);\n\n      currentRenderState.setupLights(camera);\n\n      if (_clippingEnabled) {\n        _clipping.endShadows();\n      }\n\n      //\n\n      if (this.info.autoReset) {\n        this.info.reset();\n      }\n\n      if (renderTarget !== undefined) {\n        this.setRenderTarget(renderTarget);\n      }\n\n      if (xr.enabled && multiview.isAvailable()) {\n        multiview.attachCamera(camera);\n      }\n\n      //\n\n      background.render(currentRenderList, scene, camera, forceClear);\n\n      // render scene\n\n      var opaqueObjects = currentRenderList.opaque;\n      var transparentObjects = currentRenderList.transparent;\n\n      if (scene.overrideMaterial) {\n        var overrideMaterial = scene.overrideMaterial;\n\n        if (opaqueObjects.length) {\n          renderObjects(opaqueObjects, scene, camera, overrideMaterial);\n        }\n        if (transparentObjects.length) {\n          renderObjects(transparentObjects, scene, camera, overrideMaterial);\n        }\n      } else {\n        // opaque pass (front-to-back order)\n\n        if (opaqueObjects.length) {\n          renderObjects(opaqueObjects, scene, camera);\n        }\n\n        // transparent pass (back-to-front order)\n\n        if (transparentObjects.length) {\n          renderObjects(transparentObjects, scene, camera);\n        }\n      }\n\n      //\n\n      scene.onAfterRender(_this, scene, camera);\n\n      //\n\n      if (_currentRenderTarget !== null) {\n        // Generate mipmap if we're using any kind of mipmap filtering\n\n        textures.updateRenderTargetMipmap(_currentRenderTarget);\n\n        // resolve multisample renderbuffers to a single-sample texture if necessary\n\n        textures.updateMultisampleRenderTarget(_currentRenderTarget);\n      }\n\n      // Ensure depth buffer writing is enabled so it can be cleared on next render\n\n      state.buffers.depth.setTest(true);\n      state.buffers.depth.setMask(true);\n      state.buffers.color.setMask(true);\n\n      state.setPolygonOffset(false);\n\n      if (xr.enabled) {\n        if (multiview.isAvailable()) {\n          multiview.detachCamera(camera);\n        }\n      }\n\n      // _gl.finish();\n\n      currentRenderList = null;\n      currentRenderState = null;\n    };\n\n    function projectObject(object, camera, groupOrder, sortObjects) {\n      if (object.visible === false) {\n        return;\n      }\n\n      var visible = object.layers.test(camera.layers);\n\n      if (visible) {\n        if (object.isGroup) {\n          groupOrder = object.renderOrder;\n        } else if (object.isLOD) {\n          if (object.autoUpdate === true) {\n            object.update(camera);\n          }\n        } else if (object.isLight) {\n          currentRenderState.pushLight(object);\n\n          if (object.castShadow) {\n            currentRenderState.pushShadow(object);\n          }\n        } else if (object.isSprite) {\n          if (!object.frustumCulled || _frustum.intersectsSprite(object)) {\n            if (sortObjects) {\n              _vector3\n                .setFromMatrixPosition(object.matrixWorld)\n                .applyMatrix4(_projScreenMatrix);\n            }\n\n            var geometry = objects.update(object);\n            var material = object.material;\n\n            if (material.visible) {\n              currentRenderList.push(\n                object,\n                geometry,\n                material,\n                groupOrder,\n                _vector3.z,\n                null\n              );\n            }\n          }\n        } else if (object.isImmediateRenderObject) {\n          if (sortObjects) {\n            _vector3\n              .setFromMatrixPosition(object.matrixWorld)\n              .applyMatrix4(_projScreenMatrix);\n          }\n\n          currentRenderList.push(\n            object,\n            null,\n            object.material,\n            groupOrder,\n            _vector3.z,\n            null\n          );\n        } else if (object.isMesh || object.isLine || object.isPoints) {\n          if (object.isSkinnedMesh) {\n            // update skeleton only once in a frame\n\n            if (object.skeleton.frame !== info.render.frame) {\n              object.skeleton.update();\n              object.skeleton.frame = info.render.frame;\n            }\n          }\n\n          if (!object.frustumCulled || _frustum.intersectsObject(object)) {\n            if (sortObjects) {\n              _vector3\n                .setFromMatrixPosition(object.matrixWorld)\n                .applyMatrix4(_projScreenMatrix);\n            }\n\n            var geometry = objects.update(object);\n            var material = object.material;\n\n            if (Array.isArray(material)) {\n              var groups = geometry.groups;\n\n              for (var i = 0, l = groups.length; i < l; i++) {\n                var group = groups[i];\n                var groupMaterial = material[group.materialIndex];\n\n                if (groupMaterial && groupMaterial.visible) {\n                  currentRenderList.push(\n                    object,\n                    geometry,\n                    groupMaterial,\n                    groupOrder,\n                    _vector3.z,\n                    group\n                  );\n                }\n              }\n            } else if (material.visible) {\n              currentRenderList.push(\n                object,\n                geometry,\n                material,\n                groupOrder,\n                _vector3.z,\n                null\n              );\n            }\n          }\n        }\n      }\n\n      var children = object.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        projectObject(children[i], camera, groupOrder, sortObjects);\n      }\n    }\n\n    function renderObjects(renderList, scene, camera, overrideMaterial) {\n      for (var i = 0, l = renderList.length; i < l; i++) {\n        var renderItem = renderList[i];\n\n        var object = renderItem.object;\n        var geometry = renderItem.geometry;\n        var material =\n          overrideMaterial === undefined\n            ? renderItem.material\n            : overrideMaterial;\n        var group = renderItem.group;\n\n        if (camera.isArrayCamera) {\n          _currentArrayCamera = camera;\n\n          if (xr.enabled && multiview.isAvailable()) {\n            renderObject(object, scene, camera, geometry, material, group);\n          } else {\n            var cameras = camera.cameras;\n\n            for (var j = 0, jl = cameras.length; j < jl; j++) {\n              var camera2 = cameras[j];\n\n              if (object.layers.test(camera2.layers)) {\n                state.viewport(_currentViewport.copy(camera2.viewport));\n\n                currentRenderState.setupLights(camera2);\n\n                renderObject(object, scene, camera2, geometry, material, group);\n              }\n            }\n          }\n        } else {\n          _currentArrayCamera = null;\n\n          renderObject(object, scene, camera, geometry, material, group);\n        }\n      }\n    }\n\n    function renderObject(object, scene, camera, geometry, material, group) {\n      object.onBeforeRender(_this, scene, camera, geometry, material, group);\n      currentRenderState = renderStates.get(\n        scene,\n        _currentArrayCamera || camera\n      );\n\n      object.modelViewMatrix.multiplyMatrices(\n        camera.matrixWorldInverse,\n        object.matrixWorld\n      );\n      object.normalMatrix.getNormalMatrix(object.modelViewMatrix);\n\n      if (object.isImmediateRenderObject) {\n        var program = setProgram(camera, scene, material, object);\n\n        state.setMaterial(material);\n\n        _currentGeometryProgram.geometry = null;\n        _currentGeometryProgram.program = null;\n        _currentGeometryProgram.wireframe = false;\n\n        renderObjectImmediate(object, program);\n      } else {\n        _this.renderBufferDirect(\n          camera,\n          scene,\n          geometry,\n          material,\n          object,\n          group\n        );\n      }\n\n      object.onAfterRender(_this, scene, camera, geometry, material, group);\n      currentRenderState = renderStates.get(\n        scene,\n        _currentArrayCamera || camera\n      );\n    }\n\n    function initMaterial(material, scene, object) {\n      var materialProperties = properties.get(material);\n\n      var lights = currentRenderState.state.lights;\n      var shadowsArray = currentRenderState.state.shadowsArray;\n\n      var lightsStateVersion = lights.state.version;\n\n      var parameters = programCache.getParameters(\n        material,\n        lights.state,\n        shadowsArray,\n        scene,\n        _clipping.numPlanes,\n        _clipping.numIntersection,\n        object\n      );\n\n      var programCacheKey = programCache.getProgramCacheKey(\n        material,\n        parameters\n      );\n\n      var program = materialProperties.program;\n      var programChange = true;\n\n      if (program === undefined) {\n        // new material\n        material.addEventListener(\"dispose\", onMaterialDispose);\n      } else if (program.cacheKey !== programCacheKey) {\n        // changed glsl or parameters\n        releaseMaterialProgramReference(material);\n      } else if (materialProperties.lightsStateVersion !== lightsStateVersion) {\n        materialProperties.lightsStateVersion = lightsStateVersion;\n\n        programChange = false;\n      } else if (parameters.shaderID !== undefined) {\n        // same glsl and uniform list\n        return;\n      } else {\n        // only rebuild uniform list\n        programChange = false;\n      }\n\n      if (programChange) {\n        if (parameters.shaderID) {\n          var shader = ShaderLib[parameters.shaderID];\n\n          materialProperties.shader = {\n            name: material.type,\n            uniforms: cloneUniforms(shader.uniforms),\n            vertexShader: shader.vertexShader,\n            fragmentShader: shader.fragmentShader,\n          };\n        } else {\n          materialProperties.shader = {\n            name: material.type,\n            uniforms: material.uniforms,\n            vertexShader: material.vertexShader,\n            fragmentShader: material.fragmentShader,\n          };\n        }\n\n        material.onBeforeCompile(materialProperties.shader, _this);\n\n        // Computing cache key again as onBeforeCompile may have changed the shaders\n        programCacheKey = programCache.getProgramCacheKey(material, parameters);\n\n        program = programCache.acquireProgram(\n          material,\n          materialProperties.shader,\n          parameters,\n          programCacheKey\n        );\n\n        materialProperties.program = program;\n        materialProperties.environment = material.isMeshStandardMaterial\n          ? scene.environment\n          : null;\n        materialProperties.outputEncoding = _this.outputEncoding;\n        material.program = program;\n      }\n\n      var programAttributes = program.getAttributes();\n\n      if (material.morphTargets) {\n        material.numSupportedMorphTargets = 0;\n\n        for (var i = 0; i < _this.maxMorphTargets; i++) {\n          if (programAttributes[\"morphTarget\" + i] >= 0) {\n            material.numSupportedMorphTargets++;\n          }\n        }\n      }\n\n      if (material.morphNormals) {\n        material.numSupportedMorphNormals = 0;\n\n        for (var i = 0; i < _this.maxMorphNormals; i++) {\n          if (programAttributes[\"morphNormal\" + i] >= 0) {\n            material.numSupportedMorphNormals++;\n          }\n        }\n      }\n\n      var uniforms = materialProperties.shader.uniforms;\n\n      if (\n        (!material.isShaderMaterial && !material.isRawShaderMaterial) ||\n        material.clipping === true\n      ) {\n        materialProperties.numClippingPlanes = _clipping.numPlanes;\n        materialProperties.numIntersection = _clipping.numIntersection;\n        uniforms.clippingPlanes = _clipping.uniform;\n      }\n\n      materialProperties.fog = scene.fog;\n\n      // store the light setup it was created for\n\n      materialProperties.needsLights = materialNeedsLights(material);\n      materialProperties.lightsStateVersion = lightsStateVersion;\n\n      if (materialProperties.needsLights) {\n        // wire up the material to this renderer's lighting state\n\n        uniforms.ambientLightColor.value = lights.state.ambient;\n        uniforms.lightProbe.value = lights.state.probe;\n        uniforms.directionalLights.value = lights.state.directional;\n        uniforms.spotLights.value = lights.state.spot;\n        uniforms.rectAreaLights.value = lights.state.rectArea;\n        uniforms.pointLights.value = lights.state.point;\n        uniforms.hemisphereLights.value = lights.state.hemi;\n\n        uniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n        uniforms.directionalShadowMatrix.value =\n          lights.state.directionalShadowMatrix;\n        uniforms.spotShadowMap.value = lights.state.spotShadowMap;\n        uniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n        uniforms.pointShadowMap.value = lights.state.pointShadowMap;\n        uniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n        // TODO (abelnation): add area lights shadow info to uniforms\n      }\n\n      var progUniforms = materialProperties.program.getUniforms(),\n        uniformsList = WebGLUniforms.seqWithValue(progUniforms.seq, uniforms);\n\n      materialProperties.uniformsList = uniformsList;\n    }\n\n    function setProgram(camera, scene, material, object) {\n      textures.resetTextureUnits();\n\n      var fog = scene.fog;\n      var environment = material.isMeshStandardMaterial\n        ? scene.environment\n        : null;\n\n      var materialProperties = properties.get(material);\n      var lights = currentRenderState.state.lights;\n\n      if (_clippingEnabled) {\n        if (_localClippingEnabled || camera !== _currentCamera) {\n          var useCache =\n            camera === _currentCamera && material.id === _currentMaterialId;\n\n          // we might want to call this function with some ClippingGroup\n          // object instead of the material, once it becomes feasible\n          // (#8465, #8379)\n          _clipping.setState(\n            material.clippingPlanes,\n            material.clipIntersection,\n            material.clipShadows,\n            camera,\n            materialProperties,\n            useCache\n          );\n        }\n      }\n\n      if (material.version === materialProperties.__version) {\n        if (materialProperties.program === undefined) {\n          material.needsUpdate = true;\n        } else if (material.fog && materialProperties.fog !== fog) {\n          material.needsUpdate = true;\n        } else if (materialProperties.environment !== environment) {\n          material.needsUpdate = true;\n        } else if (\n          materialProperties.needsLights &&\n          materialProperties.lightsStateVersion !== lights.state.version\n        ) {\n          material.needsUpdate = true;\n        } else if (\n          materialProperties.numClippingPlanes !== undefined &&\n          (materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n            materialProperties.numIntersection !== _clipping.numIntersection)\n        ) {\n          material.needsUpdate = true;\n        } else if (materialProperties.outputEncoding !== _this.outputEncoding) {\n          material.needsUpdate = true;\n        }\n      }\n\n      if (material.version !== materialProperties.__version) {\n        initMaterial(material, scene, object);\n        materialProperties.__version = material.version;\n      }\n\n      var refreshProgram = false;\n      var refreshMaterial = false;\n      var refreshLights = false;\n\n      var program = materialProperties.program,\n        p_uniforms = program.getUniforms(),\n        m_uniforms = materialProperties.shader.uniforms;\n\n      if (state.useProgram(program.program)) {\n        refreshProgram = true;\n        refreshMaterial = true;\n        refreshLights = true;\n      }\n\n      if (material.id !== _currentMaterialId) {\n        _currentMaterialId = material.id;\n\n        refreshMaterial = true;\n      }\n\n      if (refreshProgram || _currentCamera !== camera) {\n        if (program.numMultiviewViews > 0) {\n          multiview.updateCameraProjectionMatricesUniform(camera, p_uniforms);\n        } else {\n          p_uniforms.setValue(_gl, \"projectionMatrix\", camera.projectionMatrix);\n        }\n\n        if (capabilities.logarithmicDepthBuffer) {\n          p_uniforms.setValue(\n            _gl,\n            \"logDepthBufFC\",\n            2.0 / (Math.log(camera.far + 1.0) / Math.LN2)\n          );\n        }\n\n        if (_currentCamera !== camera) {\n          _currentCamera = camera;\n\n          // lighting uniforms depend on the camera so enforce an update\n          // now, in case this material supports lights - or later, when\n          // the next material that does gets activated:\n\n          refreshMaterial = true; // set to true on material change\n          refreshLights = true; // remains set until update done\n        }\n\n        // load material specific uniforms\n        // (shader material also gets them for the sake of genericity)\n\n        if (\n          material.isShaderMaterial ||\n          material.isMeshPhongMaterial ||\n          material.isMeshToonMaterial ||\n          material.isMeshStandardMaterial ||\n          material.envMap\n        ) {\n          var uCamPos = p_uniforms.map.cameraPosition;\n\n          if (uCamPos !== undefined) {\n            uCamPos.setValue(\n              _gl,\n              _vector3.setFromMatrixPosition(camera.matrixWorld)\n            );\n          }\n        }\n\n        if (\n          material.isMeshPhongMaterial ||\n          material.isMeshToonMaterial ||\n          material.isMeshLambertMaterial ||\n          material.isMeshBasicMaterial ||\n          material.isMeshStandardMaterial ||\n          material.isShaderMaterial\n        ) {\n          p_uniforms.setValue(\n            _gl,\n            \"isOrthographic\",\n            camera.isOrthographicCamera === true\n          );\n        }\n\n        if (\n          material.isMeshPhongMaterial ||\n          material.isMeshToonMaterial ||\n          material.isMeshLambertMaterial ||\n          material.isMeshBasicMaterial ||\n          material.isMeshStandardMaterial ||\n          material.isShaderMaterial ||\n          material.skinning\n        ) {\n          if (program.numMultiviewViews > 0) {\n            multiview.updateCameraViewMatricesUniform(camera, p_uniforms);\n          } else {\n            p_uniforms.setValue(_gl, \"viewMatrix\", camera.matrixWorldInverse);\n          }\n        }\n      }\n\n      // skinning uniforms must be set even if material didn't change\n      // auto-setting of texture unit for bone texture must go before other textures\n      // not sure why, but otherwise weird things happen\n\n      if (material.skinning) {\n        p_uniforms.setOptional(_gl, object, \"bindMatrix\");\n        p_uniforms.setOptional(_gl, object, \"bindMatrixInverse\");\n\n        var skeleton = object.skeleton;\n\n        if (skeleton) {\n          var bones = skeleton.bones;\n\n          if (capabilities.floatVertexTextures) {\n            if (skeleton.boneTexture === undefined) {\n              // layout (1 matrix = 4 pixels)\n              //      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n              //  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n              //       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n              //       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n              //       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n              var size = Math.sqrt(bones.length * 4); // 4 pixels needed for 1 matrix\n              size = _Math.ceilPowerOfTwo(size);\n              size = Math.max(size, 4);\n\n              var boneMatrices = new Float32Array(size * size * 4); // 4 floats per RGBA pixel\n              boneMatrices.set(skeleton.boneMatrices); // copy current values\n\n              var boneTexture = new DataTexture(\n                boneMatrices,\n                size,\n                size,\n                RGBAFormat,\n                FloatType\n              );\n\n              skeleton.boneMatrices = boneMatrices;\n              skeleton.boneTexture = boneTexture;\n              skeleton.boneTextureSize = size;\n            }\n\n            p_uniforms.setValue(\n              _gl,\n              \"boneTexture\",\n              skeleton.boneTexture,\n              textures\n            );\n            p_uniforms.setValue(\n              _gl,\n              \"boneTextureSize\",\n              skeleton.boneTextureSize\n            );\n          } else {\n            p_uniforms.setOptional(_gl, skeleton, \"boneMatrices\");\n          }\n        }\n      }\n\n      if (\n        refreshMaterial ||\n        materialProperties.receiveShadow !== object.receiveShadow\n      ) {\n        materialProperties.receiveShadow = object.receiveShadow;\n        p_uniforms.setValue(_gl, \"receiveShadow\", object.receiveShadow);\n      }\n\n      if (refreshMaterial) {\n        p_uniforms.setValue(\n          _gl,\n          \"toneMappingExposure\",\n          _this.toneMappingExposure\n        );\n        p_uniforms.setValue(\n          _gl,\n          \"toneMappingWhitePoint\",\n          _this.toneMappingWhitePoint\n        );\n\n        if (materialProperties.needsLights) {\n          // the current material requires lighting info\n\n          // note: all lighting uniforms are always set correctly\n          // they simply reference the renderer's state for their\n          // values\n          //\n          // use the current material's .needsUpdate flags to set\n          // the GL state when required\n\n          markUniformsLightsNeedsUpdate(m_uniforms, refreshLights);\n        }\n\n        // refresh uniforms common to several materials\n\n        if (fog && material.fog) {\n          refreshUniformsFog(m_uniforms, fog);\n        }\n\n        if (material.isMeshBasicMaterial) {\n          refreshUniformsCommon(m_uniforms, material);\n        } else if (material.isMeshLambertMaterial) {\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsLambert(m_uniforms, material);\n        } else if (material.isMeshToonMaterial) {\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsToon(m_uniforms, material);\n        } else if (material.isMeshPhongMaterial) {\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsPhong(m_uniforms, material);\n        } else if (material.isMeshStandardMaterial) {\n          refreshUniformsCommon(m_uniforms, material, environment);\n\n          if (material.isMeshPhysicalMaterial) {\n            refreshUniformsPhysical(m_uniforms, material, environment);\n          } else {\n            refreshUniformsStandard(m_uniforms, material, environment);\n          }\n        } else if (material.isMeshMatcapMaterial) {\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsMatcap(m_uniforms, material);\n        } else if (material.isMeshDepthMaterial) {\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsDepth(m_uniforms, material);\n        } else if (material.isMeshDistanceMaterial) {\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsDistance(m_uniforms, material);\n        } else if (material.isMeshNormalMaterial) {\n          refreshUniformsCommon(m_uniforms, material);\n          refreshUniformsNormal(m_uniforms, material);\n        } else if (material.isLineBasicMaterial) {\n          refreshUniformsLine(m_uniforms, material);\n\n          if (material.isLineDashedMaterial) {\n            refreshUniformsDash(m_uniforms, material);\n          }\n        } else if (material.isPointsMaterial) {\n          refreshUniformsPoints(m_uniforms, material);\n        } else if (material.isSpriteMaterial) {\n          refreshUniformsSprites(m_uniforms, material);\n        } else if (material.isShadowMaterial) {\n          m_uniforms.color.value.copy(material.color);\n          m_uniforms.opacity.value = material.opacity;\n        }\n\n        // RectAreaLight Texture\n        // TODO (mrdoob): Find a nicer implementation\n\n        if (m_uniforms.ltc_1 !== undefined) {\n          m_uniforms.ltc_1.value = UniformsLib.LTC_1;\n        }\n        if (m_uniforms.ltc_2 !== undefined) {\n          m_uniforms.ltc_2.value = UniformsLib.LTC_2;\n        }\n\n        WebGLUniforms.upload(\n          _gl,\n          materialProperties.uniformsList,\n          m_uniforms,\n          textures\n        );\n\n        if (material.isShaderMaterial) {\n          material.uniformsNeedUpdate = false; // #15581\n        }\n      }\n\n      if (material.isShaderMaterial && material.uniformsNeedUpdate === true) {\n        WebGLUniforms.upload(\n          _gl,\n          materialProperties.uniformsList,\n          m_uniforms,\n          textures\n        );\n        material.uniformsNeedUpdate = false;\n      }\n\n      if (material.isSpriteMaterial) {\n        p_uniforms.setValue(_gl, \"center\", object.center);\n      }\n\n      // common matrices\n\n      if (program.numMultiviewViews > 0) {\n        multiview.updateObjectMatricesUniforms(object, camera, p_uniforms);\n      } else {\n        p_uniforms.setValue(_gl, \"modelViewMatrix\", object.modelViewMatrix);\n        p_uniforms.setValue(_gl, \"normalMatrix\", object.normalMatrix);\n      }\n\n      p_uniforms.setValue(_gl, \"modelMatrix\", object.matrixWorld);\n\n      return program;\n    }\n\n    // Uniforms (refresh uniforms objects)\n\n    function refreshUniformsCommon(uniforms, material, environment) {\n      uniforms.opacity.value = material.opacity;\n\n      if (material.color) {\n        uniforms.diffuse.value.copy(material.color);\n      }\n\n      if (material.emissive) {\n        uniforms.emissive.value\n          .copy(material.emissive)\n          .multiplyScalar(material.emissiveIntensity);\n      }\n\n      if (material.map) {\n        uniforms.map.value = material.map;\n      }\n\n      if (material.alphaMap) {\n        uniforms.alphaMap.value = material.alphaMap;\n      }\n\n      if (material.specularMap) {\n        uniforms.specularMap.value = material.specularMap;\n      }\n\n      var envMap = material.envMap || environment;\n\n      if (envMap) {\n        uniforms.envMap.value = envMap;\n\n        // don't flip CubeTexture envMaps, flip everything else:\n        //  WebGLRenderTargetCube will be flipped for backwards compatibility\n        //  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n        // this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n        uniforms.flipEnvMap.value = envMap.isCubeTexture ? -1 : 1;\n\n        uniforms.reflectivity.value = material.reflectivity;\n        uniforms.refractionRatio.value = material.refractionRatio;\n\n        uniforms.maxMipLevel.value = properties.get(envMap).__maxMipLevel;\n      }\n\n      if (material.lightMap) {\n        uniforms.lightMap.value = material.lightMap;\n        uniforms.lightMapIntensity.value = material.lightMapIntensity;\n      }\n\n      if (material.aoMap) {\n        uniforms.aoMap.value = material.aoMap;\n        uniforms.aoMapIntensity.value = material.aoMapIntensity;\n      }\n\n      // uv repeat and offset setting priorities\n      // 1. color map\n      // 2. specular map\n      // 3. normal map\n      // 4. bump map\n      // 5. alpha map\n      // 6. emissive map\n\n      var uvScaleMap;\n\n      if (material.map) {\n        uvScaleMap = material.map;\n      } else if (material.specularMap) {\n        uvScaleMap = material.specularMap;\n      } else if (material.displacementMap) {\n        uvScaleMap = material.displacementMap;\n      } else if (material.normalMap) {\n        uvScaleMap = material.normalMap;\n      } else if (material.bumpMap) {\n        uvScaleMap = material.bumpMap;\n      } else if (material.roughnessMap) {\n        uvScaleMap = material.roughnessMap;\n      } else if (material.metalnessMap) {\n        uvScaleMap = material.metalnessMap;\n      } else if (material.alphaMap) {\n        uvScaleMap = material.alphaMap;\n      } else if (material.emissiveMap) {\n        uvScaleMap = material.emissiveMap;\n      }\n\n      if (uvScaleMap !== undefined) {\n        // backwards compatibility\n        if (uvScaleMap.isWebGLRenderTarget) {\n          uvScaleMap = uvScaleMap.texture;\n        }\n\n        if (uvScaleMap.matrixAutoUpdate === true) {\n          uvScaleMap.updateMatrix();\n        }\n\n        uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n      }\n\n      // uv repeat and offset setting priorities for uv2\n      // 1. ao map\n      // 2. light map\n\n      var uv2ScaleMap;\n\n      if (material.aoMap) {\n        uv2ScaleMap = material.aoMap;\n      } else if (material.lightMap) {\n        uv2ScaleMap = material.lightMap;\n      }\n\n      if (uv2ScaleMap !== undefined) {\n        // backwards compatibility\n        if (uv2ScaleMap.isWebGLRenderTarget) {\n          uv2ScaleMap = uv2ScaleMap.texture;\n        }\n\n        if (uv2ScaleMap.matrixAutoUpdate === true) {\n          uv2ScaleMap.updateMatrix();\n        }\n\n        uniforms.uv2Transform.value.copy(uv2ScaleMap.matrix);\n      }\n    }\n\n    function refreshUniformsLine(uniforms, material) {\n      uniforms.diffuse.value.copy(material.color);\n      uniforms.opacity.value = material.opacity;\n    }\n\n    function refreshUniformsDash(uniforms, material) {\n      uniforms.dashSize.value = material.dashSize;\n      uniforms.totalSize.value = material.dashSize + material.gapSize;\n      uniforms.scale.value = material.scale;\n    }\n\n    function refreshUniformsPoints(uniforms, material) {\n      uniforms.diffuse.value.copy(material.color);\n      uniforms.opacity.value = material.opacity;\n      uniforms.size.value = material.size * _pixelRatio;\n      uniforms.scale.value = _height * 0.5;\n\n      if (material.map) {\n        uniforms.map.value = material.map;\n      }\n\n      if (material.alphaMap) {\n        uniforms.alphaMap.value = material.alphaMap;\n      }\n\n      // uv repeat and offset setting priorities\n      // 1. color map\n      // 2. alpha map\n\n      var uvScaleMap;\n\n      if (material.map) {\n        uvScaleMap = material.map;\n      } else if (material.alphaMap) {\n        uvScaleMap = material.alphaMap;\n      }\n\n      if (uvScaleMap !== undefined) {\n        if (uvScaleMap.matrixAutoUpdate === true) {\n          uvScaleMap.updateMatrix();\n        }\n\n        uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n      }\n    }\n\n    function refreshUniformsSprites(uniforms, material) {\n      uniforms.diffuse.value.copy(material.color);\n      uniforms.opacity.value = material.opacity;\n      uniforms.rotation.value = material.rotation;\n\n      if (material.map) {\n        uniforms.map.value = material.map;\n      }\n\n      if (material.alphaMap) {\n        uniforms.alphaMap.value = material.alphaMap;\n      }\n\n      // uv repeat and offset setting priorities\n      // 1. color map\n      // 2. alpha map\n\n      var uvScaleMap;\n\n      if (material.map) {\n        uvScaleMap = material.map;\n      } else if (material.alphaMap) {\n        uvScaleMap = material.alphaMap;\n      }\n\n      if (uvScaleMap !== undefined) {\n        if (uvScaleMap.matrixAutoUpdate === true) {\n          uvScaleMap.updateMatrix();\n        }\n\n        uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n      }\n    }\n\n    function refreshUniformsFog(uniforms, fog) {\n      uniforms.fogColor.value.copy(fog.color);\n\n      if (fog.isFog) {\n        uniforms.fogNear.value = fog.near;\n        uniforms.fogFar.value = fog.far;\n      } else if (fog.isFogExp2) {\n        uniforms.fogDensity.value = fog.density;\n      }\n    }\n\n    function refreshUniformsLambert(uniforms, material) {\n      if (material.emissiveMap) {\n        uniforms.emissiveMap.value = material.emissiveMap;\n      }\n    }\n\n    function refreshUniformsPhong(uniforms, material) {\n      uniforms.specular.value.copy(material.specular);\n      uniforms.shininess.value = Math.max(material.shininess, 1e-4); // to prevent pow( 0.0, 0.0 )\n\n      if (material.emissiveMap) {\n        uniforms.emissiveMap.value = material.emissiveMap;\n      }\n\n      if (material.bumpMap) {\n        uniforms.bumpMap.value = material.bumpMap;\n        uniforms.bumpScale.value = material.bumpScale;\n        if (material.side === BackSide) {\n          uniforms.bumpScale.value *= -1;\n        }\n      }\n\n      if (material.normalMap) {\n        uniforms.normalMap.value = material.normalMap;\n        uniforms.normalScale.value.copy(material.normalScale);\n        if (material.side === BackSide) {\n          uniforms.normalScale.value.negate();\n        }\n      }\n\n      if (material.displacementMap) {\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n      }\n    }\n\n    function refreshUniformsToon(uniforms, material) {\n      uniforms.specular.value.copy(material.specular);\n      uniforms.shininess.value = Math.max(material.shininess, 1e-4); // to prevent pow( 0.0, 0.0 )\n\n      if (material.gradientMap) {\n        uniforms.gradientMap.value = material.gradientMap;\n      }\n\n      if (material.emissiveMap) {\n        uniforms.emissiveMap.value = material.emissiveMap;\n      }\n\n      if (material.bumpMap) {\n        uniforms.bumpMap.value = material.bumpMap;\n        uniforms.bumpScale.value = material.bumpScale;\n        if (material.side === BackSide) {\n          uniforms.bumpScale.value *= -1;\n        }\n      }\n\n      if (material.normalMap) {\n        uniforms.normalMap.value = material.normalMap;\n        uniforms.normalScale.value.copy(material.normalScale);\n        if (material.side === BackSide) {\n          uniforms.normalScale.value.negate();\n        }\n      }\n\n      if (material.displacementMap) {\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n      }\n    }\n\n    function refreshUniformsStandard(uniforms, material, environment) {\n      uniforms.roughness.value = material.roughness;\n      uniforms.metalness.value = material.metalness;\n\n      if (material.roughnessMap) {\n        uniforms.roughnessMap.value = material.roughnessMap;\n      }\n\n      if (material.metalnessMap) {\n        uniforms.metalnessMap.value = material.metalnessMap;\n      }\n\n      if (material.emissiveMap) {\n        uniforms.emissiveMap.value = material.emissiveMap;\n      }\n\n      if (material.bumpMap) {\n        uniforms.bumpMap.value = material.bumpMap;\n        uniforms.bumpScale.value = material.bumpScale;\n        if (material.side === BackSide) {\n          uniforms.bumpScale.value *= -1;\n        }\n      }\n\n      if (material.normalMap) {\n        uniforms.normalMap.value = material.normalMap;\n        uniforms.normalScale.value.copy(material.normalScale);\n        if (material.side === BackSide) {\n          uniforms.normalScale.value.negate();\n        }\n      }\n\n      if (material.displacementMap) {\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n      }\n\n      if (material.envMap || environment) {\n        //uniforms.envMap.value = material.envMap; // part of uniforms common\n        uniforms.envMapIntensity.value = material.envMapIntensity;\n      }\n    }\n\n    function refreshUniformsPhysical(uniforms, material, environment) {\n      refreshUniformsStandard(uniforms, material, environment);\n\n      uniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n      uniforms.clearcoat.value = material.clearcoat;\n      uniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n      if (material.sheen) {\n        uniforms.sheen.value.copy(material.sheen);\n      }\n\n      if (material.clearcoatNormalMap) {\n        uniforms.clearcoatNormalScale.value.copy(material.clearcoatNormalScale);\n        uniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n        if (material.side === BackSide) {\n          uniforms.clearcoatNormalScale.value.negate();\n        }\n      }\n\n      uniforms.transparency.value = material.transparency;\n    }\n\n    function refreshUniformsMatcap(uniforms, material) {\n      if (material.matcap) {\n        uniforms.matcap.value = material.matcap;\n      }\n\n      if (material.bumpMap) {\n        uniforms.bumpMap.value = material.bumpMap;\n        uniforms.bumpScale.value = material.bumpScale;\n        if (material.side === BackSide) {\n          uniforms.bumpScale.value *= -1;\n        }\n      }\n\n      if (material.normalMap) {\n        uniforms.normalMap.value = material.normalMap;\n        uniforms.normalScale.value.copy(material.normalScale);\n        if (material.side === BackSide) {\n          uniforms.normalScale.value.negate();\n        }\n      }\n\n      if (material.displacementMap) {\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n      }\n    }\n\n    function refreshUniformsDepth(uniforms, material) {\n      if (material.displacementMap) {\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n      }\n    }\n\n    function refreshUniformsDistance(uniforms, material) {\n      if (material.displacementMap) {\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n      }\n\n      uniforms.referencePosition.value.copy(material.referencePosition);\n      uniforms.nearDistance.value = material.nearDistance;\n      uniforms.farDistance.value = material.farDistance;\n    }\n\n    function refreshUniformsNormal(uniforms, material) {\n      if (material.bumpMap) {\n        uniforms.bumpMap.value = material.bumpMap;\n        uniforms.bumpScale.value = material.bumpScale;\n        if (material.side === BackSide) {\n          uniforms.bumpScale.value *= -1;\n        }\n      }\n\n      if (material.normalMap) {\n        uniforms.normalMap.value = material.normalMap;\n        uniforms.normalScale.value.copy(material.normalScale);\n        if (material.side === BackSide) {\n          uniforms.normalScale.value.negate();\n        }\n      }\n\n      if (material.displacementMap) {\n        uniforms.displacementMap.value = material.displacementMap;\n        uniforms.displacementScale.value = material.displacementScale;\n        uniforms.displacementBias.value = material.displacementBias;\n      }\n    }\n\n    // If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n    function markUniformsLightsNeedsUpdate(uniforms, value) {\n      uniforms.ambientLightColor.needsUpdate = value;\n      uniforms.lightProbe.needsUpdate = value;\n\n      uniforms.directionalLights.needsUpdate = value;\n      uniforms.pointLights.needsUpdate = value;\n      uniforms.spotLights.needsUpdate = value;\n      uniforms.rectAreaLights.needsUpdate = value;\n      uniforms.hemisphereLights.needsUpdate = value;\n    }\n\n    function materialNeedsLights(material) {\n      return (\n        material.isMeshLambertMaterial ||\n        material.isMeshToonMaterial ||\n        material.isMeshPhongMaterial ||\n        material.isMeshStandardMaterial ||\n        material.isShadowMaterial ||\n        (material.isShaderMaterial && material.lights === true)\n      );\n    }\n\n    //\n    this.setFramebuffer = function (value) {\n      if (_framebuffer !== value && _currentRenderTarget === null) {\n        _gl.bindFramebuffer(36160, value);\n      }\n\n      _framebuffer = value;\n    };\n\n    this.getActiveCubeFace = function () {\n      return _currentActiveCubeFace;\n    };\n\n    this.getActiveMipmapLevel = function () {\n      return _currentActiveMipmapLevel;\n    };\n\n    this.getRenderTarget = function () {\n      return _currentRenderTarget;\n    };\n\n    this.setRenderTarget = function (\n      renderTarget,\n      activeCubeFace,\n      activeMipmapLevel\n    ) {\n      _currentRenderTarget = renderTarget;\n      _currentActiveCubeFace = activeCubeFace;\n      _currentActiveMipmapLevel = activeMipmapLevel;\n\n      if (\n        renderTarget &&\n        properties.get(renderTarget).__webglFramebuffer === undefined\n      ) {\n        textures.setupRenderTarget(renderTarget);\n      }\n\n      var framebuffer = _framebuffer;\n      var isCube = false;\n\n      if (renderTarget) {\n        var __webglFramebuffer =\n          properties.get(renderTarget).__webglFramebuffer;\n\n        if (renderTarget.isWebGLRenderTargetCube) {\n          framebuffer = __webglFramebuffer[activeCubeFace || 0];\n          isCube = true;\n        } else if (renderTarget.isWebGLMultisampleRenderTarget) {\n          framebuffer =\n            properties.get(renderTarget).__webglMultisampledFramebuffer;\n        } else {\n          framebuffer = __webglFramebuffer;\n        }\n\n        _currentViewport.copy(renderTarget.viewport);\n        _currentScissor.copy(renderTarget.scissor);\n        _currentScissorTest = renderTarget.scissorTest;\n      } else {\n        _currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor();\n        _currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor();\n        _currentScissorTest = _scissorTest;\n      }\n\n      if (_currentFramebuffer !== framebuffer) {\n        _gl.bindFramebuffer(36160, framebuffer);\n        _currentFramebuffer = framebuffer;\n      }\n\n      state.viewport(_currentViewport);\n      state.scissor(_currentScissor);\n      state.setScissorTest(_currentScissorTest);\n\n      if (isCube) {\n        var textureProperties = properties.get(renderTarget.texture);\n        _gl.framebufferTexture2D(\n          36160,\n          36064,\n          34069 + (activeCubeFace || 0),\n          textureProperties.__webglTexture,\n          activeMipmapLevel || 0\n        );\n      }\n    };\n\n    this.readRenderTargetPixels = function (\n      renderTarget,\n      x,\n      y,\n      width,\n      height,\n      buffer,\n      activeCubeFaceIndex\n    ) {\n      if (!(renderTarget && renderTarget.isWebGLRenderTarget)) {\n        console.error(\n          \"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.\"\n        );\n        return;\n      }\n\n      var framebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n      if (\n        renderTarget.isWebGLRenderTargetCube &&\n        activeCubeFaceIndex !== undefined\n      ) {\n        framebuffer = framebuffer[activeCubeFaceIndex];\n      }\n\n      if (framebuffer) {\n        var restore = false;\n\n        if (framebuffer !== _currentFramebuffer) {\n          _gl.bindFramebuffer(36160, framebuffer);\n\n          restore = true;\n        }\n\n        try {\n          var texture = renderTarget.texture;\n          var textureFormat = texture.format;\n          var textureType = texture.type;\n\n          if (\n            textureFormat !== RGBAFormat &&\n            utils.convert(textureFormat) !== _gl.getParameter(35739)\n          ) {\n            console.error(\n              \"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.\"\n            );\n            return;\n          }\n\n          if (\n            textureType !== UnsignedByteType &&\n            utils.convert(textureType) !== _gl.getParameter(35738) && // IE11, Edge and Chrome Mac < 52 (#9513)\n            !(\n              textureType === FloatType &&\n              (capabilities.isWebGL2 ||\n                extensions.get(\"OES_texture_float\") ||\n                extensions.get(\"WEBGL_color_buffer_float\"))\n            ) && // Chrome Mac >= 52 and Firefox\n            !(\n              textureType === HalfFloatType &&\n              (capabilities.isWebGL2\n                ? extensions.get(\"EXT_color_buffer_float\")\n                : extensions.get(\"EXT_color_buffer_half_float\"))\n            )\n          ) {\n            console.error(\n              \"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.\"\n            );\n            return;\n          }\n\n          if (_gl.checkFramebufferStatus(36160) === 36053) {\n            // the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n            if (\n              x >= 0 &&\n              x <= renderTarget.width - width &&\n              y >= 0 &&\n              y <= renderTarget.height - height\n            ) {\n              _gl.readPixels(\n                x,\n                y,\n                width,\n                height,\n                utils.convert(textureFormat),\n                utils.convert(textureType),\n                buffer\n              );\n            }\n          } else {\n            console.error(\n              \"THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.\"\n            );\n          }\n        } finally {\n          if (restore) {\n            _gl.bindFramebuffer(36160, _currentFramebuffer);\n          }\n        }\n      }\n    };\n\n    this.copyFramebufferToTexture = function (position, texture, level) {\n      if (level === undefined) {\n        level = 0;\n      }\n\n      var levelScale = Math.pow(2, -level);\n      var width = Math.floor(texture.image.width * levelScale);\n      var height = Math.floor(texture.image.height * levelScale);\n      var glFormat = utils.convert(texture.format);\n\n      textures.setTexture2D(texture, 0);\n\n      _gl.copyTexImage2D(\n        3553,\n        level,\n        glFormat,\n        position.x,\n        position.y,\n        width,\n        height,\n        0\n      );\n\n      state.unbindTexture();\n    };\n\n    this.copyTextureToTexture = function (\n      position,\n      srcTexture,\n      dstTexture,\n      level\n    ) {\n      var width = srcTexture.image.width;\n      var height = srcTexture.image.height;\n      var glFormat = utils.convert(dstTexture.format);\n      var glType = utils.convert(dstTexture.type);\n\n      textures.setTexture2D(dstTexture, 0);\n\n      if (srcTexture.isDataTexture) {\n        _gl.texSubImage2D(\n          3553,\n          level || 0,\n          position.x,\n          position.y,\n          width,\n          height,\n          glFormat,\n          glType,\n          srcTexture.image.data\n        );\n      } else {\n        _gl.texSubImage2D(\n          3553,\n          level || 0,\n          position.x,\n          position.y,\n          glFormat,\n          glType,\n          srcTexture.image\n        );\n      }\n\n      state.unbindTexture();\n    };\n\n    this.initTexture = function (texture) {\n      textures.setTexture2D(texture, 0);\n\n      state.unbindTexture();\n    };\n\n    if (typeof __THREE_DEVTOOLS__ !== \"undefined\") {\n      __THREE_DEVTOOLS__.dispatchEvent(\n        new CustomEvent(\"observe\", {\n          detail: this,\n        })\n      ); // eslint-disable-line no-undef\n    }\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function FogExp2(color, density) {\n    this.name = \"\";\n\n    this.color = new Color(color);\n    this.density = density !== undefined ? density : 0.00025;\n  }\n\n  Object.assign(FogExp2.prototype, {\n    isFogExp2: true,\n\n    clone: function () {\n      return new FogExp2(this.color, this.density);\n    },\n\n    toJSON: function (/* meta */) {\n      return {\n        type: \"FogExp2\",\n        color: this.color.getHex(),\n        density: this.density,\n      };\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Fog(color, near, far) {\n    this.name = \"\";\n\n    this.color = new Color(color);\n\n    this.near = near !== undefined ? near : 1;\n    this.far = far !== undefined ? far : 1000;\n  }\n\n  Object.assign(Fog.prototype, {\n    isFog: true,\n\n    clone: function () {\n      return new Fog(this.color, this.near, this.far);\n    },\n\n    toJSON: function (/* meta */) {\n      return {\n        type: \"Fog\",\n        color: this.color.getHex(),\n        near: this.near,\n        far: this.far,\n      };\n    },\n  });\n\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  function InterleavedBuffer(array, stride) {\n    this.array = array;\n    this.stride = stride;\n    this.count = array !== undefined ? array.length / stride : 0;\n\n    this.usage = StaticDrawUsage;\n    this.updateRange = {\n      offset: 0,\n      count: -1,\n    };\n\n    this.version = 0;\n  }\n\n  Object.defineProperty(InterleavedBuffer.prototype, \"needsUpdate\", {\n    set: function (value) {\n      if (value === true) {\n        this.version++;\n      }\n    },\n  });\n\n  Object.assign(InterleavedBuffer.prototype, {\n    isInterleavedBuffer: true,\n\n    onUploadCallback: function () {},\n\n    setUsage: function (value) {\n      this.usage = value;\n\n      return this;\n    },\n\n    copy: function (source) {\n      this.array = new source.array.constructor(source.array);\n      this.count = source.count;\n      this.stride = source.stride;\n      this.usage = source.usage;\n\n      return this;\n    },\n\n    copyAt: function (index1, attribute, index2) {\n      index1 *= this.stride;\n      index2 *= attribute.stride;\n\n      for (var i = 0, l = this.stride; i < l; i++) {\n        this.array[index1 + i] = attribute.array[index2 + i];\n      }\n\n      return this;\n    },\n\n    set: function (value, offset) {\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      this.array.set(value, offset);\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    onUpload: function (callback) {\n      this.onUploadCallback = callback;\n\n      return this;\n    },\n  });\n\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  var _vector$7 = new Vector3();\n\n  function InterleavedBufferAttribute(\n    interleavedBuffer,\n    itemSize,\n    offset,\n    normalized\n  ) {\n    this.data = interleavedBuffer;\n    this.itemSize = itemSize;\n    this.offset = offset;\n\n    this.normalized = normalized === true;\n  }\n\n  Object.defineProperties(InterleavedBufferAttribute.prototype, {\n    count: {\n      get: function () {\n        return this.data.count;\n      },\n    },\n\n    array: {\n      get: function () {\n        return this.data.array;\n      },\n    },\n  });\n\n  Object.assign(InterleavedBufferAttribute.prototype, {\n    isInterleavedBufferAttribute: true,\n\n    applyMatrix4: function (m) {\n      for (var i = 0, l = this.data.count; i < l; i++) {\n        _vector$7.x = this.getX(i);\n        _vector$7.y = this.getY(i);\n        _vector$7.z = this.getZ(i);\n\n        _vector$7.applyMatrix4(m);\n\n        this.setXYZ(i, _vector$7.x, _vector$7.y, _vector$7.z);\n      }\n\n      return this;\n    },\n\n    setX: function (index, x) {\n      this.data.array[index * this.data.stride + this.offset] = x;\n\n      return this;\n    },\n\n    setY: function (index, y) {\n      this.data.array[index * this.data.stride + this.offset + 1] = y;\n\n      return this;\n    },\n\n    setZ: function (index, z) {\n      this.data.array[index * this.data.stride + this.offset + 2] = z;\n\n      return this;\n    },\n\n    setW: function (index, w) {\n      this.data.array[index * this.data.stride + this.offset + 3] = w;\n\n      return this;\n    },\n\n    getX: function (index) {\n      return this.data.array[index * this.data.stride + this.offset];\n    },\n\n    getY: function (index) {\n      return this.data.array[index * this.data.stride + this.offset + 1];\n    },\n\n    getZ: function (index) {\n      return this.data.array[index * this.data.stride + this.offset + 2];\n    },\n\n    getW: function (index) {\n      return this.data.array[index * this.data.stride + this.offset + 3];\n    },\n\n    setXY: function (index, x, y) {\n      index = index * this.data.stride + this.offset;\n\n      this.data.array[index + 0] = x;\n      this.data.array[index + 1] = y;\n\n      return this;\n    },\n\n    setXYZ: function (index, x, y, z) {\n      index = index * this.data.stride + this.offset;\n\n      this.data.array[index + 0] = x;\n      this.data.array[index + 1] = y;\n      this.data.array[index + 2] = z;\n\n      return this;\n    },\n\n    setXYZW: function (index, x, y, z, w) {\n      index = index * this.data.stride + this.offset;\n\n      this.data.array[index + 0] = x;\n      this.data.array[index + 1] = y;\n      this.data.array[index + 2] = z;\n      this.data.array[index + 3] = w;\n\n      return this;\n    },\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  map: new THREE.Texture( <Image> ),\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *  rotation: <float>,\n   *  sizeAttenuation: <bool>\n   * }\n   */\n\n  function SpriteMaterial(parameters) {\n    Material.call(this);\n\n    this.type = \"SpriteMaterial\";\n\n    this.color = new Color(0xffffff);\n\n    this.map = null;\n\n    this.alphaMap = null;\n\n    this.rotation = 0;\n\n    this.sizeAttenuation = true;\n\n    this.transparent = true;\n\n    this.setValues(parameters);\n  }\n\n  SpriteMaterial.prototype = Object.create(Material.prototype);\n  SpriteMaterial.prototype.constructor = SpriteMaterial;\n  SpriteMaterial.prototype.isSpriteMaterial = true;\n\n  SpriteMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.map = source.map;\n\n    this.alphaMap = source.alphaMap;\n\n    this.rotation = source.rotation;\n\n    this.sizeAttenuation = source.sizeAttenuation;\n\n    return this;\n  };\n\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  var _geometry;\n\n  var _intersectPoint = new Vector3();\n  var _worldScale = new Vector3();\n  var _mvPosition = new Vector3();\n\n  var _alignedPosition = new Vector2();\n  var _rotatedPosition = new Vector2();\n  var _viewWorldMatrix = new Matrix4();\n\n  var _vA$1 = new Vector3();\n  var _vB$1 = new Vector3();\n  var _vC$1 = new Vector3();\n\n  var _uvA$1 = new Vector2();\n  var _uvB$1 = new Vector2();\n  var _uvC$1 = new Vector2();\n\n  function Sprite(material) {\n    Object3D.call(this);\n\n    this.type = \"Sprite\";\n\n    if (_geometry === undefined) {\n      _geometry = new BufferGeometry();\n\n      var float32Array = new Float32Array([\n        -0.5, -0.5, 0, 0, 0, 0.5, -0.5, 0, 1, 0, 0.5, 0.5, 0, 1, 1, -0.5, 0.5,\n        0, 0, 1,\n      ]);\n\n      var interleavedBuffer = new InterleavedBuffer(float32Array, 5);\n\n      _geometry.setIndex([0, 1, 2, 0, 2, 3]);\n      _geometry.setAttribute(\n        \"position\",\n        new InterleavedBufferAttribute(interleavedBuffer, 3, 0, false)\n      );\n      _geometry.setAttribute(\n        \"uv\",\n        new InterleavedBufferAttribute(interleavedBuffer, 2, 3, false)\n      );\n    }\n\n    this.geometry = _geometry;\n    this.material = material !== undefined ? material : new SpriteMaterial();\n\n    this.center = new Vector2(0.5, 0.5);\n  }\n\n  Sprite.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Sprite,\n\n    isSprite: true,\n\n    raycast: function (raycaster, intersects) {\n      if (raycaster.camera === null) {\n        console.error(\n          'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.'\n        );\n      }\n\n      _worldScale.setFromMatrixScale(this.matrixWorld);\n\n      _viewWorldMatrix.copy(raycaster.camera.matrixWorld);\n      this.modelViewMatrix.multiplyMatrices(\n        raycaster.camera.matrixWorldInverse,\n        this.matrixWorld\n      );\n\n      _mvPosition.setFromMatrixPosition(this.modelViewMatrix);\n\n      if (\n        raycaster.camera.isPerspectiveCamera &&\n        this.material.sizeAttenuation === false\n      ) {\n        _worldScale.multiplyScalar(-_mvPosition.z);\n      }\n\n      var rotation = this.material.rotation;\n      var sin, cos;\n      if (rotation !== 0) {\n        cos = Math.cos(rotation);\n        sin = Math.sin(rotation);\n      }\n\n      var center = this.center;\n\n      transformVertex(\n        _vA$1.set(-0.5, -0.5, 0),\n        _mvPosition,\n        center,\n        _worldScale,\n        sin,\n        cos\n      );\n      transformVertex(\n        _vB$1.set(0.5, -0.5, 0),\n        _mvPosition,\n        center,\n        _worldScale,\n        sin,\n        cos\n      );\n      transformVertex(\n        _vC$1.set(0.5, 0.5, 0),\n        _mvPosition,\n        center,\n        _worldScale,\n        sin,\n        cos\n      );\n\n      _uvA$1.set(0, 0);\n      _uvB$1.set(1, 0);\n      _uvC$1.set(1, 1);\n\n      // check first triangle\n      var intersect = raycaster.ray.intersectTriangle(\n        _vA$1,\n        _vB$1,\n        _vC$1,\n        false,\n        _intersectPoint\n      );\n\n      if (intersect === null) {\n        // check second triangle\n        transformVertex(\n          _vB$1.set(-0.5, 0.5, 0),\n          _mvPosition,\n          center,\n          _worldScale,\n          sin,\n          cos\n        );\n        _uvB$1.set(0, 1);\n\n        intersect = raycaster.ray.intersectTriangle(\n          _vA$1,\n          _vC$1,\n          _vB$1,\n          false,\n          _intersectPoint\n        );\n        if (intersect === null) {\n          return;\n        }\n      }\n\n      var distance = raycaster.ray.origin.distanceTo(_intersectPoint);\n\n      if (distance < raycaster.near || distance > raycaster.far) {\n        return;\n      }\n\n      intersects.push({\n        distance: distance,\n        point: _intersectPoint.clone(),\n        uv: Triangle.getUV(\n          _intersectPoint,\n          _vA$1,\n          _vB$1,\n          _vC$1,\n          _uvA$1,\n          _uvB$1,\n          _uvC$1,\n          new Vector2()\n        ),\n        face: null,\n        object: this,\n      });\n    },\n\n    clone: function () {\n      return new this.constructor(this.material).copy(this);\n    },\n\n    copy: function (source) {\n      Object3D.prototype.copy.call(this, source);\n\n      if (source.center !== undefined) {\n        this.center.copy(source.center);\n      }\n\n      return this;\n    },\n  });\n\n  function transformVertex(\n    vertexPosition,\n    mvPosition,\n    center,\n    scale,\n    sin,\n    cos\n  ) {\n    // compute position in camera space\n    _alignedPosition\n      .subVectors(vertexPosition, center)\n      .addScalar(0.5)\n      .multiply(scale);\n\n    // to check if rotation is not zero\n    if (sin !== undefined) {\n      _rotatedPosition.x = cos * _alignedPosition.x - sin * _alignedPosition.y;\n      _rotatedPosition.y = sin * _alignedPosition.x + cos * _alignedPosition.y;\n    } else {\n      _rotatedPosition.copy(_alignedPosition);\n    }\n\n    vertexPosition.copy(mvPosition);\n    vertexPosition.x += _rotatedPosition.x;\n    vertexPosition.y += _rotatedPosition.y;\n\n    // transform to world space\n    vertexPosition.applyMatrix4(_viewWorldMatrix);\n  }\n\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _v1$4 = new Vector3();\n  var _v2$2 = new Vector3();\n\n  function LOD() {\n    Object3D.call(this);\n\n    this.type = \"LOD\";\n\n    Object.defineProperties(this, {\n      levels: {\n        enumerable: true,\n        value: [],\n      },\n    });\n\n    this.autoUpdate = true;\n  }\n\n  LOD.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: LOD,\n\n    isLOD: true,\n\n    copy: function (source) {\n      Object3D.prototype.copy.call(this, source, false);\n\n      var levels = source.levels;\n\n      for (var i = 0, l = levels.length; i < l; i++) {\n        var level = levels[i];\n\n        this.addLevel(level.object.clone(), level.distance);\n      }\n\n      this.autoUpdate = source.autoUpdate;\n\n      return this;\n    },\n\n    addLevel: function (object, distance) {\n      if (distance === undefined) {\n        distance = 0;\n      }\n\n      distance = Math.abs(distance);\n\n      var levels = this.levels;\n\n      for (var l = 0; l < levels.length; l++) {\n        if (distance < levels[l].distance) {\n          break;\n        }\n      }\n\n      levels.splice(l, 0, {\n        distance: distance,\n        object: object,\n      });\n\n      this.add(object);\n\n      return this;\n    },\n\n    getObjectForDistance: function (distance) {\n      var levels = this.levels;\n\n      if (levels.length > 0) {\n        for (var i = 1, l = levels.length; i < l; i++) {\n          if (distance < levels[i].distance) {\n            break;\n          }\n        }\n\n        return levels[i - 1].object;\n      }\n\n      return null;\n    },\n\n    raycast: function (raycaster, intersects) {\n      var levels = this.levels;\n\n      if (levels.length > 0) {\n        _v1$4.setFromMatrixPosition(this.matrixWorld);\n\n        var distance = raycaster.ray.origin.distanceTo(_v1$4);\n\n        this.getObjectForDistance(distance).raycast(raycaster, intersects);\n      }\n    },\n\n    update: function (camera) {\n      var levels = this.levels;\n\n      if (levels.length > 1) {\n        _v1$4.setFromMatrixPosition(camera.matrixWorld);\n        _v2$2.setFromMatrixPosition(this.matrixWorld);\n\n        var distance = _v1$4.distanceTo(_v2$2);\n\n        levels[0].object.visible = true;\n\n        for (var i = 1, l = levels.length; i < l; i++) {\n          if (distance >= levels[i].distance) {\n            levels[i - 1].object.visible = false;\n            levels[i].object.visible = true;\n          } else {\n            break;\n          }\n        }\n\n        for (; i < l; i++) {\n          levels[i].object.visible = false;\n        }\n      }\n    },\n\n    toJSON: function (meta) {\n      var data = Object3D.prototype.toJSON.call(this, meta);\n\n      if (this.autoUpdate === false) {\n        data.object.autoUpdate = false;\n      }\n\n      data.object.levels = [];\n\n      var levels = this.levels;\n\n      for (var i = 0, l = levels.length; i < l; i++) {\n        var level = levels[i];\n\n        data.object.levels.push({\n          object: level.object.uuid,\n          distance: level.distance,\n        });\n      }\n\n      return data;\n    },\n  });\n\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author ikerr / http://verold.com\n   */\n\n  function SkinnedMesh(geometry, material) {\n    if (geometry && geometry.isGeometry) {\n      console.error(\n        \"THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\"\n      );\n    }\n\n    Mesh.call(this, geometry, material);\n\n    this.type = \"SkinnedMesh\";\n\n    this.bindMode = \"attached\";\n    this.bindMatrix = new Matrix4();\n    this.bindMatrixInverse = new Matrix4();\n  }\n\n  SkinnedMesh.prototype = Object.assign(Object.create(Mesh.prototype), {\n    constructor: SkinnedMesh,\n\n    isSkinnedMesh: true,\n\n    bind: function (skeleton, bindMatrix) {\n      this.skeleton = skeleton;\n\n      if (bindMatrix === undefined) {\n        this.updateMatrixWorld(true);\n\n        this.skeleton.calculateInverses();\n\n        bindMatrix = this.matrixWorld;\n      }\n\n      this.bindMatrix.copy(bindMatrix);\n      this.bindMatrixInverse.getInverse(bindMatrix);\n    },\n\n    pose: function () {\n      this.skeleton.pose();\n    },\n\n    normalizeSkinWeights: function () {\n      var vector = new Vector4();\n\n      var skinWeight = this.geometry.attributes.skinWeight;\n\n      for (var i = 0, l = skinWeight.count; i < l; i++) {\n        vector.x = skinWeight.getX(i);\n        vector.y = skinWeight.getY(i);\n        vector.z = skinWeight.getZ(i);\n        vector.w = skinWeight.getW(i);\n\n        var scale = 1.0 / vector.manhattanLength();\n\n        if (scale !== Infinity) {\n          vector.multiplyScalar(scale);\n        } else {\n          vector.set(1, 0, 0, 0); // do something reasonable\n        }\n\n        skinWeight.setXYZW(i, vector.x, vector.y, vector.z, vector.w);\n      }\n    },\n\n    updateMatrixWorld: function (force) {\n      Mesh.prototype.updateMatrixWorld.call(this, force);\n\n      if (this.bindMode === \"attached\") {\n        this.bindMatrixInverse.getInverse(this.matrixWorld);\n      } else if (this.bindMode === \"detached\") {\n        this.bindMatrixInverse.getInverse(this.bindMatrix);\n      } else {\n        console.warn(\n          \"THREE.SkinnedMesh: Unrecognized bindMode: \" + this.bindMode\n        );\n      }\n    },\n\n    clone: function () {\n      return new this.constructor(this.geometry, this.material).copy(this);\n    },\n  });\n\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author michael guerrero / http://realitymeltdown.com\n   * @author ikerr / http://verold.com\n   */\n\n  var _offsetMatrix = new Matrix4();\n  var _identityMatrix = new Matrix4();\n\n  function Skeleton(bones, boneInverses) {\n    // copy the bone array\n\n    bones = bones || [];\n\n    this.bones = bones.slice(0);\n    this.boneMatrices = new Float32Array(this.bones.length * 16);\n\n    this.frame = -1;\n\n    // use the supplied bone inverses or calculate the inverses\n\n    if (boneInverses === undefined) {\n      this.calculateInverses();\n    } else {\n      if (this.bones.length === boneInverses.length) {\n        this.boneInverses = boneInverses.slice(0);\n      } else {\n        console.warn(\"THREE.Skeleton boneInverses is the wrong length.\");\n\n        this.boneInverses = [];\n\n        for (var i = 0, il = this.bones.length; i < il; i++) {\n          this.boneInverses.push(new Matrix4());\n        }\n      }\n    }\n  }\n\n  Object.assign(Skeleton.prototype, {\n    calculateInverses: function () {\n      this.boneInverses = [];\n\n      for (var i = 0, il = this.bones.length; i < il; i++) {\n        var inverse = new Matrix4();\n\n        if (this.bones[i]) {\n          inverse.getInverse(this.bones[i].matrixWorld);\n        }\n\n        this.boneInverses.push(inverse);\n      }\n    },\n\n    pose: function () {\n      var bone, i, il;\n\n      // recover the bind-time world matrices\n\n      for (i = 0, il = this.bones.length; i < il; i++) {\n        bone = this.bones[i];\n\n        if (bone) {\n          bone.matrixWorld.getInverse(this.boneInverses[i]);\n        }\n      }\n\n      // compute the local matrices, positions, rotations and scales\n\n      for (i = 0, il = this.bones.length; i < il; i++) {\n        bone = this.bones[i];\n\n        if (bone) {\n          if (bone.parent && bone.parent.isBone) {\n            bone.matrix.getInverse(bone.parent.matrixWorld);\n            bone.matrix.multiply(bone.matrixWorld);\n          } else {\n            bone.matrix.copy(bone.matrixWorld);\n          }\n\n          bone.matrix.decompose(bone.position, bone.quaternion, bone.scale);\n        }\n      }\n    },\n\n    update: function () {\n      var bones = this.bones;\n      var boneInverses = this.boneInverses;\n      var boneMatrices = this.boneMatrices;\n      var boneTexture = this.boneTexture;\n\n      // flatten bone matrices to array\n\n      for (var i = 0, il = bones.length; i < il; i++) {\n        // compute the offset between the current and the original transform\n\n        var matrix = bones[i] ? bones[i].matrixWorld : _identityMatrix;\n\n        _offsetMatrix.multiplyMatrices(matrix, boneInverses[i]);\n        _offsetMatrix.toArray(boneMatrices, i * 16);\n      }\n\n      if (boneTexture !== undefined) {\n        boneTexture.needsUpdate = true;\n      }\n    },\n\n    clone: function () {\n      return new Skeleton(this.bones, this.boneInverses);\n    },\n\n    getBoneByName: function (name) {\n      for (var i = 0, il = this.bones.length; i < il; i++) {\n        var bone = this.bones[i];\n\n        if (bone.name === name) {\n          return bone;\n        }\n      }\n\n      return undefined;\n    },\n  });\n\n  /**\n   * @author mikael emtinger / http://gomo.se/\n   * @author alteredq / http://alteredqualia.com/\n   * @author ikerr / http://verold.com\n   */\n\n  function Bone() {\n    Object3D.call(this);\n\n    this.type = \"Bone\";\n  }\n\n  Bone.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Bone,\n\n    isBone: true,\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _instanceLocalMatrix = new Matrix4();\n  var _instanceWorldMatrix = new Matrix4();\n\n  var _instanceIntersects = [];\n\n  var _mesh = new Mesh();\n\n  function InstancedMesh(geometry, material, count) {\n    Mesh.call(this, geometry, material);\n\n    this.instanceMatrix = new BufferAttribute(new Float32Array(count * 16), 16);\n\n    this.count = count;\n  }\n\n  InstancedMesh.prototype = Object.assign(Object.create(Mesh.prototype), {\n    constructor: InstancedMesh,\n\n    isInstancedMesh: true,\n\n    getMatrixAt: function (index, matrix) {\n      matrix.fromArray(this.instanceMatrix.array, index * 16);\n    },\n\n    raycast: function (raycaster, intersects) {\n      var matrixWorld = this.matrixWorld;\n      var raycastTimes = this.count;\n\n      _mesh.geometry = this.geometry;\n      _mesh.material = this.material;\n\n      if (_mesh.material === undefined) {\n        return;\n      }\n\n      for (var instanceId = 0; instanceId < raycastTimes; instanceId++) {\n        // calculate the world matrix for each instance\n\n        this.getMatrixAt(instanceId, _instanceLocalMatrix);\n\n        _instanceWorldMatrix.multiplyMatrices(\n          matrixWorld,\n          _instanceLocalMatrix\n        );\n\n        // the mesh represents this single instance\n\n        _mesh.matrixWorld = _instanceWorldMatrix;\n\n        _mesh.raycast(raycaster, _instanceIntersects);\n\n        // process the result of raycast\n\n        if (_instanceIntersects.length > 0) {\n          _instanceIntersects[0].instanceId = instanceId;\n          _instanceIntersects[0].object = this;\n\n          intersects.push(_instanceIntersects[0]);\n\n          _instanceIntersects.length = 0;\n        }\n      }\n    },\n\n    setMatrixAt: function (index, matrix) {\n      matrix.toArray(this.instanceMatrix.array, index * 16);\n    },\n\n    updateMorphTargets: function () {},\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *\n   *  linewidth: <float>,\n   *  linecap: \"round\",\n   *  linejoin: \"round\"\n   * }\n   */\n\n  function LineBasicMaterial(parameters) {\n    Material.call(this);\n\n    this.type = \"LineBasicMaterial\";\n\n    this.color = new Color(0xffffff);\n\n    this.linewidth = 1;\n    this.linecap = \"round\";\n    this.linejoin = \"round\";\n\n    this.setValues(parameters);\n  }\n\n  LineBasicMaterial.prototype = Object.create(Material.prototype);\n  LineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\n  LineBasicMaterial.prototype.isLineBasicMaterial = true;\n\n  LineBasicMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.linewidth = source.linewidth;\n    this.linecap = source.linecap;\n    this.linejoin = source.linejoin;\n\n    return this;\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _start = new Vector3();\n  var _end = new Vector3();\n  var _inverseMatrix$1 = new Matrix4();\n  var _ray$1 = new Ray();\n  var _sphere$2 = new Sphere();\n\n  function Line(geometry, material, mode) {\n    if (mode === 1) {\n      console.error(\n        \"THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.\"\n      );\n    }\n\n    Object3D.call(this);\n\n    this.type = \"Line\";\n\n    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n    this.material =\n      material !== undefined\n        ? material\n        : new LineBasicMaterial({\n            color: Math.random() * 0xffffff,\n          });\n  }\n\n  Line.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Line,\n\n    isLine: true,\n\n    computeLineDistances: function () {\n      var geometry = this.geometry;\n\n      if (geometry.isBufferGeometry) {\n        // we assume non-indexed geometry\n\n        if (geometry.index === null) {\n          var positionAttribute = geometry.attributes.position;\n          var lineDistances = [0];\n\n          for (var i = 1, l = positionAttribute.count; i < l; i++) {\n            _start.fromBufferAttribute(positionAttribute, i - 1);\n            _end.fromBufferAttribute(positionAttribute, i);\n\n            lineDistances[i] = lineDistances[i - 1];\n            lineDistances[i] += _start.distanceTo(_end);\n          }\n\n          geometry.setAttribute(\n            \"lineDistance\",\n            new Float32BufferAttribute(lineDistances, 1)\n          );\n        } else {\n          console.warn(\n            \"THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.\"\n          );\n        }\n      } else if (geometry.isGeometry) {\n        var vertices = geometry.vertices;\n        var lineDistances = geometry.lineDistances;\n\n        lineDistances[0] = 0;\n\n        for (var i = 1, l = vertices.length; i < l; i++) {\n          lineDistances[i] = lineDistances[i - 1];\n          lineDistances[i] += vertices[i - 1].distanceTo(vertices[i]);\n        }\n      }\n\n      return this;\n    },\n\n    raycast: function (raycaster, intersects) {\n      var precision = raycaster.linePrecision;\n\n      var geometry = this.geometry;\n      var matrixWorld = this.matrixWorld;\n\n      // Checking boundingSphere distance to ray\n\n      if (geometry.boundingSphere === null) {\n        geometry.computeBoundingSphere();\n      }\n\n      _sphere$2.copy(geometry.boundingSphere);\n      _sphere$2.applyMatrix4(matrixWorld);\n      _sphere$2.radius += precision;\n\n      if (raycaster.ray.intersectsSphere(_sphere$2) === false) {\n        return;\n      }\n\n      //\n\n      _inverseMatrix$1.getInverse(matrixWorld);\n      _ray$1.copy(raycaster.ray).applyMatrix4(_inverseMatrix$1);\n\n      var localPrecision =\n        precision / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n      var localPrecisionSq = localPrecision * localPrecision;\n\n      var vStart = new Vector3();\n      var vEnd = new Vector3();\n      var interSegment = new Vector3();\n      var interRay = new Vector3();\n      var step = this && this.isLineSegments ? 2 : 1;\n\n      if (geometry.isBufferGeometry) {\n        var index = geometry.index;\n        var attributes = geometry.attributes;\n        var positions = attributes.position.array;\n\n        if (index !== null) {\n          var indices = index.array;\n\n          for (var i = 0, l = indices.length - 1; i < l; i += step) {\n            var a = indices[i];\n            var b = indices[i + 1];\n\n            vStart.fromArray(positions, a * 3);\n            vEnd.fromArray(positions, b * 3);\n\n            var distSq = _ray$1.distanceSqToSegment(\n              vStart,\n              vEnd,\n              interRay,\n              interSegment\n            );\n\n            if (distSq > localPrecisionSq) {\n              continue;\n            }\n\n            interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n            var distance = raycaster.ray.origin.distanceTo(interRay);\n\n            if (distance < raycaster.near || distance > raycaster.far) {\n              continue;\n            }\n\n            intersects.push({\n              distance: distance,\n              // What do we want? intersection point on the ray or on the segment??\n              // point: raycaster.ray.at( distance ),\n              point: interSegment.clone().applyMatrix4(this.matrixWorld),\n              index: i,\n              face: null,\n              faceIndex: null,\n              object: this,\n            });\n          }\n        } else {\n          for (var i = 0, l = positions.length / 3 - 1; i < l; i += step) {\n            vStart.fromArray(positions, 3 * i);\n            vEnd.fromArray(positions, 3 * i + 3);\n\n            var distSq = _ray$1.distanceSqToSegment(\n              vStart,\n              vEnd,\n              interRay,\n              interSegment\n            );\n\n            if (distSq > localPrecisionSq) {\n              continue;\n            }\n\n            interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n            var distance = raycaster.ray.origin.distanceTo(interRay);\n\n            if (distance < raycaster.near || distance > raycaster.far) {\n              continue;\n            }\n\n            intersects.push({\n              distance: distance,\n              // What do we want? intersection point on the ray or on the segment??\n              // point: raycaster.ray.at( distance ),\n              point: interSegment.clone().applyMatrix4(this.matrixWorld),\n              index: i,\n              face: null,\n              faceIndex: null,\n              object: this,\n            });\n          }\n        }\n      } else if (geometry.isGeometry) {\n        var vertices = geometry.vertices;\n        var nbVertices = vertices.length;\n\n        for (var i = 0; i < nbVertices - 1; i += step) {\n          var distSq = _ray$1.distanceSqToSegment(\n            vertices[i],\n            vertices[i + 1],\n            interRay,\n            interSegment\n          );\n\n          if (distSq > localPrecisionSq) {\n            continue;\n          }\n\n          interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n          var distance = raycaster.ray.origin.distanceTo(interRay);\n\n          if (distance < raycaster.near || distance > raycaster.far) {\n            continue;\n          }\n\n          intersects.push({\n            distance: distance,\n            // What do we want? intersection point on the ray or on the segment??\n            // point: raycaster.ray.at( distance ),\n            point: interSegment.clone().applyMatrix4(this.matrixWorld),\n            index: i,\n            face: null,\n            faceIndex: null,\n            object: this,\n          });\n        }\n      }\n    },\n\n    clone: function () {\n      return new this.constructor(this.geometry, this.material).copy(this);\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _start$1 = new Vector3();\n  var _end$1 = new Vector3();\n\n  function LineSegments(geometry, material) {\n    Line.call(this, geometry, material);\n\n    this.type = \"LineSegments\";\n  }\n\n  LineSegments.prototype = Object.assign(Object.create(Line.prototype), {\n    constructor: LineSegments,\n\n    isLineSegments: true,\n\n    computeLineDistances: function () {\n      var geometry = this.geometry;\n\n      if (geometry.isBufferGeometry) {\n        // we assume non-indexed geometry\n\n        if (geometry.index === null) {\n          var positionAttribute = geometry.attributes.position;\n          var lineDistances = [];\n\n          for (var i = 0, l = positionAttribute.count; i < l; i += 2) {\n            _start$1.fromBufferAttribute(positionAttribute, i);\n            _end$1.fromBufferAttribute(positionAttribute, i + 1);\n\n            lineDistances[i] = i === 0 ? 0 : lineDistances[i - 1];\n            lineDistances[i + 1] =\n              lineDistances[i] + _start$1.distanceTo(_end$1);\n          }\n\n          geometry.setAttribute(\n            \"lineDistance\",\n            new Float32BufferAttribute(lineDistances, 1)\n          );\n        } else {\n          console.warn(\n            \"THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.\"\n          );\n        }\n      } else if (geometry.isGeometry) {\n        var vertices = geometry.vertices;\n        var lineDistances = geometry.lineDistances;\n\n        for (var i = 0, l = vertices.length; i < l; i += 2) {\n          _start$1.copy(vertices[i]);\n          _end$1.copy(vertices[i + 1]);\n\n          lineDistances[i] = i === 0 ? 0 : lineDistances[i - 1];\n          lineDistances[i + 1] = lineDistances[i] + _start$1.distanceTo(_end$1);\n        }\n      }\n\n      return this;\n    },\n  });\n\n  /**\n   * @author mgreter / http://github.com/mgreter\n   */\n\n  function LineLoop(geometry, material) {\n    Line.call(this, geometry, material);\n\n    this.type = \"LineLoop\";\n  }\n\n  LineLoop.prototype = Object.assign(Object.create(Line.prototype), {\n    constructor: LineLoop,\n\n    isLineLoop: true,\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *  map: new THREE.Texture( <Image> ),\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  size: <float>,\n   *  sizeAttenuation: <bool>\n   *\n   *  morphTargets: <bool>\n   * }\n   */\n\n  function PointsMaterial(parameters) {\n    Material.call(this);\n\n    this.type = \"PointsMaterial\";\n\n    this.color = new Color(0xffffff);\n\n    this.map = null;\n\n    this.alphaMap = null;\n\n    this.size = 1;\n    this.sizeAttenuation = true;\n\n    this.morphTargets = false;\n\n    this.setValues(parameters);\n  }\n\n  PointsMaterial.prototype = Object.create(Material.prototype);\n  PointsMaterial.prototype.constructor = PointsMaterial;\n\n  PointsMaterial.prototype.isPointsMaterial = true;\n\n  PointsMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.map = source.map;\n\n    this.alphaMap = source.alphaMap;\n\n    this.size = source.size;\n    this.sizeAttenuation = source.sizeAttenuation;\n\n    this.morphTargets = source.morphTargets;\n\n    return this;\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  var _inverseMatrix$2 = new Matrix4();\n  var _ray$2 = new Ray();\n  var _sphere$3 = new Sphere();\n  var _position$1 = new Vector3();\n\n  function Points(geometry, material) {\n    Object3D.call(this);\n\n    this.type = \"Points\";\n\n    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n    this.material =\n      material !== undefined\n        ? material\n        : new PointsMaterial({\n            color: Math.random() * 0xffffff,\n          });\n\n    this.updateMorphTargets();\n  }\n\n  Points.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Points,\n\n    isPoints: true,\n\n    raycast: function (raycaster, intersects) {\n      var geometry = this.geometry;\n      var matrixWorld = this.matrixWorld;\n      var threshold = raycaster.params.Points.threshold;\n\n      // Checking boundingSphere distance to ray\n\n      if (geometry.boundingSphere === null) {\n        geometry.computeBoundingSphere();\n      }\n\n      _sphere$3.copy(geometry.boundingSphere);\n      _sphere$3.applyMatrix4(matrixWorld);\n      _sphere$3.radius += threshold;\n\n      if (raycaster.ray.intersectsSphere(_sphere$3) === false) {\n        return;\n      }\n\n      //\n\n      _inverseMatrix$2.getInverse(matrixWorld);\n      _ray$2.copy(raycaster.ray).applyMatrix4(_inverseMatrix$2);\n\n      var localThreshold =\n        threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n      var localThresholdSq = localThreshold * localThreshold;\n\n      if (geometry.isBufferGeometry) {\n        var index = geometry.index;\n        var attributes = geometry.attributes;\n        var positions = attributes.position.array;\n\n        if (index !== null) {\n          var indices = index.array;\n\n          for (var i = 0, il = indices.length; i < il; i++) {\n            var a = indices[i];\n\n            _position$1.fromArray(positions, a * 3);\n\n            testPoint(\n              _position$1,\n              a,\n              localThresholdSq,\n              matrixWorld,\n              raycaster,\n              intersects,\n              this\n            );\n          }\n        } else {\n          for (var i = 0, l = positions.length / 3; i < l; i++) {\n            _position$1.fromArray(positions, i * 3);\n\n            testPoint(\n              _position$1,\n              i,\n              localThresholdSq,\n              matrixWorld,\n              raycaster,\n              intersects,\n              this\n            );\n          }\n        }\n      } else {\n        var vertices = geometry.vertices;\n\n        for (var i = 0, l = vertices.length; i < l; i++) {\n          testPoint(\n            vertices[i],\n            i,\n            localThresholdSq,\n            matrixWorld,\n            raycaster,\n            intersects,\n            this\n          );\n        }\n      }\n    },\n\n    updateMorphTargets: function () {\n      var geometry = this.geometry;\n      var m, ml, name;\n\n      if (geometry.isBufferGeometry) {\n        var morphAttributes = geometry.morphAttributes;\n        var keys = Object.keys(morphAttributes);\n\n        if (keys.length > 0) {\n          var morphAttribute = morphAttributes[keys[0]];\n\n          if (morphAttribute !== undefined) {\n            this.morphTargetInfluences = [];\n            this.morphTargetDictionary = {};\n\n            for (m = 0, ml = morphAttribute.length; m < ml; m++) {\n              name = morphAttribute[m].name || String(m);\n\n              this.morphTargetInfluences.push(0);\n              this.morphTargetDictionary[name] = m;\n            }\n          }\n        }\n      } else {\n        var morphTargets = geometry.morphTargets;\n\n        if (morphTargets !== undefined && morphTargets.length > 0) {\n          console.error(\n            \"THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.\"\n          );\n        }\n      }\n    },\n\n    clone: function () {\n      return new this.constructor(this.geometry, this.material).copy(this);\n    },\n  });\n\n  function testPoint(\n    point,\n    index,\n    localThresholdSq,\n    matrixWorld,\n    raycaster,\n    intersects,\n    object\n  ) {\n    var rayPointDistanceSq = _ray$2.distanceSqToPoint(point);\n\n    if (rayPointDistanceSq < localThresholdSq) {\n      var intersectPoint = new Vector3();\n\n      _ray$2.closestPointToPoint(point, intersectPoint);\n      intersectPoint.applyMatrix4(matrixWorld);\n\n      var distance = raycaster.ray.origin.distanceTo(intersectPoint);\n\n      if (distance < raycaster.near || distance > raycaster.far) {\n        return;\n      }\n\n      intersects.push({\n        distance: distance,\n        distanceToRay: Math.sqrt(rayPointDistanceSq),\n        point: intersectPoint,\n        index: index,\n        face: null,\n        object: object,\n      });\n    }\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function VideoTexture(\n    video,\n    mapping,\n    wrapS,\n    wrapT,\n    magFilter,\n    minFilter,\n    format,\n    type,\n    anisotropy\n  ) {\n    Texture.call(\n      this,\n      video,\n      mapping,\n      wrapS,\n      wrapT,\n      magFilter,\n      minFilter,\n      format,\n      type,\n      anisotropy\n    );\n\n    this.format = format !== undefined ? format : RGBFormat;\n\n    this.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n    this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n    this.generateMipmaps = false;\n  }\n\n  VideoTexture.prototype = Object.assign(Object.create(Texture.prototype), {\n    constructor: VideoTexture,\n\n    isVideoTexture: true,\n\n    update: function () {\n      var video = this.image;\n\n      if (video.readyState >= video.HAVE_CURRENT_DATA) {\n        this.needsUpdate = true;\n      }\n    },\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function CompressedTexture(\n    mipmaps,\n    width,\n    height,\n    format,\n    type,\n    mapping,\n    wrapS,\n    wrapT,\n    magFilter,\n    minFilter,\n    anisotropy,\n    encoding\n  ) {\n    Texture.call(\n      this,\n      null,\n      mapping,\n      wrapS,\n      wrapT,\n      magFilter,\n      minFilter,\n      format,\n      type,\n      anisotropy,\n      encoding\n    );\n\n    this.image = {\n      width: width,\n      height: height,\n    };\n    this.mipmaps = mipmaps;\n\n    // no flipping for cube textures\n    // (also flipping doesn't work for compressed textures )\n\n    this.flipY = false;\n\n    // can't generate mipmaps for compressed textures\n    // mips must be embedded in DDS files\n\n    this.generateMipmaps = false;\n  }\n\n  CompressedTexture.prototype = Object.create(Texture.prototype);\n  CompressedTexture.prototype.constructor = CompressedTexture;\n\n  CompressedTexture.prototype.isCompressedTexture = true;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function CanvasTexture(\n    canvas,\n    mapping,\n    wrapS,\n    wrapT,\n    magFilter,\n    minFilter,\n    format,\n    type,\n    anisotropy\n  ) {\n    Texture.call(\n      this,\n      canvas,\n      mapping,\n      wrapS,\n      wrapT,\n      magFilter,\n      minFilter,\n      format,\n      type,\n      anisotropy\n    );\n\n    this.needsUpdate = true;\n  }\n\n  CanvasTexture.prototype = Object.create(Texture.prototype);\n  CanvasTexture.prototype.constructor = CanvasTexture;\n  CanvasTexture.prototype.isCanvasTexture = true;\n\n  /**\n   * @author Matt DesLauriers / @mattdesl\n   * @author atix / arthursilber.de\n   */\n\n  function DepthTexture(\n    width,\n    height,\n    type,\n    mapping,\n    wrapS,\n    wrapT,\n    magFilter,\n    minFilter,\n    anisotropy,\n    format\n  ) {\n    format = format !== undefined ? format : DepthFormat;\n\n    if (format !== DepthFormat && format !== DepthStencilFormat) {\n      throw new Error(\n        \"DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat\"\n      );\n    }\n\n    if (type === undefined && format === DepthFormat) {\n      type = UnsignedShortType;\n    }\n    if (type === undefined && format === DepthStencilFormat) {\n      type = UnsignedInt248Type;\n    }\n\n    Texture.call(\n      this,\n      null,\n      mapping,\n      wrapS,\n      wrapT,\n      magFilter,\n      minFilter,\n      format,\n      type,\n      anisotropy\n    );\n\n    this.image = {\n      width: width,\n      height: height,\n    };\n\n    this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n    this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n    this.flipY = false;\n    this.generateMipmaps = false;\n  }\n\n  DepthTexture.prototype = Object.create(Texture.prototype);\n  DepthTexture.prototype.constructor = DepthTexture;\n  DepthTexture.prototype.isDepthTexture = true;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  function WireframeGeometry(geometry) {\n    BufferGeometry.call(this);\n\n    this.type = \"WireframeGeometry\";\n\n    // buffer\n\n    var vertices = [];\n\n    // helper variables\n\n    var i, j, l, o, ol;\n    var edge = [0, 0],\n      edges = {},\n      e,\n      edge1,\n      edge2;\n    var key,\n      keys = [\"a\", \"b\", \"c\"];\n    var vertex;\n\n    // different logic for Geometry and BufferGeometry\n\n    if (geometry && geometry.isGeometry) {\n      // create a data structure that contains all edges without duplicates\n\n      var faces = geometry.faces;\n\n      for (i = 0, l = faces.length; i < l; i++) {\n        var face = faces[i];\n\n        for (j = 0; j < 3; j++) {\n          edge1 = face[keys[j]];\n          edge2 = face[keys[(j + 1) % 3]];\n          edge[0] = Math.min(edge1, edge2); // sorting prevents duplicates\n          edge[1] = Math.max(edge1, edge2);\n\n          key = edge[0] + \",\" + edge[1];\n\n          if (edges[key] === undefined) {\n            edges[key] = {\n              index1: edge[0],\n              index2: edge[1],\n            };\n          }\n        }\n      }\n\n      // generate vertices\n\n      for (key in edges) {\n        e = edges[key];\n\n        vertex = geometry.vertices[e.index1];\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        vertex = geometry.vertices[e.index2];\n        vertices.push(vertex.x, vertex.y, vertex.z);\n      }\n    } else if (geometry && geometry.isBufferGeometry) {\n      var position, indices, groups;\n      var group, start, count;\n      var index1, index2;\n\n      vertex = new Vector3();\n\n      if (geometry.index !== null) {\n        // indexed BufferGeometry\n\n        position = geometry.attributes.position;\n        indices = geometry.index;\n        groups = geometry.groups;\n\n        if (groups.length === 0) {\n          groups = [\n            {\n              start: 0,\n              count: indices.count,\n              materialIndex: 0,\n            },\n          ];\n        }\n\n        // create a data structure that contains all eges without duplicates\n\n        for (o = 0, ol = groups.length; o < ol; ++o) {\n          group = groups[o];\n\n          start = group.start;\n          count = group.count;\n\n          for (i = start, l = start + count; i < l; i += 3) {\n            for (j = 0; j < 3; j++) {\n              edge1 = indices.getX(i + j);\n              edge2 = indices.getX(i + ((j + 1) % 3));\n              edge[0] = Math.min(edge1, edge2); // sorting prevents duplicates\n              edge[1] = Math.max(edge1, edge2);\n\n              key = edge[0] + \",\" + edge[1];\n\n              if (edges[key] === undefined) {\n                edges[key] = {\n                  index1: edge[0],\n                  index2: edge[1],\n                };\n              }\n            }\n          }\n        }\n\n        // generate vertices\n\n        for (key in edges) {\n          e = edges[key];\n\n          vertex.fromBufferAttribute(position, e.index1);\n          vertices.push(vertex.x, vertex.y, vertex.z);\n\n          vertex.fromBufferAttribute(position, e.index2);\n          vertices.push(vertex.x, vertex.y, vertex.z);\n        }\n      } else {\n        // non-indexed BufferGeometry\n\n        position = geometry.attributes.position;\n\n        for (i = 0, l = position.count / 3; i < l; i++) {\n          for (j = 0; j < 3; j++) {\n            // three edges per triangle, an edge is represented as (index1, index2)\n            // e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n            index1 = 3 * i + j;\n            vertex.fromBufferAttribute(position, index1);\n            vertices.push(vertex.x, vertex.y, vertex.z);\n\n            index2 = 3 * i + ((j + 1) % 3);\n            vertex.fromBufferAttribute(position, index2);\n            vertices.push(vertex.x, vertex.y, vertex.z);\n          }\n        }\n      }\n    }\n\n    // build geometry\n\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n  }\n\n  WireframeGeometry.prototype = Object.create(BufferGeometry.prototype);\n  WireframeGeometry.prototype.constructor = WireframeGeometry;\n\n  /**\n   * @author zz85 / https://github.com/zz85\n   * @author Mugen87 / https://github.com/Mugen87\n   *\n   * Parametric Surfaces Geometry\n   * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n   */\n\n  // ParametricGeometry\n\n  function ParametricGeometry(func, slices, stacks) {\n    Geometry.call(this);\n\n    this.type = \"ParametricGeometry\";\n\n    this.parameters = {\n      func: func,\n      slices: slices,\n      stacks: stacks,\n    };\n\n    this.fromBufferGeometry(new ParametricBufferGeometry(func, slices, stacks));\n    this.mergeVertices();\n  }\n\n  ParametricGeometry.prototype = Object.create(Geometry.prototype);\n  ParametricGeometry.prototype.constructor = ParametricGeometry;\n\n  // ParametricBufferGeometry\n\n  function ParametricBufferGeometry(func, slices, stacks) {\n    BufferGeometry.call(this);\n\n    this.type = \"ParametricBufferGeometry\";\n\n    this.parameters = {\n      func: func,\n      slices: slices,\n      stacks: stacks,\n    };\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    var EPS = 0.00001;\n\n    var normal = new Vector3();\n\n    var p0 = new Vector3(),\n      p1 = new Vector3();\n    var pu = new Vector3(),\n      pv = new Vector3();\n\n    var i, j;\n\n    if (func.length < 3) {\n      console.error(\n        \"THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.\"\n      );\n    }\n\n    // generate vertices, normals and uvs\n\n    var sliceCount = slices + 1;\n\n    for (i = 0; i <= stacks; i++) {\n      var v = i / stacks;\n\n      for (j = 0; j <= slices; j++) {\n        var u = j / slices;\n\n        // vertex\n\n        func(u, v, p0);\n        vertices.push(p0.x, p0.y, p0.z);\n\n        // normal\n\n        // approximate tangent vectors via finite differences\n\n        if (u - EPS >= 0) {\n          func(u - EPS, v, p1);\n          pu.subVectors(p0, p1);\n        } else {\n          func(u + EPS, v, p1);\n          pu.subVectors(p1, p0);\n        }\n\n        if (v - EPS >= 0) {\n          func(u, v - EPS, p1);\n          pv.subVectors(p0, p1);\n        } else {\n          func(u, v + EPS, p1);\n          pv.subVectors(p1, p0);\n        }\n\n        // cross product of tangent vectors returns surface normal\n\n        normal.crossVectors(pu, pv).normalize();\n        normals.push(normal.x, normal.y, normal.z);\n\n        // uv\n\n        uvs.push(u, v);\n      }\n    }\n\n    // generate indices\n\n    for (i = 0; i < stacks; i++) {\n      for (j = 0; j < slices; j++) {\n        var a = i * sliceCount + j;\n        var b = i * sliceCount + j + 1;\n        var c = (i + 1) * sliceCount + j + 1;\n        var d = (i + 1) * sliceCount + j;\n\n        // faces one and two\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n      }\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    this.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n  }\n\n  ParametricBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  ParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n  /**\n   * @author clockworkgeek / https://github.com/clockworkgeek\n   * @author timothypratley / https://github.com/timothypratley\n   * @author WestLangley / http://github.com/WestLangley\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // PolyhedronGeometry\n\n  function PolyhedronGeometry(vertices, indices, radius, detail) {\n    Geometry.call(this);\n\n    this.type = \"PolyhedronGeometry\";\n\n    this.parameters = {\n      vertices: vertices,\n      indices: indices,\n      radius: radius,\n      detail: detail,\n    };\n\n    this.fromBufferGeometry(\n      new PolyhedronBufferGeometry(vertices, indices, radius, detail)\n    );\n    this.mergeVertices();\n  }\n\n  PolyhedronGeometry.prototype = Object.create(Geometry.prototype);\n  PolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n\n  // PolyhedronBufferGeometry\n\n  function PolyhedronBufferGeometry(vertices, indices, radius, detail) {\n    BufferGeometry.call(this);\n\n    this.type = \"PolyhedronBufferGeometry\";\n\n    this.parameters = {\n      vertices: vertices,\n      indices: indices,\n      radius: radius,\n      detail: detail,\n    };\n\n    radius = radius || 1;\n    detail = detail || 0;\n\n    // default buffer data\n\n    var vertexBuffer = [];\n    var uvBuffer = [];\n\n    // the subdivision creates the vertex buffer data\n\n    subdivide(detail);\n\n    // all vertices should lie on a conceptual sphere with a given radius\n\n    applyRadius(radius);\n\n    // finally, create the uv data\n\n    generateUVs();\n\n    // build non-indexed geometry\n\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertexBuffer, 3));\n    this.setAttribute(\n      \"normal\",\n      new Float32BufferAttribute(vertexBuffer.slice(), 3)\n    );\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvBuffer, 2));\n\n    if (detail === 0) {\n      this.computeVertexNormals(); // flat normals\n    } else {\n      this.normalizeNormals(); // smooth normals\n    }\n\n    // helper functions\n\n    function subdivide(detail) {\n      var a = new Vector3();\n      var b = new Vector3();\n      var c = new Vector3();\n\n      // iterate over all faces and apply a subdivison with the given detail value\n\n      for (var i = 0; i < indices.length; i += 3) {\n        // get the vertices of the face\n\n        getVertexByIndex(indices[i + 0], a);\n        getVertexByIndex(indices[i + 1], b);\n        getVertexByIndex(indices[i + 2], c);\n\n        // perform subdivision\n\n        subdivideFace(a, b, c, detail);\n      }\n    }\n\n    function subdivideFace(a, b, c, detail) {\n      var cols = Math.pow(2, detail);\n\n      // we use this multidimensional array as a data structure for creating the subdivision\n\n      var v = [];\n\n      var i, j;\n\n      // construct all of the vertices for this subdivision\n\n      for (i = 0; i <= cols; i++) {\n        v[i] = [];\n\n        var aj = a.clone().lerp(c, i / cols);\n        var bj = b.clone().lerp(c, i / cols);\n\n        var rows = cols - i;\n\n        for (j = 0; j <= rows; j++) {\n          if (j === 0 && i === cols) {\n            v[i][j] = aj;\n          } else {\n            v[i][j] = aj.clone().lerp(bj, j / rows);\n          }\n        }\n      }\n\n      // construct all of the faces\n\n      for (i = 0; i < cols; i++) {\n        for (j = 0; j < 2 * (cols - i) - 1; j++) {\n          var k = Math.floor(j / 2);\n\n          if (j % 2 === 0) {\n            pushVertex(v[i][k + 1]);\n            pushVertex(v[i + 1][k]);\n            pushVertex(v[i][k]);\n          } else {\n            pushVertex(v[i][k + 1]);\n            pushVertex(v[i + 1][k + 1]);\n            pushVertex(v[i + 1][k]);\n          }\n        }\n      }\n    }\n\n    function applyRadius(radius) {\n      var vertex = new Vector3();\n\n      // iterate over the entire buffer and apply the radius to each vertex\n\n      for (var i = 0; i < vertexBuffer.length; i += 3) {\n        vertex.x = vertexBuffer[i + 0];\n        vertex.y = vertexBuffer[i + 1];\n        vertex.z = vertexBuffer[i + 2];\n\n        vertex.normalize().multiplyScalar(radius);\n\n        vertexBuffer[i + 0] = vertex.x;\n        vertexBuffer[i + 1] = vertex.y;\n        vertexBuffer[i + 2] = vertex.z;\n      }\n    }\n\n    function generateUVs() {\n      var vertex = new Vector3();\n\n      for (var i = 0; i < vertexBuffer.length; i += 3) {\n        vertex.x = vertexBuffer[i + 0];\n        vertex.y = vertexBuffer[i + 1];\n        vertex.z = vertexBuffer[i + 2];\n\n        var u = azimuth(vertex) / 2 / Math.PI + 0.5;\n        var v = inclination(vertex) / Math.PI + 0.5;\n        uvBuffer.push(u, 1 - v);\n      }\n\n      correctUVs();\n\n      correctSeam();\n    }\n\n    function correctSeam() {\n      // handle case when face straddles the seam, see #3269\n\n      for (var i = 0; i < uvBuffer.length; i += 6) {\n        // uv data of a single face\n\n        var x0 = uvBuffer[i + 0];\n        var x1 = uvBuffer[i + 2];\n        var x2 = uvBuffer[i + 4];\n\n        var max = Math.max(x0, x1, x2);\n        var min = Math.min(x0, x1, x2);\n\n        // 0.9 is somewhat arbitrary\n\n        if (max > 0.9 && min < 0.1) {\n          if (x0 < 0.2) {\n            uvBuffer[i + 0] += 1;\n          }\n          if (x1 < 0.2) {\n            uvBuffer[i + 2] += 1;\n          }\n          if (x2 < 0.2) {\n            uvBuffer[i + 4] += 1;\n          }\n        }\n      }\n    }\n\n    function pushVertex(vertex) {\n      vertexBuffer.push(vertex.x, vertex.y, vertex.z);\n    }\n\n    function getVertexByIndex(index, vertex) {\n      var stride = index * 3;\n\n      vertex.x = vertices[stride + 0];\n      vertex.y = vertices[stride + 1];\n      vertex.z = vertices[stride + 2];\n    }\n\n    function correctUVs() {\n      var a = new Vector3();\n      var b = new Vector3();\n      var c = new Vector3();\n\n      var centroid = new Vector3();\n\n      var uvA = new Vector2();\n      var uvB = new Vector2();\n      var uvC = new Vector2();\n\n      for (var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6) {\n        a.set(vertexBuffer[i + 0], vertexBuffer[i + 1], vertexBuffer[i + 2]);\n        b.set(vertexBuffer[i + 3], vertexBuffer[i + 4], vertexBuffer[i + 5]);\n        c.set(vertexBuffer[i + 6], vertexBuffer[i + 7], vertexBuffer[i + 8]);\n\n        uvA.set(uvBuffer[j + 0], uvBuffer[j + 1]);\n        uvB.set(uvBuffer[j + 2], uvBuffer[j + 3]);\n        uvC.set(uvBuffer[j + 4], uvBuffer[j + 5]);\n\n        centroid.copy(a).add(b).add(c).divideScalar(3);\n\n        var azi = azimuth(centroid);\n\n        correctUV(uvA, j + 0, a, azi);\n        correctUV(uvB, j + 2, b, azi);\n        correctUV(uvC, j + 4, c, azi);\n      }\n    }\n\n    function correctUV(uv, stride, vector, azimuth) {\n      if (azimuth < 0 && uv.x === 1) {\n        uvBuffer[stride] = uv.x - 1;\n      }\n\n      if (vector.x === 0 && vector.z === 0) {\n        uvBuffer[stride] = azimuth / 2 / Math.PI + 0.5;\n      }\n    }\n\n    // Angle around the Y axis, counter-clockwise when looking from above.\n\n    function azimuth(vector) {\n      return Math.atan2(vector.z, -vector.x);\n    }\n\n    // Angle above the XZ plane.\n\n    function inclination(vector) {\n      return Math.atan2(\n        -vector.y,\n        Math.sqrt(vector.x * vector.x + vector.z * vector.z)\n      );\n    }\n  }\n\n  PolyhedronBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  PolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\n\n  /**\n   * @author timothypratley / https://github.com/timothypratley\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // TetrahedronGeometry\n\n  function TetrahedronGeometry(radius, detail) {\n    Geometry.call(this);\n\n    this.type = \"TetrahedronGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      detail: detail,\n    };\n\n    this.fromBufferGeometry(new TetrahedronBufferGeometry(radius, detail));\n    this.mergeVertices();\n  }\n\n  TetrahedronGeometry.prototype = Object.create(Geometry.prototype);\n  TetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n\n  // TetrahedronBufferGeometry\n\n  function TetrahedronBufferGeometry(radius, detail) {\n    var vertices = [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1];\n\n    var indices = [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1];\n\n    PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);\n\n    this.type = \"TetrahedronBufferGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      detail: detail,\n    };\n  }\n\n  TetrahedronBufferGeometry.prototype = Object.create(\n    PolyhedronBufferGeometry.prototype\n  );\n  TetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\n\n  /**\n   * @author timothypratley / https://github.com/timothypratley\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // OctahedronGeometry\n\n  function OctahedronGeometry(radius, detail) {\n    Geometry.call(this);\n\n    this.type = \"OctahedronGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      detail: detail,\n    };\n\n    this.fromBufferGeometry(new OctahedronBufferGeometry(radius, detail));\n    this.mergeVertices();\n  }\n\n  OctahedronGeometry.prototype = Object.create(Geometry.prototype);\n  OctahedronGeometry.prototype.constructor = OctahedronGeometry;\n\n  // OctahedronBufferGeometry\n\n  function OctahedronBufferGeometry(radius, detail) {\n    var vertices = [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1];\n\n    var indices = [\n      0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2,\n    ];\n\n    PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);\n\n    this.type = \"OctahedronBufferGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      detail: detail,\n    };\n  }\n\n  OctahedronBufferGeometry.prototype = Object.create(\n    PolyhedronBufferGeometry.prototype\n  );\n  OctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\n\n  /**\n   * @author timothypratley / https://github.com/timothypratley\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // IcosahedronGeometry\n\n  function IcosahedronGeometry(radius, detail) {\n    Geometry.call(this);\n\n    this.type = \"IcosahedronGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      detail: detail,\n    };\n\n    this.fromBufferGeometry(new IcosahedronBufferGeometry(radius, detail));\n    this.mergeVertices();\n  }\n\n  IcosahedronGeometry.prototype = Object.create(Geometry.prototype);\n  IcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n\n  // IcosahedronBufferGeometry\n\n  function IcosahedronBufferGeometry(radius, detail) {\n    var t = (1 + Math.sqrt(5)) / 2;\n\n    var vertices = [\n      -1,\n      t,\n      0,\n      1,\n      t,\n      0,\n      -1,\n      -t,\n      0,\n      1,\n      -t,\n      0,\n      0,\n      -1,\n      t,\n      0,\n      1,\n      t,\n      0,\n      -1,\n      -t,\n      0,\n      1,\n      -t,\n      t,\n      0,\n      -1,\n      t,\n      0,\n      1,\n      -t,\n      0,\n      -1,\n      -t,\n      0,\n      1,\n    ];\n\n    var indices = [\n      0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11,\n      10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4,\n      9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1,\n    ];\n\n    PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);\n\n    this.type = \"IcosahedronBufferGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      detail: detail,\n    };\n  }\n\n  IcosahedronBufferGeometry.prototype = Object.create(\n    PolyhedronBufferGeometry.prototype\n  );\n  IcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\n\n  /**\n   * @author Abe Pazos / https://hamoid.com\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // DodecahedronGeometry\n\n  function DodecahedronGeometry(radius, detail) {\n    Geometry.call(this);\n\n    this.type = \"DodecahedronGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      detail: detail,\n    };\n\n    this.fromBufferGeometry(new DodecahedronBufferGeometry(radius, detail));\n    this.mergeVertices();\n  }\n\n  DodecahedronGeometry.prototype = Object.create(Geometry.prototype);\n  DodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n\n  // DodecahedronBufferGeometry\n\n  function DodecahedronBufferGeometry(radius, detail) {\n    var t = (1 + Math.sqrt(5)) / 2;\n    var r = 1 / t;\n\n    var vertices = [\n      // (1, 1, 1)\n      -1,\n      -1,\n      -1,\n      -1,\n      -1,\n      1,\n      -1,\n      1,\n      -1,\n      -1,\n      1,\n      1,\n      1,\n      -1,\n      -1,\n      1,\n      -1,\n      1,\n      1,\n      1,\n      -1,\n      1,\n      1,\n      1,\n\n      // (0, 1/, )\n      0,\n      -r,\n      -t,\n      0,\n      -r,\n      t,\n      0,\n      r,\n      -t,\n      0,\n      r,\n      t,\n\n      // (1/, , 0)\n      -r,\n      -t,\n      0,\n      -r,\n      t,\n      0,\n      r,\n      -t,\n      0,\n      r,\n      t,\n      0,\n\n      // (, 0, 1/)\n      -t,\n      0,\n      -r,\n      t,\n      0,\n      -r,\n      -t,\n      0,\n      r,\n      t,\n      0,\n      r,\n    ];\n\n    var indices = [\n      3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8,\n      17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0,\n      18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18,\n      1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5,\n      19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5,\n      9,\n    ];\n\n    PolyhedronBufferGeometry.call(this, vertices, indices, radius, detail);\n\n    this.type = \"DodecahedronBufferGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      detail: detail,\n    };\n  }\n\n  DodecahedronBufferGeometry.prototype = Object.create(\n    PolyhedronBufferGeometry.prototype\n  );\n  DodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\n\n  /**\n   * @author oosmoxiecode / https://github.com/oosmoxiecode\n   * @author WestLangley / https://github.com/WestLangley\n   * @author zz85 / https://github.com/zz85\n   * @author miningold / https://github.com/miningold\n   * @author jonobr1 / https://github.com/jonobr1\n   * @author Mugen87 / https://github.com/Mugen87\n   *\n   */\n\n  // TubeGeometry\n\n  function TubeGeometry(\n    path,\n    tubularSegments,\n    radius,\n    radialSegments,\n    closed,\n    taper\n  ) {\n    Geometry.call(this);\n\n    this.type = \"TubeGeometry\";\n\n    this.parameters = {\n      path: path,\n      tubularSegments: tubularSegments,\n      radius: radius,\n      radialSegments: radialSegments,\n      closed: closed,\n    };\n\n    if (taper !== undefined) {\n      console.warn(\"THREE.TubeGeometry: taper has been removed.\");\n    }\n\n    var bufferGeometry = new TubeBufferGeometry(\n      path,\n      tubularSegments,\n      radius,\n      radialSegments,\n      closed\n    );\n\n    // expose internals\n\n    this.tangents = bufferGeometry.tangents;\n    this.normals = bufferGeometry.normals;\n    this.binormals = bufferGeometry.binormals;\n\n    // create geometry\n\n    this.fromBufferGeometry(bufferGeometry);\n    this.mergeVertices();\n  }\n\n  TubeGeometry.prototype = Object.create(Geometry.prototype);\n  TubeGeometry.prototype.constructor = TubeGeometry;\n\n  // TubeBufferGeometry\n\n  function TubeBufferGeometry(\n    path,\n    tubularSegments,\n    radius,\n    radialSegments,\n    closed\n  ) {\n    BufferGeometry.call(this);\n\n    this.type = \"TubeBufferGeometry\";\n\n    this.parameters = {\n      path: path,\n      tubularSegments: tubularSegments,\n      radius: radius,\n      radialSegments: radialSegments,\n      closed: closed,\n    };\n\n    tubularSegments = tubularSegments || 64;\n    radius = radius || 1;\n    radialSegments = radialSegments || 8;\n    closed = closed || false;\n\n    var frames = path.computeFrenetFrames(tubularSegments, closed);\n\n    // expose internals\n\n    this.tangents = frames.tangents;\n    this.normals = frames.normals;\n    this.binormals = frames.binormals;\n\n    // helper variables\n\n    var vertex = new Vector3();\n    var normal = new Vector3();\n    var uv = new Vector2();\n    var P = new Vector3();\n\n    var i, j;\n\n    // buffer\n\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n    var indices = [];\n\n    // create buffer data\n\n    generateBufferData();\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    this.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n\n    // functions\n\n    function generateBufferData() {\n      for (i = 0; i < tubularSegments; i++) {\n        generateSegment(i);\n      }\n\n      // if the geometry is not closed, generate the last row of vertices and normals\n      // at the regular position on the given path\n      //\n      // if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n      generateSegment(closed === false ? tubularSegments : 0);\n\n      // uvs are generated in a separate function.\n      // this makes it easy compute correct values for closed geometries\n\n      generateUVs();\n\n      // finally create faces\n\n      generateIndices();\n    }\n\n    function generateSegment(i) {\n      // we use getPointAt to sample evenly distributed points from the given path\n\n      P = path.getPointAt(i / tubularSegments, P);\n\n      // retrieve corresponding normal and binormal\n\n      var N = frames.normals[i];\n      var B = frames.binormals[i];\n\n      // generate normals and vertices for the current segment\n\n      for (j = 0; j <= radialSegments; j++) {\n        var v = (j / radialSegments) * Math.PI * 2;\n\n        var sin = Math.sin(v);\n        var cos = -Math.cos(v);\n\n        // normal\n\n        normal.x = cos * N.x + sin * B.x;\n        normal.y = cos * N.y + sin * B.y;\n        normal.z = cos * N.z + sin * B.z;\n        normal.normalize();\n\n        normals.push(normal.x, normal.y, normal.z);\n\n        // vertex\n\n        vertex.x = P.x + radius * normal.x;\n        vertex.y = P.y + radius * normal.y;\n        vertex.z = P.z + radius * normal.z;\n\n        vertices.push(vertex.x, vertex.y, vertex.z);\n      }\n    }\n\n    function generateIndices() {\n      for (j = 1; j <= tubularSegments; j++) {\n        for (i = 1; i <= radialSegments; i++) {\n          var a = (radialSegments + 1) * (j - 1) + (i - 1);\n          var b = (radialSegments + 1) * j + (i - 1);\n          var c = (radialSegments + 1) * j + i;\n          var d = (radialSegments + 1) * (j - 1) + i;\n\n          // faces\n\n          indices.push(a, b, d);\n          indices.push(b, c, d);\n        }\n      }\n    }\n\n    function generateUVs() {\n      for (i = 0; i <= tubularSegments; i++) {\n        for (j = 0; j <= radialSegments; j++) {\n          uv.x = i / tubularSegments;\n          uv.y = j / radialSegments;\n\n          uvs.push(uv.x, uv.y);\n        }\n      }\n    }\n  }\n\n  TubeBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  TubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\n\n  TubeBufferGeometry.prototype.toJSON = function () {\n    var data = BufferGeometry.prototype.toJSON.call(this);\n\n    data.path = this.parameters.path.toJSON();\n\n    return data;\n  };\n\n  /**\n   * @author oosmoxiecode\n   * @author Mugen87 / https://github.com/Mugen87\n   *\n   * based on http://www.blackpawn.com/texts/pqtorus/\n   */\n\n  // TorusKnotGeometry\n\n  function TorusKnotGeometry(\n    radius,\n    tube,\n    tubularSegments,\n    radialSegments,\n    p,\n    q,\n    heightScale\n  ) {\n    Geometry.call(this);\n\n    this.type = \"TorusKnotGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      tubularSegments: tubularSegments,\n      radialSegments: radialSegments,\n      p: p,\n      q: q,\n    };\n\n    if (heightScale !== undefined) {\n      console.warn(\n        \"THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.\"\n      );\n    }\n\n    this.fromBufferGeometry(\n      new TorusKnotBufferGeometry(\n        radius,\n        tube,\n        tubularSegments,\n        radialSegments,\n        p,\n        q\n      )\n    );\n    this.mergeVertices();\n  }\n\n  TorusKnotGeometry.prototype = Object.create(Geometry.prototype);\n  TorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n\n  // TorusKnotBufferGeometry\n\n  function TorusKnotBufferGeometry(\n    radius,\n    tube,\n    tubularSegments,\n    radialSegments,\n    p,\n    q\n  ) {\n    BufferGeometry.call(this);\n\n    this.type = \"TorusKnotBufferGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      tubularSegments: tubularSegments,\n      radialSegments: radialSegments,\n      p: p,\n      q: q,\n    };\n\n    radius = radius || 1;\n    tube = tube || 0.4;\n    tubularSegments = Math.floor(tubularSegments) || 64;\n    radialSegments = Math.floor(radialSegments) || 8;\n    p = p || 2;\n    q = q || 3;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // helper variables\n\n    var i, j;\n\n    var vertex = new Vector3();\n    var normal = new Vector3();\n\n    var P1 = new Vector3();\n    var P2 = new Vector3();\n\n    var B = new Vector3();\n    var T = new Vector3();\n    var N = new Vector3();\n\n    // generate vertices, normals and uvs\n\n    for (i = 0; i <= tubularSegments; ++i) {\n      // the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n      var u = (i / tubularSegments) * p * Math.PI * 2;\n\n      // now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n      // these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n      calculatePositionOnCurve(u, p, q, radius, P1);\n      calculatePositionOnCurve(u + 0.01, p, q, radius, P2);\n\n      // calculate orthonormal basis\n\n      T.subVectors(P2, P1);\n      N.addVectors(P2, P1);\n      B.crossVectors(T, N);\n      N.crossVectors(B, T);\n\n      // normalize B, N. T can be ignored, we don't use it\n\n      B.normalize();\n      N.normalize();\n\n      for (j = 0; j <= radialSegments; ++j) {\n        // now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n        // because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n        var v = (j / radialSegments) * Math.PI * 2;\n        var cx = -tube * Math.cos(v);\n        var cy = tube * Math.sin(v);\n\n        // now calculate the final vertex position.\n        // first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n        vertex.x = P1.x + (cx * N.x + cy * B.x);\n        vertex.y = P1.y + (cx * N.y + cy * B.y);\n        vertex.z = P1.z + (cx * N.z + cy * B.z);\n\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        // normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n        normal.subVectors(vertex, P1).normalize();\n\n        normals.push(normal.x, normal.y, normal.z);\n\n        // uv\n\n        uvs.push(i / tubularSegments);\n        uvs.push(j / radialSegments);\n      }\n    }\n\n    // generate indices\n\n    for (j = 1; j <= tubularSegments; j++) {\n      for (i = 1; i <= radialSegments; i++) {\n        // indices\n\n        var a = (radialSegments + 1) * (j - 1) + (i - 1);\n        var b = (radialSegments + 1) * j + (i - 1);\n        var c = (radialSegments + 1) * j + i;\n        var d = (radialSegments + 1) * (j - 1) + i;\n\n        // faces\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n      }\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    this.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n\n    // this function calculates the current position on the torus curve\n\n    function calculatePositionOnCurve(u, p, q, radius, position) {\n      var cu = Math.cos(u);\n      var su = Math.sin(u);\n      var quOverP = (q / p) * u;\n      var cs = Math.cos(quOverP);\n\n      position.x = radius * (2 + cs) * 0.5 * cu;\n      position.y = radius * (2 + cs) * su * 0.5;\n      position.z = radius * Math.sin(quOverP) * 0.5;\n    }\n  }\n\n  TorusKnotBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  TorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n\n  /**\n   * @author oosmoxiecode\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // TorusGeometry\n\n  function TorusGeometry(radius, tube, radialSegments, tubularSegments, arc) {\n    Geometry.call(this);\n\n    this.type = \"TorusGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      radialSegments: radialSegments,\n      tubularSegments: tubularSegments,\n      arc: arc,\n    };\n\n    this.fromBufferGeometry(\n      new TorusBufferGeometry(\n        radius,\n        tube,\n        radialSegments,\n        tubularSegments,\n        arc\n      )\n    );\n    this.mergeVertices();\n  }\n\n  TorusGeometry.prototype = Object.create(Geometry.prototype);\n  TorusGeometry.prototype.constructor = TorusGeometry;\n\n  // TorusBufferGeometry\n\n  function TorusBufferGeometry(\n    radius,\n    tube,\n    radialSegments,\n    tubularSegments,\n    arc\n  ) {\n    BufferGeometry.call(this);\n\n    this.type = \"TorusBufferGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      tube: tube,\n      radialSegments: radialSegments,\n      tubularSegments: tubularSegments,\n      arc: arc,\n    };\n\n    radius = radius || 1;\n    tube = tube || 0.4;\n    radialSegments = Math.floor(radialSegments) || 8;\n    tubularSegments = Math.floor(tubularSegments) || 6;\n    arc = arc || Math.PI * 2;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // helper variables\n\n    var center = new Vector3();\n    var vertex = new Vector3();\n    var normal = new Vector3();\n\n    var j, i;\n\n    // generate vertices, normals and uvs\n\n    for (j = 0; j <= radialSegments; j++) {\n      for (i = 0; i <= tubularSegments; i++) {\n        var u = (i / tubularSegments) * arc;\n        var v = (j / radialSegments) * Math.PI * 2;\n\n        // vertex\n\n        vertex.x = (radius + tube * Math.cos(v)) * Math.cos(u);\n        vertex.y = (radius + tube * Math.cos(v)) * Math.sin(u);\n        vertex.z = tube * Math.sin(v);\n\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        // normal\n\n        center.x = radius * Math.cos(u);\n        center.y = radius * Math.sin(u);\n        normal.subVectors(vertex, center).normalize();\n\n        normals.push(normal.x, normal.y, normal.z);\n\n        // uv\n\n        uvs.push(i / tubularSegments);\n        uvs.push(j / radialSegments);\n      }\n    }\n\n    // generate indices\n\n    for (j = 1; j <= radialSegments; j++) {\n      for (i = 1; i <= tubularSegments; i++) {\n        // indices\n\n        var a = (tubularSegments + 1) * j + i - 1;\n        var b = (tubularSegments + 1) * (j - 1) + i - 1;\n        var c = (tubularSegments + 1) * (j - 1) + i;\n        var d = (tubularSegments + 1) * j + i;\n\n        // faces\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n      }\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    this.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n  }\n\n  TorusBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  TorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   * Port from https://github.com/mapbox/earcut (v2.1.5)\n   */\n\n  var Earcut = {\n    triangulate: function (data, holeIndices, dim) {\n      dim = dim || 2;\n\n      var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n      if (!outerNode || outerNode.next === outerNode.prev) {\n        return triangles;\n      }\n\n      var minX, minY, maxX, maxY, x, y, invSize;\n\n      if (hasHoles) {\n        outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n      }\n\n      // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n      if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n          x = data[i];\n          y = data[i + 1];\n          if (x < minX) {\n            minX = x;\n          }\n          if (y < minY) {\n            minY = y;\n          }\n          if (x > maxX) {\n            maxX = x;\n          }\n          if (y > maxY) {\n            maxY = y;\n          }\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 1 / invSize : 0;\n      }\n\n      earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\n      return triangles;\n    },\n  };\n\n  // create a circular doubly linked list from polygon points in the specified winding order\n  function linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === signedArea(data, start, end, dim) > 0) {\n      for (i = start; i < end; i += dim) {\n        last = insertNode(i, data[i], data[i + 1], last);\n      }\n    } else {\n      for (i = end - dim; i >= start; i -= dim) {\n        last = insertNode(i, data[i], data[i + 1], last);\n      }\n    }\n\n    if (last && equals(last, last.next)) {\n      removeNode(last);\n      last = last.next;\n    }\n\n    return last;\n  }\n\n  // eliminate colinear or duplicate points\n  function filterPoints(start, end) {\n    if (!start) {\n      return start;\n    }\n    if (!end) {\n      end = start;\n    }\n\n    var p = start,\n      again;\n    do {\n      again = false;\n\n      if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n        removeNode(p);\n        p = end = p.prev;\n        if (p === p.next) {\n          break;\n        }\n        again = true;\n      } else {\n        p = p.next;\n      }\n    } while (again || p !== end);\n\n    return end;\n  }\n\n  // main ear slicing loop which triangulates a polygon (given as a linked list)\n  function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) {\n      return;\n    }\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) {\n      indexCurve(ear, minX, minY, invSize);\n    }\n\n    var stop = ear,\n      prev,\n      next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n      prev = ear.prev;\n      next = ear.next;\n\n      if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n        // cut off the triangle\n        triangles.push(prev.i / dim);\n        triangles.push(ear.i / dim);\n        triangles.push(next.i / dim);\n\n        removeNode(ear);\n\n        // skipping the next vertex leads to less sliver triangles\n        ear = next.next;\n        stop = next.next;\n\n        continue;\n      }\n\n      ear = next;\n\n      // if we looped through the whole remaining polygon and can't find any more ears\n      if (ear === stop) {\n        // try filtering points and slicing again\n        if (!pass) {\n          earcutLinked(\n            filterPoints(ear),\n            triangles,\n            dim,\n            minX,\n            minY,\n            invSize,\n            1\n          );\n\n          // if this didn't work, try curing all small self-intersections locally\n        } else if (pass === 1) {\n          ear = cureLocalIntersections(ear, triangles, dim);\n          earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n          // as a last resort, try splitting the remaining polygon into two\n        } else if (pass === 2) {\n          splitEarcut(ear, triangles, dim, minX, minY, invSize);\n        }\n\n        break;\n      }\n    }\n  }\n\n  // check whether a polygon node forms a valid ear with adjacent nodes\n  function isEar(ear) {\n    var a = ear.prev,\n      b = ear,\n      c = ear.next;\n\n    if (area(a, b, c) >= 0) {\n      return false;\n    } // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var p = ear.next.next;\n\n    while (p !== ear.prev) {\n      if (\n        pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n        area(p.prev, p, p.next) >= 0\n      ) {\n        return false;\n      }\n      p = p.next;\n    }\n\n    return true;\n  }\n\n  function isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n      b = ear,\n      c = ear.next;\n\n    if (area(a, b, c) >= 0) {\n      return false;\n    } // reflex, can't be an ear\n\n    // triangle bbox; min & max are calculated like this for speed\n    var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : b.x < c.x ? b.x : c.x,\n      minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : b.y < c.y ? b.y : c.y,\n      maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : b.x > c.x ? b.x : c.x,\n      maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : b.y > c.y ? b.y : c.y;\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n      maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\n    var p = ear.prevZ,\n      n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n      if (\n        p !== ear.prev &&\n        p !== ear.next &&\n        pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n        area(p.prev, p, p.next) >= 0\n      ) {\n        return false;\n      }\n      p = p.prevZ;\n\n      if (\n        n !== ear.prev &&\n        n !== ear.next &&\n        pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n        area(n.prev, n, n.next) >= 0\n      ) {\n        return false;\n      }\n      n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n      if (\n        p !== ear.prev &&\n        p !== ear.next &&\n        pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n        area(p.prev, p, p.next) >= 0\n      ) {\n        return false;\n      }\n      p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n      if (\n        n !== ear.prev &&\n        n !== ear.next &&\n        pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n        area(n.prev, n, n.next) >= 0\n      ) {\n        return false;\n      }\n      n = n.nextZ;\n    }\n\n    return true;\n  }\n\n  // go through all polygon nodes and cure small local self-intersections\n  function cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n      var a = p.prev,\n        b = p.next.next;\n\n      if (\n        !equals(a, b) &&\n        intersects(a, p, p.next, b) &&\n        locallyInside(a, b) &&\n        locallyInside(b, a)\n      ) {\n        triangles.push(a.i / dim);\n        triangles.push(p.i / dim);\n        triangles.push(b.i / dim);\n\n        // remove two nodes involved\n        removeNode(p);\n        removeNode(p.next);\n\n        p = start = b;\n      }\n\n      p = p.next;\n    } while (p !== start);\n\n    return p;\n  }\n\n  // try splitting polygon into two and triangulate them independently\n  function splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n      var b = a.next.next;\n      while (b !== a.prev) {\n        if (a.i !== b.i && isValidDiagonal(a, b)) {\n          // split the polygon in two by the diagonal\n          var c = splitPolygon(a, b);\n\n          // filter colinear points around the cuts\n          a = filterPoints(a, a.next);\n          c = filterPoints(c, c.next);\n\n          // run earcut on each half\n          earcutLinked(a, triangles, dim, minX, minY, invSize);\n          earcutLinked(c, triangles, dim, minX, minY, invSize);\n          return;\n        }\n\n        b = b.next;\n      }\n\n      a = a.next;\n    } while (a !== start);\n  }\n\n  // link every hole into the outer loop, producing a single-ring polygon without holes\n  function eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n      i,\n      len,\n      start,\n      end,\n      list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n      start = holeIndices[i] * dim;\n      end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n      list = linkedList(data, start, end, dim, false);\n      if (list === list.next) {\n        list.steiner = true;\n      }\n      queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n      eliminateHole(queue[i], outerNode);\n      outerNode = filterPoints(outerNode, outerNode.next);\n    }\n\n    return outerNode;\n  }\n\n  function compareX(a, b) {\n    return a.x - b.x;\n  }\n\n  // find a bridge between vertices that connects hole with an outer ring and and link it\n  function eliminateHole(hole, outerNode) {\n    outerNode = findHoleBridge(hole, outerNode);\n    if (outerNode) {\n      var b = splitPolygon(outerNode, hole);\n      filterPoints(b, b.next);\n    }\n  }\n\n  // David Eberly's algorithm for finding a bridge between hole and outer polygon\n  function findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n      hx = hole.x,\n      hy = hole.y,\n      qx = -Infinity,\n      m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n      if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n        var x = p.x + ((hy - p.y) * (p.next.x - p.x)) / (p.next.y - p.y);\n        if (x <= hx && x > qx) {\n          qx = x;\n          if (x === hx) {\n            if (hy === p.y) {\n              return p;\n            }\n            if (hy === p.next.y) {\n              return p.next;\n            }\n          }\n\n          m = p.x < p.next.x ? p : p.next;\n        }\n      }\n\n      p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) {\n      return null;\n    }\n\n    if (hx === qx) {\n      return m.prev;\n    } // hole touches outer segment; pick lower endpoint\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n      mx = m.x,\n      my = m.y,\n      tanMin = Infinity,\n      tan;\n\n    p = m.next;\n\n    while (p !== stop) {\n      if (\n        hx >= p.x &&\n        p.x >= mx &&\n        hx !== p.x &&\n        pointInTriangle(\n          hy < my ? hx : qx,\n          hy,\n          mx,\n          my,\n          hy < my ? qx : hx,\n          hy,\n          p.x,\n          p.y\n        )\n      ) {\n        tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n        if (\n          (tan < tanMin || (tan === tanMin && p.x > m.x)) &&\n          locallyInside(p, hole)\n        ) {\n          m = p;\n          tanMin = tan;\n        }\n      }\n\n      p = p.next;\n    }\n\n    return m;\n  }\n\n  // interlink polygon nodes in z-order\n  function indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n      if (p.z === null) {\n        p.z = zOrder(p.x, p.y, minX, minY, invSize);\n      }\n      p.prevZ = p.prev;\n      p.nextZ = p.next;\n      p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n  }\n\n  // Simon Tatham's linked list merge sort algorithm\n  // http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\n  function sortLinked(list) {\n    var i,\n      p,\n      q,\n      e,\n      tail,\n      numMerges,\n      pSize,\n      qSize,\n      inSize = 1;\n\n    do {\n      p = list;\n      list = null;\n      tail = null;\n      numMerges = 0;\n\n      while (p) {\n        numMerges++;\n        q = p;\n        pSize = 0;\n        for (i = 0; i < inSize; i++) {\n          pSize++;\n          q = q.nextZ;\n          if (!q) {\n            break;\n          }\n        }\n\n        qSize = inSize;\n\n        while (pSize > 0 || (qSize > 0 && q)) {\n          if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n            e = p;\n            p = p.nextZ;\n            pSize--;\n          } else {\n            e = q;\n            q = q.nextZ;\n            qSize--;\n          }\n\n          if (tail) {\n            tail.nextZ = e;\n          } else {\n            list = e;\n          }\n\n          e.prevZ = tail;\n          tail = e;\n        }\n\n        p = q;\n      }\n\n      tail.nextZ = null;\n      inSize *= 2;\n    } while (numMerges > 1);\n\n    return list;\n  }\n\n  // z-order of a point given coords and inverse of the longer side of data bbox\n  function zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = 32767 * (x - minX) * invSize;\n    y = 32767 * (y - minY) * invSize;\n\n    x = (x | (x << 8)) & 0x00ff00ff;\n    x = (x | (x << 4)) & 0x0f0f0f0f;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00ff00ff;\n    y = (y | (y << 4)) & 0x0f0f0f0f;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n  }\n\n  // find the leftmost node of a polygon ring\n  function getLeftmost(start) {\n    var p = start,\n      leftmost = start;\n    do {\n      if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) {\n        leftmost = p;\n      }\n      p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n  }\n\n  // check if a point lies within a convex triangle\n  function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (\n      (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n      (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n      (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0\n    );\n  }\n\n  // check if a diagonal between two polygon nodes is valid (lies in polygon interior)\n  function isValidDiagonal(a, b) {\n    return (\n      a.next.i !== b.i &&\n      a.prev.i !== b.i &&\n      !intersectsPolygon(a, b) &&\n      locallyInside(a, b) &&\n      locallyInside(b, a) &&\n      middleInside(a, b)\n    );\n  }\n\n  // signed area of a triangle\n  function area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n  }\n\n  // check if two points are equal\n  function equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n  }\n\n  // check if two segments intersect\n  function intersects(p1, q1, p2, q2) {\n    if (\n      (equals(p1, p2) && equals(q1, q2)) ||\n      (equals(p1, q2) && equals(p2, q1))\n    ) {\n      return true;\n    }\n    return (\n      area(p1, q1, p2) > 0 !== area(p1, q1, q2) > 0 &&\n      area(p2, q2, p1) > 0 !== area(p2, q2, q1) > 0\n    );\n  }\n\n  // check if a polygon diagonal intersects any polygon segments\n  function intersectsPolygon(a, b) {\n    var p = a;\n    do {\n      if (\n        p.i !== a.i &&\n        p.next.i !== a.i &&\n        p.i !== b.i &&\n        p.next.i !== b.i &&\n        intersects(p, p.next, a, b)\n      ) {\n        return true;\n      }\n      p = p.next;\n    } while (p !== a);\n\n    return false;\n  }\n\n  // check if a polygon diagonal is locally inside the polygon\n  function locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0\n      ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0\n      : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n  }\n\n  // check if the middle point of a polygon diagonal is inside the polygon\n  function middleInside(a, b) {\n    var p = a,\n      inside = false,\n      px = (a.x + b.x) / 2,\n      py = (a.y + b.y) / 2;\n    do {\n      if (\n        p.y > py !== p.next.y > py &&\n        p.next.y !== p.y &&\n        px < ((p.next.x - p.x) * (py - p.y)) / (p.next.y - p.y) + p.x\n      ) {\n        inside = !inside;\n      }\n      p = p.next;\n    } while (p !== a);\n\n    return inside;\n  }\n\n  // link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n  // if one belongs to the outer ring and another to a hole, it merges it into a single ring\n  function splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n      b2 = new Node(b.i, b.x, b.y),\n      an = a.next,\n      bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n  }\n\n  // create a node and optionally link it with previous one (in a circular doubly linked list)\n  function insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n      p.prev = p;\n      p.next = p;\n    } else {\n      p.next = last.next;\n      p.prev = last;\n      last.next.prev = p;\n      last.next = p;\n    }\n\n    return p;\n  }\n\n  function removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) {\n      p.prevZ.nextZ = p.nextZ;\n    }\n    if (p.nextZ) {\n      p.nextZ.prevZ = p.prevZ;\n    }\n  }\n\n  function Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = null;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n  }\n\n  function signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n      sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n      j = i;\n    }\n\n    return sum;\n  }\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   */\n\n  var ShapeUtils = {\n    // calculate area of the contour polygon\n\n    area: function (contour) {\n      var n = contour.length;\n      var a = 0.0;\n\n      for (var p = n - 1, q = 0; q < n; p = q++) {\n        a += contour[p].x * contour[q].y - contour[q].x * contour[p].y;\n      }\n\n      return a * 0.5;\n    },\n\n    isClockWise: function (pts) {\n      return ShapeUtils.area(pts) < 0;\n    },\n\n    triangulateShape: function (contour, holes) {\n      var vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n      var holeIndices = []; // array of hole indices\n      var faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n      removeDupEndPts(contour);\n      addContour(vertices, contour);\n\n      //\n\n      var holeIndex = contour.length;\n\n      holes.forEach(removeDupEndPts);\n\n      for (var i = 0; i < holes.length; i++) {\n        holeIndices.push(holeIndex);\n        holeIndex += holes[i].length;\n        addContour(vertices, holes[i]);\n      }\n\n      //\n\n      var triangles = Earcut.triangulate(vertices, holeIndices);\n\n      //\n\n      for (var i = 0; i < triangles.length; i += 3) {\n        faces.push(triangles.slice(i, i + 3));\n      }\n\n      return faces;\n    },\n  };\n\n  function removeDupEndPts(points) {\n    var l = points.length;\n\n    if (l > 2 && points[l - 1].equals(points[0])) {\n      points.pop();\n    }\n  }\n\n  function addContour(vertices, contour) {\n    for (var i = 0; i < contour.length; i++) {\n      vertices.push(contour[i].x);\n      vertices.push(contour[i].y);\n    }\n  }\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   *\n   * Creates extruded geometry from a path shape.\n   *\n   * parameters = {\n   *\n   *  curveSegments: <int>, // number of points on the curves\n   *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n   *  depth: <float>, // Depth to extrude the shape\n   *\n   *  bevelEnabled: <bool>, // turn on bevel\n   *  bevelThickness: <float>, // how deep into the original shape bevel goes\n   *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n   *  bevelOffset: <float>, // how far from shape outline does bevel start\n   *  bevelSegments: <int>, // number of bevel layers\n   *\n   *  extrudePath: <THREE.Curve> // curve to extrude shape along\n   *\n   *  UVGenerator: <Object> // object that provides UV generator functions\n   *\n   * }\n   */\n\n  // ExtrudeGeometry\n\n  function ExtrudeGeometry(shapes, options) {\n    Geometry.call(this);\n\n    this.type = \"ExtrudeGeometry\";\n\n    this.parameters = {\n      shapes: shapes,\n      options: options,\n    };\n\n    this.fromBufferGeometry(new ExtrudeBufferGeometry(shapes, options));\n    this.mergeVertices();\n  }\n\n  ExtrudeGeometry.prototype = Object.create(Geometry.prototype);\n  ExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\n  ExtrudeGeometry.prototype.toJSON = function () {\n    var data = Geometry.prototype.toJSON.call(this);\n\n    var shapes = this.parameters.shapes;\n    var options = this.parameters.options;\n\n    return toJSON(shapes, options, data);\n  };\n\n  // ExtrudeBufferGeometry\n\n  function ExtrudeBufferGeometry(shapes, options) {\n    BufferGeometry.call(this);\n\n    this.type = \"ExtrudeBufferGeometry\";\n\n    this.parameters = {\n      shapes: shapes,\n      options: options,\n    };\n\n    shapes = Array.isArray(shapes) ? shapes : [shapes];\n\n    var scope = this;\n\n    var verticesArray = [];\n    var uvArray = [];\n\n    for (var i = 0, l = shapes.length; i < l; i++) {\n      var shape = shapes[i];\n      addShape(shape);\n    }\n\n    // build geometry\n\n    this.setAttribute(\"position\", new Float32BufferAttribute(verticesArray, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvArray, 2));\n\n    this.computeVertexNormals();\n\n    // functions\n\n    function addShape(shape) {\n      var placeholder = [];\n\n      // options\n\n      var curveSegments =\n        options.curveSegments !== undefined ? options.curveSegments : 12;\n      var steps = options.steps !== undefined ? options.steps : 1;\n      var depth = options.depth !== undefined ? options.depth : 100;\n\n      var bevelEnabled =\n        options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n      var bevelThickness =\n        options.bevelThickness !== undefined ? options.bevelThickness : 6;\n      var bevelSize =\n        options.bevelSize !== undefined\n          ? options.bevelSize\n          : bevelThickness - 2;\n      var bevelOffset =\n        options.bevelOffset !== undefined ? options.bevelOffset : 0;\n      var bevelSegments =\n        options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n      var extrudePath = options.extrudePath;\n\n      var uvgen =\n        options.UVGenerator !== undefined\n          ? options.UVGenerator\n          : WorldUVGenerator;\n\n      // deprecated options\n\n      if (options.amount !== undefined) {\n        console.warn(\n          \"THREE.ExtrudeBufferGeometry: amount has been renamed to depth.\"\n        );\n        depth = options.amount;\n      }\n\n      //\n\n      var extrudePts,\n        extrudeByPath = false;\n      var splineTube, binormal, normal, position2;\n\n      if (extrudePath) {\n        extrudePts = extrudePath.getSpacedPoints(steps);\n\n        extrudeByPath = true;\n        bevelEnabled = false; // bevels not supported for path extrusion\n\n        // SETUP TNB variables\n\n        // TODO1 - have a .isClosed in spline?\n\n        splineTube = extrudePath.computeFrenetFrames(steps, false);\n\n        // console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n        binormal = new Vector3();\n        normal = new Vector3();\n        position2 = new Vector3();\n      }\n\n      // Safeguards if bevels are not enabled\n\n      if (!bevelEnabled) {\n        bevelSegments = 0;\n        bevelThickness = 0;\n        bevelSize = 0;\n        bevelOffset = 0;\n      }\n\n      // Variables initialization\n\n      var ahole, h, hl; // looping of holes\n\n      var shapePoints = shape.extractPoints(curveSegments);\n\n      var vertices = shapePoints.shape;\n      var holes = shapePoints.holes;\n\n      var reverse = !ShapeUtils.isClockWise(vertices);\n\n      if (reverse) {\n        vertices = vertices.reverse();\n\n        // Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n        for (h = 0, hl = holes.length; h < hl; h++) {\n          ahole = holes[h];\n\n          if (ShapeUtils.isClockWise(ahole)) {\n            holes[h] = ahole.reverse();\n          }\n        }\n      }\n\n      var faces = ShapeUtils.triangulateShape(vertices, holes);\n\n      /* Vertices */\n\n      var contour = vertices; // vertices has all points but contour has only points of circumference\n\n      for (h = 0, hl = holes.length; h < hl; h++) {\n        ahole = holes[h];\n\n        vertices = vertices.concat(ahole);\n      }\n\n      function scalePt2(pt, vec, size) {\n        if (!vec) {\n          console.error(\"THREE.ExtrudeGeometry: vec does not exist\");\n        }\n\n        return vec.clone().multiplyScalar(size).add(pt);\n      }\n\n      var b,\n        bs,\n        t,\n        z,\n        vert,\n        vlen = vertices.length,\n        face,\n        flen = faces.length;\n\n      // Find directions for point movement\n\n      function getBevelVec(inPt, inPrev, inNext) {\n        // computes for inPt the corresponding point inPt' on a new contour\n        //   shifted by 1 unit (length of normalized vector) to the left\n        // if we walk along contour clockwise, this new contour is outside the old one\n        //\n        // inPt' is the intersection of the two lines parallel to the two\n        //  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n        var v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n        // good reading for geometry algorithms (here: line-line intersection)\n        // http://geomalgorithms.com/a05-_intersect-1.html\n\n        var v_prev_x = inPt.x - inPrev.x,\n          v_prev_y = inPt.y - inPrev.y;\n        var v_next_x = inNext.x - inPt.x,\n          v_next_y = inNext.y - inPt.y;\n\n        var v_prev_lensq = v_prev_x * v_prev_x + v_prev_y * v_prev_y;\n\n        // check for collinear edges\n        var collinear0 = v_prev_x * v_next_y - v_prev_y * v_next_x;\n\n        if (Math.abs(collinear0) > Number.EPSILON) {\n          // not collinear\n\n          // length of vectors for normalizing\n\n          var v_prev_len = Math.sqrt(v_prev_lensq);\n          var v_next_len = Math.sqrt(v_next_x * v_next_x + v_next_y * v_next_y);\n\n          // shift adjacent points by unit vectors to the left\n\n          var ptPrevShift_x = inPrev.x - v_prev_y / v_prev_len;\n          var ptPrevShift_y = inPrev.y + v_prev_x / v_prev_len;\n\n          var ptNextShift_x = inNext.x - v_next_y / v_next_len;\n          var ptNextShift_y = inNext.y + v_next_x / v_next_len;\n\n          // scaling factor for v_prev to intersection point\n\n          var sf =\n            ((ptNextShift_x - ptPrevShift_x) * v_next_y -\n              (ptNextShift_y - ptPrevShift_y) * v_next_x) /\n            (v_prev_x * v_next_y - v_prev_y * v_next_x);\n\n          // vector from inPt to intersection point\n\n          v_trans_x = ptPrevShift_x + v_prev_x * sf - inPt.x;\n          v_trans_y = ptPrevShift_y + v_prev_y * sf - inPt.y;\n\n          // Don't normalize!, otherwise sharp corners become ugly\n          //  but prevent crazy spikes\n          var v_trans_lensq = v_trans_x * v_trans_x + v_trans_y * v_trans_y;\n          if (v_trans_lensq <= 2) {\n            return new Vector2(v_trans_x, v_trans_y);\n          } else {\n            shrink_by = Math.sqrt(v_trans_lensq / 2);\n          }\n        } else {\n          // handle special case of collinear edges\n\n          var direction_eq = false; // assumes: opposite\n          if (v_prev_x > Number.EPSILON) {\n            if (v_next_x > Number.EPSILON) {\n              direction_eq = true;\n            }\n          } else {\n            if (v_prev_x < -Number.EPSILON) {\n              if (v_next_x < -Number.EPSILON) {\n                direction_eq = true;\n              }\n            } else {\n              if (Math.sign(v_prev_y) === Math.sign(v_next_y)) {\n                direction_eq = true;\n              }\n            }\n          }\n\n          if (direction_eq) {\n            // console.log(\"Warning: lines are a straight sequence\");\n            v_trans_x = -v_prev_y;\n            v_trans_y = v_prev_x;\n            shrink_by = Math.sqrt(v_prev_lensq);\n          } else {\n            // console.log(\"Warning: lines are a straight spike\");\n            v_trans_x = v_prev_x;\n            v_trans_y = v_prev_y;\n            shrink_by = Math.sqrt(v_prev_lensq / 2);\n          }\n        }\n\n        return new Vector2(v_trans_x / shrink_by, v_trans_y / shrink_by);\n      }\n\n      var contourMovements = [];\n\n      for (\n        var i = 0, il = contour.length, j = il - 1, k = i + 1;\n        i < il;\n        i++, j++, k++\n      ) {\n        if (j === il) {\n          j = 0;\n        }\n        if (k === il) {\n          k = 0;\n        }\n\n        //  (j)---(i)---(k)\n        // console.log('i,j,k', i, j , k)\n\n        contourMovements[i] = getBevelVec(contour[i], contour[j], contour[k]);\n      }\n\n      var holesMovements = [],\n        oneHoleMovements,\n        verticesMovements = contourMovements.concat();\n\n      for (h = 0, hl = holes.length; h < hl; h++) {\n        ahole = holes[h];\n\n        oneHoleMovements = [];\n\n        for (\n          i = 0, il = ahole.length, j = il - 1, k = i + 1;\n          i < il;\n          i++, j++, k++\n        ) {\n          if (j === il) {\n            j = 0;\n          }\n          if (k === il) {\n            k = 0;\n          }\n\n          //  (j)---(i)---(k)\n          oneHoleMovements[i] = getBevelVec(ahole[i], ahole[j], ahole[k]);\n        }\n\n        holesMovements.push(oneHoleMovements);\n        verticesMovements = verticesMovements.concat(oneHoleMovements);\n      }\n\n      // Loop bevelSegments, 1 for the front, 1 for the back\n\n      for (b = 0; b < bevelSegments; b++) {\n        //for ( b = bevelSegments; b > 0; b -- ) {\n\n        t = b / bevelSegments;\n        z = bevelThickness * Math.cos((t * Math.PI) / 2);\n        bs = bevelSize * Math.sin((t * Math.PI) / 2) + bevelOffset;\n\n        // contract shape\n\n        for (i = 0, il = contour.length; i < il; i++) {\n          vert = scalePt2(contour[i], contourMovements[i], bs);\n\n          v(vert.x, vert.y, -z);\n        }\n\n        // expand holes\n\n        for (h = 0, hl = holes.length; h < hl; h++) {\n          ahole = holes[h];\n          oneHoleMovements = holesMovements[h];\n\n          for (i = 0, il = ahole.length; i < il; i++) {\n            vert = scalePt2(ahole[i], oneHoleMovements[i], bs);\n\n            v(vert.x, vert.y, -z);\n          }\n        }\n      }\n\n      bs = bevelSize + bevelOffset;\n\n      // Back facing vertices\n\n      for (i = 0; i < vlen; i++) {\n        vert = bevelEnabled\n          ? scalePt2(vertices[i], verticesMovements[i], bs)\n          : vertices[i];\n\n        if (!extrudeByPath) {\n          v(vert.x, vert.y, 0);\n        } else {\n          // v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n          normal.copy(splineTube.normals[0]).multiplyScalar(vert.x);\n          binormal.copy(splineTube.binormals[0]).multiplyScalar(vert.y);\n\n          position2.copy(extrudePts[0]).add(normal).add(binormal);\n\n          v(position2.x, position2.y, position2.z);\n        }\n      }\n\n      // Add stepped vertices...\n      // Including front facing vertices\n\n      var s;\n\n      for (s = 1; s <= steps; s++) {\n        for (i = 0; i < vlen; i++) {\n          vert = bevelEnabled\n            ? scalePt2(vertices[i], verticesMovements[i], bs)\n            : vertices[i];\n\n          if (!extrudeByPath) {\n            v(vert.x, vert.y, (depth / steps) * s);\n          } else {\n            // v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n            normal.copy(splineTube.normals[s]).multiplyScalar(vert.x);\n            binormal.copy(splineTube.binormals[s]).multiplyScalar(vert.y);\n\n            position2.copy(extrudePts[s]).add(normal).add(binormal);\n\n            v(position2.x, position2.y, position2.z);\n          }\n        }\n      }\n\n      // Add bevel segments planes\n\n      //for ( b = 1; b <= bevelSegments; b ++ ) {\n      for (b = bevelSegments - 1; b >= 0; b--) {\n        t = b / bevelSegments;\n        z = bevelThickness * Math.cos((t * Math.PI) / 2);\n        bs = bevelSize * Math.sin((t * Math.PI) / 2) + bevelOffset;\n\n        // contract shape\n\n        for (i = 0, il = contour.length; i < il; i++) {\n          vert = scalePt2(contour[i], contourMovements[i], bs);\n          v(vert.x, vert.y, depth + z);\n        }\n\n        // expand holes\n\n        for (h = 0, hl = holes.length; h < hl; h++) {\n          ahole = holes[h];\n          oneHoleMovements = holesMovements[h];\n\n          for (i = 0, il = ahole.length; i < il; i++) {\n            vert = scalePt2(ahole[i], oneHoleMovements[i], bs);\n\n            if (!extrudeByPath) {\n              v(vert.x, vert.y, depth + z);\n            } else {\n              v(\n                vert.x,\n                vert.y + extrudePts[steps - 1].y,\n                extrudePts[steps - 1].x + z\n              );\n            }\n          }\n        }\n      }\n\n      /* Faces */\n\n      // Top and bottom faces\n\n      buildLidFaces();\n\n      // Sides faces\n\n      buildSideFaces();\n\n      /////  Internal functions\n\n      function buildLidFaces() {\n        var start = verticesArray.length / 3;\n\n        if (bevelEnabled) {\n          var layer = 0; // steps + 1\n          var offset = vlen * layer;\n\n          // Bottom faces\n\n          for (i = 0; i < flen; i++) {\n            face = faces[i];\n            f3(face[2] + offset, face[1] + offset, face[0] + offset);\n          }\n\n          layer = steps + bevelSegments * 2;\n          offset = vlen * layer;\n\n          // Top faces\n\n          for (i = 0; i < flen; i++) {\n            face = faces[i];\n            f3(face[0] + offset, face[1] + offset, face[2] + offset);\n          }\n        } else {\n          // Bottom faces\n\n          for (i = 0; i < flen; i++) {\n            face = faces[i];\n            f3(face[2], face[1], face[0]);\n          }\n\n          // Top faces\n\n          for (i = 0; i < flen; i++) {\n            face = faces[i];\n            f3(\n              face[0] + vlen * steps,\n              face[1] + vlen * steps,\n              face[2] + vlen * steps\n            );\n          }\n        }\n\n        scope.addGroup(start, verticesArray.length / 3 - start, 0);\n      }\n\n      // Create faces for the z-sides of the shape\n\n      function buildSideFaces() {\n        var start = verticesArray.length / 3;\n        var layeroffset = 0;\n        sidewalls(contour, layeroffset);\n        layeroffset += contour.length;\n\n        for (h = 0, hl = holes.length; h < hl; h++) {\n          ahole = holes[h];\n          sidewalls(ahole, layeroffset);\n\n          //, true\n          layeroffset += ahole.length;\n        }\n\n        scope.addGroup(start, verticesArray.length / 3 - start, 1);\n      }\n\n      function sidewalls(contour, layeroffset) {\n        var j, k;\n        i = contour.length;\n\n        while (--i >= 0) {\n          j = i;\n          k = i - 1;\n          if (k < 0) {\n            k = contour.length - 1;\n          }\n\n          //console.log('b', i,j, i-1, k,vertices.length);\n\n          var s = 0,\n            sl = steps + bevelSegments * 2;\n\n          for (s = 0; s < sl; s++) {\n            var slen1 = vlen * s;\n            var slen2 = vlen * (s + 1);\n\n            var a = layeroffset + j + slen1,\n              b = layeroffset + k + slen1,\n              c = layeroffset + k + slen2,\n              d = layeroffset + j + slen2;\n\n            f4(a, b, c, d);\n          }\n        }\n      }\n\n      function v(x, y, z) {\n        placeholder.push(x);\n        placeholder.push(y);\n        placeholder.push(z);\n      }\n\n      function f3(a, b, c) {\n        addVertex(a);\n        addVertex(b);\n        addVertex(c);\n\n        var nextIndex = verticesArray.length / 3;\n        var uvs = uvgen.generateTopUV(\n          scope,\n          verticesArray,\n          nextIndex - 3,\n          nextIndex - 2,\n          nextIndex - 1\n        );\n\n        addUV(uvs[0]);\n        addUV(uvs[1]);\n        addUV(uvs[2]);\n      }\n\n      function f4(a, b, c, d) {\n        addVertex(a);\n        addVertex(b);\n        addVertex(d);\n\n        addVertex(b);\n        addVertex(c);\n        addVertex(d);\n\n        var nextIndex = verticesArray.length / 3;\n        var uvs = uvgen.generateSideWallUV(\n          scope,\n          verticesArray,\n          nextIndex - 6,\n          nextIndex - 3,\n          nextIndex - 2,\n          nextIndex - 1\n        );\n\n        addUV(uvs[0]);\n        addUV(uvs[1]);\n        addUV(uvs[3]);\n\n        addUV(uvs[1]);\n        addUV(uvs[2]);\n        addUV(uvs[3]);\n      }\n\n      function addVertex(index) {\n        verticesArray.push(placeholder[index * 3 + 0]);\n        verticesArray.push(placeholder[index * 3 + 1]);\n        verticesArray.push(placeholder[index * 3 + 2]);\n      }\n\n      function addUV(vector2) {\n        uvArray.push(vector2.x);\n        uvArray.push(vector2.y);\n      }\n    }\n  }\n\n  ExtrudeBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  ExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\n\n  ExtrudeBufferGeometry.prototype.toJSON = function () {\n    var data = BufferGeometry.prototype.toJSON.call(this);\n\n    var shapes = this.parameters.shapes;\n    var options = this.parameters.options;\n\n    return toJSON(shapes, options, data);\n  };\n\n  //\n\n  var WorldUVGenerator = {\n    generateTopUV: function (geometry, vertices, indexA, indexB, indexC) {\n      var a_x = vertices[indexA * 3];\n      var a_y = vertices[indexA * 3 + 1];\n      var b_x = vertices[indexB * 3];\n      var b_y = vertices[indexB * 3 + 1];\n      var c_x = vertices[indexC * 3];\n      var c_y = vertices[indexC * 3 + 1];\n\n      return [\n        new Vector2(a_x, a_y),\n        new Vector2(b_x, b_y),\n        new Vector2(c_x, c_y),\n      ];\n    },\n\n    generateSideWallUV: function (\n      geometry,\n      vertices,\n      indexA,\n      indexB,\n      indexC,\n      indexD\n    ) {\n      var a_x = vertices[indexA * 3];\n      var a_y = vertices[indexA * 3 + 1];\n      var a_z = vertices[indexA * 3 + 2];\n      var b_x = vertices[indexB * 3];\n      var b_y = vertices[indexB * 3 + 1];\n      var b_z = vertices[indexB * 3 + 2];\n      var c_x = vertices[indexC * 3];\n      var c_y = vertices[indexC * 3 + 1];\n      var c_z = vertices[indexC * 3 + 2];\n      var d_x = vertices[indexD * 3];\n      var d_y = vertices[indexD * 3 + 1];\n      var d_z = vertices[indexD * 3 + 2];\n\n      if (Math.abs(a_y - b_y) < 0.01) {\n        return [\n          new Vector2(a_x, 1 - a_z),\n          new Vector2(b_x, 1 - b_z),\n          new Vector2(c_x, 1 - c_z),\n          new Vector2(d_x, 1 - d_z),\n        ];\n      } else {\n        return [\n          new Vector2(a_y, 1 - a_z),\n          new Vector2(b_y, 1 - b_z),\n          new Vector2(c_y, 1 - c_z),\n          new Vector2(d_y, 1 - d_z),\n        ];\n      }\n    },\n  };\n\n  function toJSON(shapes, options, data) {\n    //\n\n    data.shapes = [];\n\n    if (Array.isArray(shapes)) {\n      for (var i = 0, l = shapes.length; i < l; i++) {\n        var shape = shapes[i];\n\n        data.shapes.push(shape.uuid);\n      }\n    } else {\n      data.shapes.push(shapes.uuid);\n    }\n\n    //\n\n    if (options.extrudePath !== undefined) {\n      data.options.extrudePath = options.extrudePath.toJSON();\n    }\n\n    return data;\n  }\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * Text = 3D Text\n   *\n   * parameters = {\n   *  font: <THREE.Font>, // font\n   *\n   *  size: <float>, // size of the text\n   *  height: <float>, // thickness to extrude text\n   *  curveSegments: <int>, // number of points on the curves\n   *\n   *  bevelEnabled: <bool>, // turn on bevel\n   *  bevelThickness: <float>, // how deep into text bevel goes\n   *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n   *  bevelOffset: <float> // how far from text outline does bevel start\n   * }\n   */\n\n  // TextGeometry\n\n  function TextGeometry(text, parameters) {\n    Geometry.call(this);\n\n    this.type = \"TextGeometry\";\n\n    this.parameters = {\n      text: text,\n      parameters: parameters,\n    };\n\n    this.fromBufferGeometry(new TextBufferGeometry(text, parameters));\n    this.mergeVertices();\n  }\n\n  TextGeometry.prototype = Object.create(Geometry.prototype);\n  TextGeometry.prototype.constructor = TextGeometry;\n\n  // TextBufferGeometry\n\n  function TextBufferGeometry(text, parameters) {\n    parameters = parameters || {};\n\n    var font = parameters.font;\n\n    if (!(font && font.isFont)) {\n      console.error(\n        \"THREE.TextGeometry: font parameter is not an instance of THREE.Font.\"\n      );\n      return new Geometry();\n    }\n\n    var shapes = font.generateShapes(text, parameters.size);\n\n    // translate parameters to ExtrudeGeometry API\n\n    parameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n    // defaults\n\n    if (parameters.bevelThickness === undefined) {\n      parameters.bevelThickness = 10;\n    }\n    if (parameters.bevelSize === undefined) {\n      parameters.bevelSize = 8;\n    }\n    if (parameters.bevelEnabled === undefined) {\n      parameters.bevelEnabled = false;\n    }\n\n    ExtrudeBufferGeometry.call(this, shapes, parameters);\n\n    this.type = \"TextBufferGeometry\";\n  }\n\n  TextBufferGeometry.prototype = Object.create(ExtrudeBufferGeometry.prototype);\n  TextBufferGeometry.prototype.constructor = TextBufferGeometry;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author benaadams / https://twitter.com/ben_a_adams\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // SphereGeometry\n\n  function SphereGeometry(\n    radius,\n    widthSegments,\n    heightSegments,\n    phiStart,\n    phiLength,\n    thetaStart,\n    thetaLength\n  ) {\n    Geometry.call(this);\n\n    this.type = \"SphereGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n      phiStart: phiStart,\n      phiLength: phiLength,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength,\n    };\n\n    this.fromBufferGeometry(\n      new SphereBufferGeometry(\n        radius,\n        widthSegments,\n        heightSegments,\n        phiStart,\n        phiLength,\n        thetaStart,\n        thetaLength\n      )\n    );\n    this.mergeVertices();\n  }\n\n  SphereGeometry.prototype = Object.create(Geometry.prototype);\n  SphereGeometry.prototype.constructor = SphereGeometry;\n\n  // SphereBufferGeometry\n\n  function SphereBufferGeometry(\n    radius,\n    widthSegments,\n    heightSegments,\n    phiStart,\n    phiLength,\n    thetaStart,\n    thetaLength\n  ) {\n    BufferGeometry.call(this);\n\n    this.type = \"SphereBufferGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      widthSegments: widthSegments,\n      heightSegments: heightSegments,\n      phiStart: phiStart,\n      phiLength: phiLength,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength,\n    };\n\n    radius = radius || 1;\n\n    widthSegments = Math.max(3, Math.floor(widthSegments) || 8);\n    heightSegments = Math.max(2, Math.floor(heightSegments) || 6);\n\n    phiStart = phiStart !== undefined ? phiStart : 0;\n    phiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n    thetaStart = thetaStart !== undefined ? thetaStart : 0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n    var thetaEnd = Math.min(thetaStart + thetaLength, Math.PI);\n\n    var ix, iy;\n\n    var index = 0;\n    var grid = [];\n\n    var vertex = new Vector3();\n    var normal = new Vector3();\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // generate vertices, normals and uvs\n\n    for (iy = 0; iy <= heightSegments; iy++) {\n      var verticesRow = [];\n\n      var v = iy / heightSegments;\n\n      // special case for the poles\n\n      var uOffset = 0;\n\n      if (iy == 0 && thetaStart == 0) {\n        uOffset = 0.5 / widthSegments;\n      } else if (iy == heightSegments && thetaEnd == Math.PI) {\n        uOffset = -0.5 / widthSegments;\n      }\n\n      for (ix = 0; ix <= widthSegments; ix++) {\n        var u = ix / widthSegments;\n\n        // vertex\n\n        vertex.x =\n          -radius *\n          Math.cos(phiStart + u * phiLength) *\n          Math.sin(thetaStart + v * thetaLength);\n        vertex.y = radius * Math.cos(thetaStart + v * thetaLength);\n        vertex.z =\n          radius *\n          Math.sin(phiStart + u * phiLength) *\n          Math.sin(thetaStart + v * thetaLength);\n\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        // normal\n\n        normal.copy(vertex).normalize();\n        normals.push(normal.x, normal.y, normal.z);\n\n        // uv\n\n        uvs.push(u + uOffset, 1 - v);\n\n        verticesRow.push(index++);\n      }\n\n      grid.push(verticesRow);\n    }\n\n    // indices\n\n    for (iy = 0; iy < heightSegments; iy++) {\n      for (ix = 0; ix < widthSegments; ix++) {\n        var a = grid[iy][ix + 1];\n        var b = grid[iy][ix];\n        var c = grid[iy + 1][ix];\n        var d = grid[iy + 1][ix + 1];\n\n        if (iy !== 0 || thetaStart > 0) {\n          indices.push(a, b, d);\n        }\n        if (iy !== heightSegments - 1 || thetaEnd < Math.PI) {\n          indices.push(b, c, d);\n        }\n      }\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    this.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n  }\n\n  SphereBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  SphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n\n  /**\n   * @author Kaleb Murphy\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // RingGeometry\n\n  function RingGeometry(\n    innerRadius,\n    outerRadius,\n    thetaSegments,\n    phiSegments,\n    thetaStart,\n    thetaLength\n  ) {\n    Geometry.call(this);\n\n    this.type = \"RingGeometry\";\n\n    this.parameters = {\n      innerRadius: innerRadius,\n      outerRadius: outerRadius,\n      thetaSegments: thetaSegments,\n      phiSegments: phiSegments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength,\n    };\n\n    this.fromBufferGeometry(\n      new RingBufferGeometry(\n        innerRadius,\n        outerRadius,\n        thetaSegments,\n        phiSegments,\n        thetaStart,\n        thetaLength\n      )\n    );\n    this.mergeVertices();\n  }\n\n  RingGeometry.prototype = Object.create(Geometry.prototype);\n  RingGeometry.prototype.constructor = RingGeometry;\n\n  // RingBufferGeometry\n\n  function RingBufferGeometry(\n    innerRadius,\n    outerRadius,\n    thetaSegments,\n    phiSegments,\n    thetaStart,\n    thetaLength\n  ) {\n    BufferGeometry.call(this);\n\n    this.type = \"RingBufferGeometry\";\n\n    this.parameters = {\n      innerRadius: innerRadius,\n      outerRadius: outerRadius,\n      thetaSegments: thetaSegments,\n      phiSegments: phiSegments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength,\n    };\n\n    innerRadius = innerRadius || 0.5;\n    outerRadius = outerRadius || 1;\n\n    thetaStart = thetaStart !== undefined ? thetaStart : 0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n    thetaSegments =\n      thetaSegments !== undefined ? Math.max(3, thetaSegments) : 8;\n    phiSegments = phiSegments !== undefined ? Math.max(1, phiSegments) : 1;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // some helper variables\n\n    var segment;\n    var radius = innerRadius;\n    var radiusStep = (outerRadius - innerRadius) / phiSegments;\n    var vertex = new Vector3();\n    var uv = new Vector2();\n    var j, i;\n\n    // generate vertices, normals and uvs\n\n    for (j = 0; j <= phiSegments; j++) {\n      for (i = 0; i <= thetaSegments; i++) {\n        // values are generate from the inside of the ring to the outside\n\n        segment = thetaStart + (i / thetaSegments) * thetaLength;\n\n        // vertex\n\n        vertex.x = radius * Math.cos(segment);\n        vertex.y = radius * Math.sin(segment);\n\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        // normal\n\n        normals.push(0, 0, 1);\n\n        // uv\n\n        uv.x = (vertex.x / outerRadius + 1) / 2;\n        uv.y = (vertex.y / outerRadius + 1) / 2;\n\n        uvs.push(uv.x, uv.y);\n      }\n\n      // increase the radius for next row of vertices\n\n      radius += radiusStep;\n    }\n\n    // indices\n\n    for (j = 0; j < phiSegments; j++) {\n      var thetaSegmentLevel = j * (thetaSegments + 1);\n\n      for (i = 0; i < thetaSegments; i++) {\n        segment = i + thetaSegmentLevel;\n\n        var a = segment;\n        var b = segment + thetaSegments + 1;\n        var c = segment + thetaSegments + 2;\n        var d = segment + 1;\n\n        // faces\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n      }\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    this.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n  }\n\n  RingBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  RingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n  /**\n   * @author zz85 / https://github.com/zz85\n   * @author bhouston / http://clara.io\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // LatheGeometry\n\n  function LatheGeometry(points, segments, phiStart, phiLength) {\n    Geometry.call(this);\n\n    this.type = \"LatheGeometry\";\n\n    this.parameters = {\n      points: points,\n      segments: segments,\n      phiStart: phiStart,\n      phiLength: phiLength,\n    };\n\n    this.fromBufferGeometry(\n      new LatheBufferGeometry(points, segments, phiStart, phiLength)\n    );\n    this.mergeVertices();\n  }\n\n  LatheGeometry.prototype = Object.create(Geometry.prototype);\n  LatheGeometry.prototype.constructor = LatheGeometry;\n\n  // LatheBufferGeometry\n\n  function LatheBufferGeometry(points, segments, phiStart, phiLength) {\n    BufferGeometry.call(this);\n\n    this.type = \"LatheBufferGeometry\";\n\n    this.parameters = {\n      points: points,\n      segments: segments,\n      phiStart: phiStart,\n      phiLength: phiLength,\n    };\n\n    segments = Math.floor(segments) || 12;\n    phiStart = phiStart || 0;\n    phiLength = phiLength || Math.PI * 2;\n\n    // clamp phiLength so it's in range of [ 0, 2PI ]\n\n    phiLength = _Math.clamp(phiLength, 0, Math.PI * 2);\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var uvs = [];\n\n    // helper variables\n\n    var base;\n    var inverseSegments = 1.0 / segments;\n    var vertex = new Vector3();\n    var uv = new Vector2();\n    var i, j;\n\n    // generate vertices and uvs\n\n    for (i = 0; i <= segments; i++) {\n      var phi = phiStart + i * inverseSegments * phiLength;\n\n      var sin = Math.sin(phi);\n      var cos = Math.cos(phi);\n\n      for (j = 0; j <= points.length - 1; j++) {\n        // vertex\n\n        vertex.x = points[j].x * sin;\n        vertex.y = points[j].y;\n        vertex.z = points[j].x * cos;\n\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        // uv\n\n        uv.x = i / segments;\n        uv.y = j / (points.length - 1);\n\n        uvs.push(uv.x, uv.y);\n      }\n    }\n\n    // indices\n\n    for (i = 0; i < segments; i++) {\n      for (j = 0; j < points.length - 1; j++) {\n        base = j + i * points.length;\n\n        var a = base;\n        var b = base + points.length;\n        var c = base + points.length + 1;\n        var d = base + 1;\n\n        // faces\n\n        indices.push(a, b, d);\n        indices.push(b, c, d);\n      }\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n\n    // generate normals\n\n    this.computeVertexNormals();\n\n    // if the geometry is closed, we need to average the normals along the seam.\n    // because the corresponding vertices are identical (but still have different UVs).\n\n    if (phiLength === Math.PI * 2) {\n      var normals = this.attributes.normal.array;\n      var n1 = new Vector3();\n      var n2 = new Vector3();\n      var n = new Vector3();\n\n      // this is the buffer offset for the last line of vertices\n\n      base = segments * points.length * 3;\n\n      for (i = 0, j = 0; i < points.length; i++, j += 3) {\n        // select the normal of the vertex in the first line\n\n        n1.x = normals[j + 0];\n        n1.y = normals[j + 1];\n        n1.z = normals[j + 2];\n\n        // select the normal of the vertex in the last line\n\n        n2.x = normals[base + j + 0];\n        n2.y = normals[base + j + 1];\n        n2.z = normals[base + j + 2];\n\n        // average normals\n\n        n.addVectors(n1, n2).normalize();\n\n        // assign the new values to both normals\n\n        normals[j + 0] = normals[base + j + 0] = n.x;\n        normals[j + 1] = normals[base + j + 1] = n.y;\n        normals[j + 2] = normals[base + j + 2] = n.z;\n      }\n    }\n  }\n\n  LatheBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  LatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n\n  /**\n   * @author jonobr1 / http://jonobr1.com\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // ShapeGeometry\n\n  function ShapeGeometry(shapes, curveSegments) {\n    Geometry.call(this);\n\n    this.type = \"ShapeGeometry\";\n\n    if (typeof curveSegments === \"object\") {\n      console.warn(\"THREE.ShapeGeometry: Options parameter has been removed.\");\n\n      curveSegments = curveSegments.curveSegments;\n    }\n\n    this.parameters = {\n      shapes: shapes,\n      curveSegments: curveSegments,\n    };\n\n    this.fromBufferGeometry(new ShapeBufferGeometry(shapes, curveSegments));\n    this.mergeVertices();\n  }\n\n  ShapeGeometry.prototype = Object.create(Geometry.prototype);\n  ShapeGeometry.prototype.constructor = ShapeGeometry;\n\n  ShapeGeometry.prototype.toJSON = function () {\n    var data = Geometry.prototype.toJSON.call(this);\n\n    var shapes = this.parameters.shapes;\n\n    return toJSON$1(shapes, data);\n  };\n\n  // ShapeBufferGeometry\n\n  function ShapeBufferGeometry(shapes, curveSegments) {\n    BufferGeometry.call(this);\n\n    this.type = \"ShapeBufferGeometry\";\n\n    this.parameters = {\n      shapes: shapes,\n      curveSegments: curveSegments,\n    };\n\n    curveSegments = curveSegments || 12;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // helper variables\n\n    var groupStart = 0;\n    var groupCount = 0;\n\n    // allow single and array values for \"shapes\" parameter\n\n    if (Array.isArray(shapes) === false) {\n      addShape(shapes);\n    } else {\n      for (var i = 0; i < shapes.length; i++) {\n        addShape(shapes[i]);\n\n        this.addGroup(groupStart, groupCount, i); // enables MultiMaterial support\n\n        groupStart += groupCount;\n        groupCount = 0;\n      }\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    this.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n\n    // helper functions\n\n    function addShape(shape) {\n      var i, l, shapeHole;\n\n      var indexOffset = vertices.length / 3;\n      var points = shape.extractPoints(curveSegments);\n\n      var shapeVertices = points.shape;\n      var shapeHoles = points.holes;\n\n      // check direction of vertices\n\n      if (ShapeUtils.isClockWise(shapeVertices) === false) {\n        shapeVertices = shapeVertices.reverse();\n      }\n\n      for (i = 0, l = shapeHoles.length; i < l; i++) {\n        shapeHole = shapeHoles[i];\n\n        if (ShapeUtils.isClockWise(shapeHole) === true) {\n          shapeHoles[i] = shapeHole.reverse();\n        }\n      }\n\n      var faces = ShapeUtils.triangulateShape(shapeVertices, shapeHoles);\n\n      // join vertices of inner and outer paths to a single array\n\n      for (i = 0, l = shapeHoles.length; i < l; i++) {\n        shapeHole = shapeHoles[i];\n        shapeVertices = shapeVertices.concat(shapeHole);\n      }\n\n      // vertices, normals, uvs\n\n      for (i = 0, l = shapeVertices.length; i < l; i++) {\n        var vertex = shapeVertices[i];\n\n        vertices.push(vertex.x, vertex.y, 0);\n        normals.push(0, 0, 1);\n        uvs.push(vertex.x, vertex.y); // world uvs\n      }\n\n      // incides\n\n      for (i = 0, l = faces.length; i < l; i++) {\n        var face = faces[i];\n\n        var a = face[0] + indexOffset;\n        var b = face[1] + indexOffset;\n        var c = face[2] + indexOffset;\n\n        indices.push(a, b, c);\n        groupCount += 3;\n      }\n    }\n  }\n\n  ShapeBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  ShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\n\n  ShapeBufferGeometry.prototype.toJSON = function () {\n    var data = BufferGeometry.prototype.toJSON.call(this);\n\n    var shapes = this.parameters.shapes;\n\n    return toJSON$1(shapes, data);\n  };\n\n  //\n\n  function toJSON$1(shapes, data) {\n    data.shapes = [];\n\n    if (Array.isArray(shapes)) {\n      for (var i = 0, l = shapes.length; i < l; i++) {\n        var shape = shapes[i];\n\n        data.shapes.push(shape.uuid);\n      }\n    } else {\n      data.shapes.push(shapes.uuid);\n    }\n\n    return data;\n  }\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  function EdgesGeometry(geometry, thresholdAngle) {\n    BufferGeometry.call(this);\n\n    this.type = \"EdgesGeometry\";\n\n    this.parameters = {\n      thresholdAngle: thresholdAngle,\n    };\n\n    thresholdAngle = thresholdAngle !== undefined ? thresholdAngle : 1;\n\n    // buffer\n\n    var vertices = [];\n\n    // helper variables\n\n    var thresholdDot = Math.cos(_Math.DEG2RAD * thresholdAngle);\n    var edge = [0, 0],\n      edges = {},\n      edge1,\n      edge2;\n    var key,\n      keys = [\"a\", \"b\", \"c\"];\n\n    // prepare source geometry\n\n    var geometry2;\n\n    if (geometry.isBufferGeometry) {\n      geometry2 = new Geometry();\n      geometry2.fromBufferGeometry(geometry);\n    } else {\n      geometry2 = geometry.clone();\n    }\n\n    geometry2.mergeVertices();\n    geometry2.computeFaceNormals();\n\n    var sourceVertices = geometry2.vertices;\n    var faces = geometry2.faces;\n\n    // now create a data structure where each entry represents an edge with its adjoining faces\n\n    for (var i = 0, l = faces.length; i < l; i++) {\n      var face = faces[i];\n\n      for (var j = 0; j < 3; j++) {\n        edge1 = face[keys[j]];\n        edge2 = face[keys[(j + 1) % 3]];\n        edge[0] = Math.min(edge1, edge2);\n        edge[1] = Math.max(edge1, edge2);\n\n        key = edge[0] + \",\" + edge[1];\n\n        if (edges[key] === undefined) {\n          edges[key] = {\n            index1: edge[0],\n            index2: edge[1],\n            face1: i,\n            face2: undefined,\n          };\n        } else {\n          edges[key].face2 = i;\n        }\n      }\n    }\n\n    // generate vertices\n\n    for (key in edges) {\n      var e = edges[key];\n\n      // an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\n\n      if (\n        e.face2 === undefined ||\n        faces[e.face1].normal.dot(faces[e.face2].normal) <= thresholdDot\n      ) {\n        var vertex = sourceVertices[e.index1];\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        vertex = sourceVertices[e.index2];\n        vertices.push(vertex.x, vertex.y, vertex.z);\n      }\n    }\n\n    // build geometry\n\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n  }\n\n  EdgesGeometry.prototype = Object.create(BufferGeometry.prototype);\n  EdgesGeometry.prototype.constructor = EdgesGeometry;\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  // CylinderGeometry\n\n  function CylinderGeometry(\n    radiusTop,\n    radiusBottom,\n    height,\n    radialSegments,\n    heightSegments,\n    openEnded,\n    thetaStart,\n    thetaLength\n  ) {\n    Geometry.call(this);\n\n    this.type = \"CylinderGeometry\";\n\n    this.parameters = {\n      radiusTop: radiusTop,\n      radiusBottom: radiusBottom,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength,\n    };\n\n    this.fromBufferGeometry(\n      new CylinderBufferGeometry(\n        radiusTop,\n        radiusBottom,\n        height,\n        radialSegments,\n        heightSegments,\n        openEnded,\n        thetaStart,\n        thetaLength\n      )\n    );\n    this.mergeVertices();\n  }\n\n  CylinderGeometry.prototype = Object.create(Geometry.prototype);\n  CylinderGeometry.prototype.constructor = CylinderGeometry;\n\n  // CylinderBufferGeometry\n\n  function CylinderBufferGeometry(\n    radiusTop,\n    radiusBottom,\n    height,\n    radialSegments,\n    heightSegments,\n    openEnded,\n    thetaStart,\n    thetaLength\n  ) {\n    BufferGeometry.call(this);\n\n    this.type = \"CylinderBufferGeometry\";\n\n    this.parameters = {\n      radiusTop: radiusTop,\n      radiusBottom: radiusBottom,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength,\n    };\n\n    var scope = this;\n\n    radiusTop = radiusTop !== undefined ? radiusTop : 1;\n    radiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n    height = height || 1;\n\n    radialSegments = Math.floor(radialSegments) || 8;\n    heightSegments = Math.floor(heightSegments) || 1;\n\n    openEnded = openEnded !== undefined ? openEnded : false;\n    thetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // helper variables\n\n    var index = 0;\n    var indexArray = [];\n    var halfHeight = height / 2;\n    var groupStart = 0;\n\n    // generate geometry\n\n    generateTorso();\n\n    if (openEnded === false) {\n      if (radiusTop > 0) {\n        generateCap(true);\n      }\n      if (radiusBottom > 0) {\n        generateCap(false);\n      }\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    this.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n\n    function generateTorso() {\n      var x, y;\n      var normal = new Vector3();\n      var vertex = new Vector3();\n\n      var groupCount = 0;\n\n      // this will be used to calculate the normal\n      var slope = (radiusBottom - radiusTop) / height;\n\n      // generate vertices, normals and uvs\n\n      for (y = 0; y <= heightSegments; y++) {\n        var indexRow = [];\n\n        var v = y / heightSegments;\n\n        // calculate the radius of the current row\n\n        var radius = v * (radiusBottom - radiusTop) + radiusTop;\n\n        for (x = 0; x <= radialSegments; x++) {\n          var u = x / radialSegments;\n\n          var theta = u * thetaLength + thetaStart;\n\n          var sinTheta = Math.sin(theta);\n          var cosTheta = Math.cos(theta);\n\n          // vertex\n\n          vertex.x = radius * sinTheta;\n          vertex.y = -v * height + halfHeight;\n          vertex.z = radius * cosTheta;\n          vertices.push(vertex.x, vertex.y, vertex.z);\n\n          // normal\n\n          normal.set(sinTheta, slope, cosTheta).normalize();\n          normals.push(normal.x, normal.y, normal.z);\n\n          // uv\n\n          uvs.push(u, 1 - v);\n\n          // save index of vertex in respective row\n\n          indexRow.push(index++);\n        }\n\n        // now save vertices of the row in our index array\n\n        indexArray.push(indexRow);\n      }\n\n      // generate indices\n\n      for (x = 0; x < radialSegments; x++) {\n        for (y = 0; y < heightSegments; y++) {\n          // we use the index array to access the correct indices\n\n          var a = indexArray[y][x];\n          var b = indexArray[y + 1][x];\n          var c = indexArray[y + 1][x + 1];\n          var d = indexArray[y][x + 1];\n\n          // faces\n\n          indices.push(a, b, d);\n          indices.push(b, c, d);\n\n          // update group counter\n\n          groupCount += 6;\n        }\n      }\n\n      // add a group to the geometry. this will ensure multi material support\n\n      scope.addGroup(groupStart, groupCount, 0);\n\n      // calculate new start value for groups\n\n      groupStart += groupCount;\n    }\n\n    function generateCap(top) {\n      var x, centerIndexStart, centerIndexEnd;\n\n      var uv = new Vector2();\n      var vertex = new Vector3();\n\n      var groupCount = 0;\n\n      var radius = top === true ? radiusTop : radiusBottom;\n      var sign = top === true ? 1 : -1;\n\n      // save the index of the first center vertex\n      centerIndexStart = index;\n\n      // first we generate the center vertex data of the cap.\n      // because the geometry needs one set of uvs per face,\n      // we must generate a center vertex per face/segment\n\n      for (x = 1; x <= radialSegments; x++) {\n        // vertex\n\n        vertices.push(0, halfHeight * sign, 0);\n\n        // normal\n\n        normals.push(0, sign, 0);\n\n        // uv\n\n        uvs.push(0.5, 0.5);\n\n        // increase index\n\n        index++;\n      }\n\n      // save the index of the last center vertex\n\n      centerIndexEnd = index;\n\n      // now we generate the surrounding vertices, normals and uvs\n\n      for (x = 0; x <= radialSegments; x++) {\n        var u = x / radialSegments;\n        var theta = u * thetaLength + thetaStart;\n\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta);\n\n        // vertex\n\n        vertex.x = radius * sinTheta;\n        vertex.y = halfHeight * sign;\n        vertex.z = radius * cosTheta;\n        vertices.push(vertex.x, vertex.y, vertex.z);\n\n        // normal\n\n        normals.push(0, sign, 0);\n\n        // uv\n\n        uv.x = cosTheta * 0.5 + 0.5;\n        uv.y = sinTheta * 0.5 * sign + 0.5;\n        uvs.push(uv.x, uv.y);\n\n        // increase index\n\n        index++;\n      }\n\n      // generate indices\n\n      for (x = 0; x < radialSegments; x++) {\n        var c = centerIndexStart + x;\n        var i = centerIndexEnd + x;\n\n        if (top === true) {\n          // face top\n\n          indices.push(i, i + 1, c);\n        } else {\n          // face bottom\n\n          indices.push(i + 1, i, c);\n        }\n\n        groupCount += 3;\n      }\n\n      // add a group to the geometry. this will ensure multi material support\n\n      scope.addGroup(groupStart, groupCount, top === true ? 1 : 2);\n\n      // calculate new start value for groups\n\n      groupStart += groupCount;\n    }\n  }\n\n  CylinderBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  CylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n\n  /**\n   * @author abelnation / http://github.com/abelnation\n   */\n\n  // ConeGeometry\n\n  function ConeGeometry(\n    radius,\n    height,\n    radialSegments,\n    heightSegments,\n    openEnded,\n    thetaStart,\n    thetaLength\n  ) {\n    CylinderGeometry.call(\n      this,\n      0,\n      radius,\n      height,\n      radialSegments,\n      heightSegments,\n      openEnded,\n      thetaStart,\n      thetaLength\n    );\n\n    this.type = \"ConeGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength,\n    };\n  }\n\n  ConeGeometry.prototype = Object.create(CylinderGeometry.prototype);\n  ConeGeometry.prototype.constructor = ConeGeometry;\n\n  // ConeBufferGeometry\n\n  function ConeBufferGeometry(\n    radius,\n    height,\n    radialSegments,\n    heightSegments,\n    openEnded,\n    thetaStart,\n    thetaLength\n  ) {\n    CylinderBufferGeometry.call(\n      this,\n      0,\n      radius,\n      height,\n      radialSegments,\n      heightSegments,\n      openEnded,\n      thetaStart,\n      thetaLength\n    );\n\n    this.type = \"ConeBufferGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength,\n    };\n  }\n\n  ConeBufferGeometry.prototype = Object.create(\n    CylinderBufferGeometry.prototype\n  );\n  ConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   * @author Mugen87 / https://github.com/Mugen87\n   * @author hughes\n   */\n\n  // CircleGeometry\n\n  function CircleGeometry(radius, segments, thetaStart, thetaLength) {\n    Geometry.call(this);\n\n    this.type = \"CircleGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      segments: segments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength,\n    };\n\n    this.fromBufferGeometry(\n      new CircleBufferGeometry(radius, segments, thetaStart, thetaLength)\n    );\n    this.mergeVertices();\n  }\n\n  CircleGeometry.prototype = Object.create(Geometry.prototype);\n  CircleGeometry.prototype.constructor = CircleGeometry;\n\n  // CircleBufferGeometry\n\n  function CircleBufferGeometry(radius, segments, thetaStart, thetaLength) {\n    BufferGeometry.call(this);\n\n    this.type = \"CircleBufferGeometry\";\n\n    this.parameters = {\n      radius: radius,\n      segments: segments,\n      thetaStart: thetaStart,\n      thetaLength: thetaLength,\n    };\n\n    radius = radius || 1;\n    segments = segments !== undefined ? Math.max(3, segments) : 8;\n\n    thetaStart = thetaStart !== undefined ? thetaStart : 0;\n    thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n    // buffers\n\n    var indices = [];\n    var vertices = [];\n    var normals = [];\n    var uvs = [];\n\n    // helper variables\n\n    var i, s;\n    var vertex = new Vector3();\n    var uv = new Vector2();\n\n    // center point\n\n    vertices.push(0, 0, 0);\n    normals.push(0, 0, 1);\n    uvs.push(0.5, 0.5);\n\n    for (s = 0, i = 3; s <= segments; s++, i += 3) {\n      var segment = thetaStart + (s / segments) * thetaLength;\n\n      // vertex\n\n      vertex.x = radius * Math.cos(segment);\n      vertex.y = radius * Math.sin(segment);\n\n      vertices.push(vertex.x, vertex.y, vertex.z);\n\n      // normal\n\n      normals.push(0, 0, 1);\n\n      // uvs\n\n      uv.x = (vertices[i] / radius + 1) / 2;\n      uv.y = (vertices[i + 1] / radius + 1) / 2;\n\n      uvs.push(uv.x, uv.y);\n    }\n\n    // indices\n\n    for (i = 1; i <= segments; i++) {\n      indices.push(i, i + 1, 0);\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    this.setAttribute(\"normal\", new Float32BufferAttribute(normals, 3));\n    this.setAttribute(\"uv\", new Float32BufferAttribute(uvs, 2));\n  }\n\n  CircleBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\n  CircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n\n  var Geometries = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    WireframeGeometry: WireframeGeometry,\n    ParametricGeometry: ParametricGeometry,\n    ParametricBufferGeometry: ParametricBufferGeometry,\n    TetrahedronGeometry: TetrahedronGeometry,\n    TetrahedronBufferGeometry: TetrahedronBufferGeometry,\n    OctahedronGeometry: OctahedronGeometry,\n    OctahedronBufferGeometry: OctahedronBufferGeometry,\n    IcosahedronGeometry: IcosahedronGeometry,\n    IcosahedronBufferGeometry: IcosahedronBufferGeometry,\n    DodecahedronGeometry: DodecahedronGeometry,\n    DodecahedronBufferGeometry: DodecahedronBufferGeometry,\n    PolyhedronGeometry: PolyhedronGeometry,\n    PolyhedronBufferGeometry: PolyhedronBufferGeometry,\n    TubeGeometry: TubeGeometry,\n    TubeBufferGeometry: TubeBufferGeometry,\n    TorusKnotGeometry: TorusKnotGeometry,\n    TorusKnotBufferGeometry: TorusKnotBufferGeometry,\n    TorusGeometry: TorusGeometry,\n    TorusBufferGeometry: TorusBufferGeometry,\n    TextGeometry: TextGeometry,\n    TextBufferGeometry: TextBufferGeometry,\n    SphereGeometry: SphereGeometry,\n    SphereBufferGeometry: SphereBufferGeometry,\n    RingGeometry: RingGeometry,\n    RingBufferGeometry: RingBufferGeometry,\n    PlaneGeometry: PlaneGeometry,\n    PlaneBufferGeometry: PlaneBufferGeometry,\n    LatheGeometry: LatheGeometry,\n    LatheBufferGeometry: LatheBufferGeometry,\n    ShapeGeometry: ShapeGeometry,\n    ShapeBufferGeometry: ShapeBufferGeometry,\n    ExtrudeGeometry: ExtrudeGeometry,\n    ExtrudeBufferGeometry: ExtrudeBufferGeometry,\n    EdgesGeometry: EdgesGeometry,\n    ConeGeometry: ConeGeometry,\n    ConeBufferGeometry: ConeBufferGeometry,\n    CylinderGeometry: CylinderGeometry,\n    CylinderBufferGeometry: CylinderBufferGeometry,\n    CircleGeometry: CircleGeometry,\n    CircleBufferGeometry: CircleBufferGeometry,\n    BoxGeometry: BoxGeometry,\n    BoxBufferGeometry: BoxBufferGeometry,\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   *\n   * parameters = {\n   *  color: <THREE.Color>\n   * }\n   */\n\n  function ShadowMaterial(parameters) {\n    Material.call(this);\n\n    this.type = \"ShadowMaterial\";\n\n    this.color = new Color(0x000000);\n    this.transparent = true;\n\n    this.setValues(parameters);\n  }\n\n  ShadowMaterial.prototype = Object.create(Material.prototype);\n  ShadowMaterial.prototype.constructor = ShadowMaterial;\n\n  ShadowMaterial.prototype.isShadowMaterial = true;\n\n  ShadowMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    return this;\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function RawShaderMaterial(parameters) {\n    ShaderMaterial.call(this, parameters);\n\n    this.type = \"RawShaderMaterial\";\n  }\n\n  RawShaderMaterial.prototype = Object.create(ShaderMaterial.prototype);\n  RawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\n  RawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  roughness: <float>,\n   *  metalness: <float>,\n   *  opacity: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  lightMap: new THREE.Texture( <Image> ),\n   *  lightMapIntensity: <float>\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  emissive: <hex>,\n   *  emissiveIntensity: <float>\n   *  emissiveMap: new THREE.Texture( <Image> ),\n   *\n   *  bumpMap: new THREE.Texture( <Image> ),\n   *  bumpScale: <float>,\n   *\n   *  normalMap: new THREE.Texture( <Image> ),\n   *  normalMapType: THREE.TangentSpaceNormalMap,\n   *  normalScale: <Vector2>,\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  roughnessMap: new THREE.Texture( <Image> ),\n   *\n   *  metalnessMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n   *  envMapIntensity: <float>\n   *\n   *  refractionRatio: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function MeshStandardMaterial(parameters) {\n    Material.call(this);\n\n    this.defines = {\n      STANDARD: \"\",\n    };\n\n    this.type = \"MeshStandardMaterial\";\n\n    this.color = new Color(0xffffff); // diffuse\n    this.roughness = 1.0;\n    this.metalness = 0.0;\n\n    this.map = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.roughnessMap = null;\n\n    this.metalnessMap = null;\n\n    this.alphaMap = null;\n\n    this.envMap = null;\n    this.envMapIntensity = 1.0;\n\n    this.refractionRatio = 0.98;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = \"round\";\n    this.wireframeLinejoin = \"round\";\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n  }\n\n  MeshStandardMaterial.prototype = Object.create(Material.prototype);\n  MeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\n  MeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\n  MeshStandardMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.defines = {\n      STANDARD: \"\",\n    };\n\n    this.color.copy(source.color);\n    this.roughness = source.roughness;\n    this.metalness = source.metalness;\n\n    this.map = source.map;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.roughnessMap = source.roughnessMap;\n\n    this.metalnessMap = source.metalnessMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.envMap = source.envMap;\n    this.envMapIntensity = source.envMapIntensity;\n\n    this.refractionRatio = source.refractionRatio;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n  };\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *  reflectivity: <float>\n   *  clearcoat: <float>\n   *  clearcoatRoughness: <float>\n   *\n   *  sheen: <Color>\n   *\n   *  clearcoatNormalScale: <Vector2>,\n   *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n   * }\n   */\n\n  function MeshPhysicalMaterial(parameters) {\n    MeshStandardMaterial.call(this);\n\n    this.defines = {\n      STANDARD: \"\",\n      PHYSICAL: \"\",\n    };\n\n    this.type = \"MeshPhysicalMaterial\";\n\n    this.reflectivity = 0.5; // maps to F0 = 0.04\n\n    this.clearcoat = 0.0;\n    this.clearcoatRoughness = 0.0;\n\n    this.sheen = null; // null will disable sheen bsdf\n\n    this.clearcoatNormalScale = new Vector2(1, 1);\n    this.clearcoatNormalMap = null;\n\n    this.transparency = 0.0;\n\n    this.setValues(parameters);\n  }\n\n  MeshPhysicalMaterial.prototype = Object.create(\n    MeshStandardMaterial.prototype\n  );\n  MeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\n  MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\n  MeshPhysicalMaterial.prototype.copy = function (source) {\n    MeshStandardMaterial.prototype.copy.call(this, source);\n\n    this.defines = {\n      STANDARD: \"\",\n      PHYSICAL: \"\",\n    };\n\n    this.reflectivity = source.reflectivity;\n\n    this.clearcoat = source.clearcoat;\n    this.clearcoatRoughness = source.clearcoatRoughness;\n\n    if (source.sheen) {\n      this.sheen = (this.sheen || new Color()).copy(source.sheen);\n    } else {\n      this.sheen = null;\n    }\n\n    this.clearcoatNormalMap = source.clearcoatNormalMap;\n    this.clearcoatNormalScale.copy(source.clearcoatNormalScale);\n\n    this.transparency = source.transparency;\n\n    return this;\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  specular: <hex>,\n   *  shininess: <float>,\n   *  opacity: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  lightMap: new THREE.Texture( <Image> ),\n   *  lightMapIntensity: <float>\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  emissive: <hex>,\n   *  emissiveIntensity: <float>\n   *  emissiveMap: new THREE.Texture( <Image> ),\n   *\n   *  bumpMap: new THREE.Texture( <Image> ),\n   *  bumpScale: <float>,\n   *\n   *  normalMap: new THREE.Texture( <Image> ),\n   *  normalMapType: THREE.TangentSpaceNormalMap,\n   *  normalScale: <Vector2>,\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  specularMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n   *  combine: THREE.MultiplyOperation,\n   *  reflectivity: <float>,\n   *  refractionRatio: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function MeshPhongMaterial(parameters) {\n    Material.call(this);\n\n    this.type = \"MeshPhongMaterial\";\n\n    this.color = new Color(0xffffff); // diffuse\n    this.specular = new Color(0x111111);\n    this.shininess = 30;\n\n    this.map = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.specularMap = null;\n\n    this.alphaMap = null;\n\n    this.envMap = null;\n    this.combine = MultiplyOperation;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = \"round\";\n    this.wireframeLinejoin = \"round\";\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n  }\n\n  MeshPhongMaterial.prototype = Object.create(Material.prototype);\n  MeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\n  MeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\n  MeshPhongMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n    this.specular.copy(source.specular);\n    this.shininess = source.shininess;\n\n    this.map = source.map;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.specularMap = source.specularMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n  };\n\n  /**\n   * @author takahirox / http://github.com/takahirox\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  specular: <hex>,\n   *  shininess: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *  gradientMap: new THREE.Texture( <Image> ),\n   *\n   *  lightMap: new THREE.Texture( <Image> ),\n   *  lightMapIntensity: <float>\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  emissive: <hex>,\n   *  emissiveIntensity: <float>\n   *  emissiveMap: new THREE.Texture( <Image> ),\n   *\n   *  bumpMap: new THREE.Texture( <Image> ),\n   *  bumpScale: <float>,\n   *\n   *  normalMap: new THREE.Texture( <Image> ),\n   *  normalMapType: THREE.TangentSpaceNormalMap,\n   *  normalScale: <Vector2>,\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  specularMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function MeshToonMaterial(parameters) {\n    Material.call(this);\n\n    this.defines = {\n      TOON: \"\",\n    };\n\n    this.type = \"MeshToonMaterial\";\n\n    this.color = new Color(0xffffff);\n    this.specular = new Color(0x111111);\n    this.shininess = 30;\n\n    this.map = null;\n    this.gradientMap = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.specularMap = null;\n\n    this.alphaMap = null;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = \"round\";\n    this.wireframeLinejoin = \"round\";\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n  }\n\n  MeshToonMaterial.prototype = Object.create(Material.prototype);\n  MeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\n  MeshToonMaterial.prototype.isMeshToonMaterial = true;\n\n  MeshToonMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n    this.specular.copy(source.specular);\n    this.shininess = source.shininess;\n\n    this.map = source.map;\n    this.gradientMap = source.gradientMap;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.specularMap = source.specularMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *  opacity: <float>,\n   *\n   *  bumpMap: new THREE.Texture( <Image> ),\n   *  bumpScale: <float>,\n   *\n   *  normalMap: new THREE.Texture( <Image> ),\n   *  normalMapType: THREE.TangentSpaceNormalMap,\n   *  normalScale: <Vector2>,\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function MeshNormalMaterial(parameters) {\n    Material.call(this);\n\n    this.type = \"MeshNormalMaterial\";\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n\n    this.fog = false;\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n  }\n\n  MeshNormalMaterial.prototype = Object.create(Material.prototype);\n  MeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\n  MeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\n  MeshNormalMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  lightMap: new THREE.Texture( <Image> ),\n   *  lightMapIntensity: <float>\n   *\n   *  aoMap: new THREE.Texture( <Image> ),\n   *  aoMapIntensity: <float>\n   *\n   *  emissive: <hex>,\n   *  emissiveIntensity: <float>\n   *  emissiveMap: new THREE.Texture( <Image> ),\n   *\n   *  specularMap: new THREE.Texture( <Image> ),\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n   *  combine: THREE.Multiply,\n   *  reflectivity: <float>,\n   *  refractionRatio: <float>,\n   *\n   *  wireframe: <boolean>,\n   *  wireframeLinewidth: <float>,\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function MeshLambertMaterial(parameters) {\n    Material.call(this);\n\n    this.type = \"MeshLambertMaterial\";\n\n    this.color = new Color(0xffffff); // diffuse\n\n    this.map = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n\n    this.specularMap = null;\n\n    this.alphaMap = null;\n\n    this.envMap = null;\n    this.combine = MultiplyOperation;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = \"round\";\n    this.wireframeLinejoin = \"round\";\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n  }\n\n  MeshLambertMaterial.prototype = Object.create(Material.prototype);\n  MeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\n  MeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\n  MeshLambertMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.map = source.map;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n\n    this.specularMap = source.specularMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n  };\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *\n   *  matcap: new THREE.Texture( <Image> ),\n   *\n   *  map: new THREE.Texture( <Image> ),\n   *\n   *  bumpMap: new THREE.Texture( <Image> ),\n   *  bumpScale: <float>,\n   *\n   *  normalMap: new THREE.Texture( <Image> ),\n   *  normalMapType: THREE.TangentSpaceNormalMap,\n   *  normalScale: <Vector2>,\n   *\n   *  displacementMap: new THREE.Texture( <Image> ),\n   *  displacementScale: <float>,\n   *  displacementBias: <float>,\n   *\n   *  alphaMap: new THREE.Texture( <Image> ),\n   *\n   *  skinning: <bool>,\n   *  morphTargets: <bool>,\n   *  morphNormals: <bool>\n   * }\n   */\n\n  function MeshMatcapMaterial(parameters) {\n    Material.call(this);\n\n    this.defines = {\n      MATCAP: \"\",\n    };\n\n    this.type = \"MeshMatcapMaterial\";\n\n    this.color = new Color(0xffffff); // diffuse\n\n    this.matcap = null;\n\n    this.map = null;\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.alphaMap = null;\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n  }\n\n  MeshMatcapMaterial.prototype = Object.create(Material.prototype);\n  MeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n\n  MeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\n  MeshMatcapMaterial.prototype.copy = function (source) {\n    Material.prototype.copy.call(this, source);\n\n    this.defines = {\n      MATCAP: \"\",\n    };\n\n    this.color.copy(source.color);\n\n    this.matcap = source.matcap;\n\n    this.map = source.map;\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.alphaMap = source.alphaMap;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   *\n   * parameters = {\n   *  color: <hex>,\n   *  opacity: <float>,\n   *\n   *  linewidth: <float>,\n   *\n   *  scale: <float>,\n   *  dashSize: <float>,\n   *  gapSize: <float>\n   * }\n   */\n\n  function LineDashedMaterial(parameters) {\n    LineBasicMaterial.call(this);\n\n    this.type = \"LineDashedMaterial\";\n\n    this.scale = 1;\n    this.dashSize = 3;\n    this.gapSize = 1;\n\n    this.setValues(parameters);\n  }\n\n  LineDashedMaterial.prototype = Object.create(LineBasicMaterial.prototype);\n  LineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\n  LineDashedMaterial.prototype.isLineDashedMaterial = true;\n\n  LineDashedMaterial.prototype.copy = function (source) {\n    LineBasicMaterial.prototype.copy.call(this, source);\n\n    this.scale = source.scale;\n    this.dashSize = source.dashSize;\n    this.gapSize = source.gapSize;\n\n    return this;\n  };\n\n  var Materials = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    ShadowMaterial: ShadowMaterial,\n    SpriteMaterial: SpriteMaterial,\n    RawShaderMaterial: RawShaderMaterial,\n    ShaderMaterial: ShaderMaterial,\n    PointsMaterial: PointsMaterial,\n    MeshPhysicalMaterial: MeshPhysicalMaterial,\n    MeshStandardMaterial: MeshStandardMaterial,\n    MeshPhongMaterial: MeshPhongMaterial,\n    MeshToonMaterial: MeshToonMaterial,\n    MeshNormalMaterial: MeshNormalMaterial,\n    MeshLambertMaterial: MeshLambertMaterial,\n    MeshDepthMaterial: MeshDepthMaterial,\n    MeshDistanceMaterial: MeshDistanceMaterial,\n    MeshBasicMaterial: MeshBasicMaterial,\n    MeshMatcapMaterial: MeshMatcapMaterial,\n    LineDashedMaterial: LineDashedMaterial,\n    LineBasicMaterial: LineBasicMaterial,\n    Material: Material,\n  });\n\n  /**\n   * @author tschw\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   */\n\n  var AnimationUtils = {\n    // same as Array.prototype.slice, but also works on typed arrays\n    arraySlice: function (array, from, to) {\n      if (AnimationUtils.isTypedArray(array)) {\n        // in ios9 array.subarray(from, undefined) will return empty array\n        // but array.subarray(from) or array.subarray(from, len) is correct\n        return new array.constructor(\n          array.subarray(from, to !== undefined ? to : array.length)\n        );\n      }\n\n      return array.slice(from, to);\n    },\n\n    // converts an array to a specific type\n    convertArray: function (array, type, forceClone) {\n      if (\n        !array || // let 'undefined' and 'null' pass\n        (!forceClone && array.constructor === type)\n      ) {\n        return array;\n      }\n\n      if (typeof type.BYTES_PER_ELEMENT === \"number\") {\n        return new type(array); // create typed array\n      }\n\n      return Array.prototype.slice.call(array); // create Array\n    },\n\n    isTypedArray: function (object) {\n      return ArrayBuffer.isView(object) && !(object instanceof DataView);\n    },\n\n    // returns an array by which times and values can be sorted\n    getKeyframeOrder: function (times) {\n      function compareTime(i, j) {\n        return times[i] - times[j];\n      }\n\n      var n = times.length;\n      var result = new Array(n);\n      for (var i = 0; i !== n; ++i) {\n        result[i] = i;\n      }\n\n      result.sort(compareTime);\n\n      return result;\n    },\n\n    // uses the array previously returned by 'getKeyframeOrder' to sort data\n    sortedArray: function (values, stride, order) {\n      var nValues = values.length;\n      var result = new values.constructor(nValues);\n\n      for (var i = 0, dstOffset = 0; dstOffset !== nValues; ++i) {\n        var srcOffset = order[i] * stride;\n\n        for (var j = 0; j !== stride; ++j) {\n          result[dstOffset++] = values[srcOffset + j];\n        }\n      }\n\n      return result;\n    },\n\n    // function for parsing AOS keyframe formats\n    flattenJSON: function (jsonKeys, times, values, valuePropertyName) {\n      var i = 1,\n        key = jsonKeys[0];\n\n      while (key !== undefined && key[valuePropertyName] === undefined) {\n        key = jsonKeys[i++];\n      }\n\n      if (key === undefined) {\n        return;\n      } // no data\n\n      var value = key[valuePropertyName];\n      if (value === undefined) {\n        return;\n      } // no data\n\n      if (Array.isArray(value)) {\n        do {\n          value = key[valuePropertyName];\n\n          if (value !== undefined) {\n            times.push(key.time);\n            values.push.apply(values, value); // push all elements\n          }\n\n          key = jsonKeys[i++];\n        } while (key !== undefined);\n      } else if (value.toArray !== undefined) {\n        // ...assume THREE.Math-ish\n\n        do {\n          value = key[valuePropertyName];\n\n          if (value !== undefined) {\n            times.push(key.time);\n            value.toArray(values, values.length);\n          }\n\n          key = jsonKeys[i++];\n        } while (key !== undefined);\n      } else {\n        // otherwise push as-is\n\n        do {\n          value = key[valuePropertyName];\n\n          if (value !== undefined) {\n            times.push(key.time);\n            values.push(value);\n          }\n\n          key = jsonKeys[i++];\n        } while (key !== undefined);\n      }\n    },\n\n    subclip: function (sourceClip, name, startFrame, endFrame, fps) {\n      fps = fps || 30;\n\n      var clip = sourceClip.clone();\n\n      clip.name = name;\n\n      var tracks = [];\n\n      for (var i = 0; i < clip.tracks.length; ++i) {\n        var track = clip.tracks[i];\n        var valueSize = track.getValueSize();\n\n        var times = [];\n        var values = [];\n\n        for (var j = 0; j < track.times.length; ++j) {\n          var frame = track.times[j] * fps;\n\n          if (frame < startFrame || frame >= endFrame) {\n            continue;\n          }\n\n          times.push(track.times[j]);\n\n          for (var k = 0; k < valueSize; ++k) {\n            values.push(track.values[j * valueSize + k]);\n          }\n        }\n\n        if (times.length === 0) {\n          continue;\n        }\n\n        track.times = AnimationUtils.convertArray(\n          times,\n          track.times.constructor\n        );\n        track.values = AnimationUtils.convertArray(\n          values,\n          track.values.constructor\n        );\n\n        tracks.push(track);\n      }\n\n      clip.tracks = tracks;\n\n      // find minimum .times value across all tracks in the trimmed clip\n\n      var minStartTime = Infinity;\n\n      for (var i = 0; i < clip.tracks.length; ++i) {\n        if (minStartTime > clip.tracks[i].times[0]) {\n          minStartTime = clip.tracks[i].times[0];\n        }\n      }\n\n      // shift all tracks such that clip begins at t=0\n\n      for (var i = 0; i < clip.tracks.length; ++i) {\n        clip.tracks[i].shift(-1 * minStartTime);\n      }\n\n      clip.resetDuration();\n\n      return clip;\n    },\n  };\n\n  /**\n   * Abstract base class of interpolants over parametric samples.\n   *\n   * The parameter domain is one dimensional, typically the time or a path\n   * along a curve defined by the data.\n   *\n   * The sample values can have any dimensionality and derived classes may\n   * apply special interpretations to the data.\n   *\n   * This class provides the interval seek in a Template Method, deferring\n   * the actual interpolation to derived classes.\n   *\n   * Time complexity is O(1) for linear access crossing at most two points\n   * and O(log N) for random access, where N is the number of positions.\n   *\n   * References:\n   *\n   * \t\thttp://www.oodesign.com/template-method-pattern.html\n   *\n   * @author tschw\n   */\n\n  function Interpolant(\n    parameterPositions,\n    sampleValues,\n    sampleSize,\n    resultBuffer\n  ) {\n    this.parameterPositions = parameterPositions;\n    this._cachedIndex = 0;\n\n    this.resultBuffer =\n      resultBuffer !== undefined\n        ? resultBuffer\n        : new sampleValues.constructor(sampleSize);\n    this.sampleValues = sampleValues;\n    this.valueSize = sampleSize;\n  }\n\n  Object.assign(Interpolant.prototype, {\n    evaluate: function (t) {\n      var pp = this.parameterPositions,\n        i1 = this._cachedIndex,\n        t1 = pp[i1],\n        t0 = pp[i1 - 1];\n\n      validate_interval: {\n        seek: {\n          var right;\n\n          linear_scan: {\n            //- See http://jsperf.com/comparison-to-undefined/3\n            //- slower code:\n            //-\n            //- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n            forward_scan: if (!(t < t1)) {\n              for (var giveUpAt = i1 + 2; ; ) {\n                if (t1 === undefined) {\n                  if (t < t0) {\n                    break forward_scan;\n                  }\n\n                  // after end\n\n                  i1 = pp.length;\n                  this._cachedIndex = i1;\n                  return this.afterEnd_(i1 - 1, t, t0);\n                }\n\n                if (i1 === giveUpAt) {\n                  break;\n                } // this loop\n\n                t0 = t1;\n                t1 = pp[++i1];\n\n                if (t < t1) {\n                  // we have arrived at the sought interval\n                  break seek;\n                }\n              }\n\n              // prepare binary search on the right side of the index\n              right = pp.length;\n              break linear_scan;\n            }\n\n            //- slower code:\n            //-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n            if (!(t >= t0)) {\n              // looping?\n\n              var t1global = pp[1];\n\n              if (t < t1global) {\n                i1 = 2; // + 1, using the scan for the details\n                t0 = t1global;\n              }\n\n              // linear reverse scan\n\n              for (var giveUpAt = i1 - 2; ; ) {\n                if (t0 === undefined) {\n                  // before start\n\n                  this._cachedIndex = 0;\n                  return this.beforeStart_(0, t, t1);\n                }\n\n                if (i1 === giveUpAt) {\n                  break;\n                } // this loop\n\n                t1 = t0;\n                t0 = pp[--i1 - 1];\n\n                if (t >= t0) {\n                  // we have arrived at the sought interval\n                  break seek;\n                }\n              }\n\n              // prepare binary search on the left side of the index\n              right = i1;\n              i1 = 0;\n              break linear_scan;\n            }\n\n            // the interval is valid\n\n            break validate_interval;\n          } // linear scan\n\n          // binary search\n\n          while (i1 < right) {\n            var mid = (i1 + right) >>> 1;\n\n            if (t < pp[mid]) {\n              right = mid;\n            } else {\n              i1 = mid + 1;\n            }\n          }\n\n          t1 = pp[i1];\n          t0 = pp[i1 - 1];\n\n          // check boundary cases, again\n\n          if (t0 === undefined) {\n            this._cachedIndex = 0;\n            return this.beforeStart_(0, t, t1);\n          }\n\n          if (t1 === undefined) {\n            i1 = pp.length;\n            this._cachedIndex = i1;\n            return this.afterEnd_(i1 - 1, t0, t);\n          }\n        } // seek\n\n        this._cachedIndex = i1;\n\n        this.intervalChanged_(i1, t0, t1);\n      } // validate_interval\n\n      return this.interpolate_(i1, t0, t, t1);\n    },\n\n    settings: null, // optional, subclass-specific settings structure\n    // Note: The indirection allows central control of many interpolants.\n\n    // --- Protected interface\n\n    DefaultSettings_: {},\n\n    getSettings_: function () {\n      return this.settings || this.DefaultSettings_;\n    },\n\n    copySampleValue_: function (index) {\n      // copies a sample value to the result buffer\n\n      var result = this.resultBuffer,\n        values = this.sampleValues,\n        stride = this.valueSize,\n        offset = index * stride;\n\n      for (var i = 0; i !== stride; ++i) {\n        result[i] = values[offset + i];\n      }\n\n      return result;\n    },\n\n    // Template methods for derived classes:\n\n    interpolate_: function (/* i1, t0, t, t1 */) {\n      throw new Error(\"call to abstract method\");\n      // implementations shall return this.resultBuffer\n    },\n\n    intervalChanged_: function (/* i1, t0, t1 */) {\n      // empty\n    },\n  });\n\n  //!\\ DECLARE ALIAS AFTER assign prototype !\n  Object.assign(Interpolant.prototype, {\n    //( 0, t, t0 ), returns this.resultBuffer\n    beforeStart_: Interpolant.prototype.copySampleValue_,\n\n    //( N-1, tN-1, t ), returns this.resultBuffer\n    afterEnd_: Interpolant.prototype.copySampleValue_,\n  });\n\n  /**\n   * Fast and simple cubic spline interpolant.\n   *\n   * It was derived from a Hermitian construction setting the first derivative\n   * at each sample position to the linear slope between neighboring positions\n   * over their parameter interval.\n   *\n   * @author tschw\n   */\n\n  function CubicInterpolant(\n    parameterPositions,\n    sampleValues,\n    sampleSize,\n    resultBuffer\n  ) {\n    Interpolant.call(\n      this,\n      parameterPositions,\n      sampleValues,\n      sampleSize,\n      resultBuffer\n    );\n\n    this._weightPrev = -0;\n    this._offsetPrev = -0;\n    this._weightNext = -0;\n    this._offsetNext = -0;\n  }\n\n  CubicInterpolant.prototype = Object.assign(\n    Object.create(Interpolant.prototype),\n    {\n      constructor: CubicInterpolant,\n\n      DefaultSettings_: {\n        endingStart: ZeroCurvatureEnding,\n        endingEnd: ZeroCurvatureEnding,\n      },\n\n      intervalChanged_: function (i1, t0, t1) {\n        var pp = this.parameterPositions,\n          iPrev = i1 - 2,\n          iNext = i1 + 1,\n          tPrev = pp[iPrev],\n          tNext = pp[iNext];\n\n        if (tPrev === undefined) {\n          switch (this.getSettings_().endingStart) {\n            case ZeroSlopeEnding:\n              // f'(t0) = 0\n              iPrev = i1;\n              tPrev = 2 * t0 - t1;\n\n              break;\n\n            case WrapAroundEnding:\n              // use the other end of the curve\n              iPrev = pp.length - 2;\n              tPrev = t0 + pp[iPrev] - pp[iPrev + 1];\n\n              break;\n\n            default:\n              // ZeroCurvatureEnding\n\n              // f''(t0) = 0 a.k.a. Natural Spline\n              iPrev = i1;\n              tPrev = t1;\n          }\n        }\n\n        if (tNext === undefined) {\n          switch (this.getSettings_().endingEnd) {\n            case ZeroSlopeEnding:\n              // f'(tN) = 0\n              iNext = i1;\n              tNext = 2 * t1 - t0;\n\n              break;\n\n            case WrapAroundEnding:\n              // use the other end of the curve\n              iNext = 1;\n              tNext = t1 + pp[1] - pp[0];\n\n              break;\n\n            default:\n              // ZeroCurvatureEnding\n\n              // f''(tN) = 0, a.k.a. Natural Spline\n              iNext = i1 - 1;\n              tNext = t0;\n          }\n        }\n\n        var halfDt = (t1 - t0) * 0.5,\n          stride = this.valueSize;\n\n        this._weightPrev = halfDt / (t0 - tPrev);\n        this._weightNext = halfDt / (tNext - t1);\n        this._offsetPrev = iPrev * stride;\n        this._offsetNext = iNext * stride;\n      },\n\n      interpolate_: function (i1, t0, t, t1) {\n        var result = this.resultBuffer,\n          values = this.sampleValues,\n          stride = this.valueSize,\n          o1 = i1 * stride,\n          o0 = o1 - stride,\n          oP = this._offsetPrev,\n          oN = this._offsetNext,\n          wP = this._weightPrev,\n          wN = this._weightNext,\n          p = (t - t0) / (t1 - t0),\n          pp = p * p,\n          ppp = pp * p;\n\n        // evaluate polynomials\n\n        var sP = -wP * ppp + 2 * wP * pp - wP * p;\n        var s0 = (1 + wP) * ppp + (-1.5 - 2 * wP) * pp + (-0.5 + wP) * p + 1;\n        var s1 = (-1 - wN) * ppp + (1.5 + wN) * pp + 0.5 * p;\n        var sN = wN * ppp - wN * pp;\n\n        // combine data linearly\n\n        for (var i = 0; i !== stride; ++i) {\n          result[i] =\n            sP * values[oP + i] +\n            s0 * values[o0 + i] +\n            s1 * values[o1 + i] +\n            sN * values[oN + i];\n        }\n\n        return result;\n      },\n    }\n  );\n\n  /**\n   * @author tschw\n   */\n\n  function LinearInterpolant(\n    parameterPositions,\n    sampleValues,\n    sampleSize,\n    resultBuffer\n  ) {\n    Interpolant.call(\n      this,\n      parameterPositions,\n      sampleValues,\n      sampleSize,\n      resultBuffer\n    );\n  }\n\n  LinearInterpolant.prototype = Object.assign(\n    Object.create(Interpolant.prototype),\n    {\n      constructor: LinearInterpolant,\n\n      interpolate_: function (i1, t0, t, t1) {\n        var result = this.resultBuffer,\n          values = this.sampleValues,\n          stride = this.valueSize,\n          offset1 = i1 * stride,\n          offset0 = offset1 - stride,\n          weight1 = (t - t0) / (t1 - t0),\n          weight0 = 1 - weight1;\n\n        for (var i = 0; i !== stride; ++i) {\n          result[i] =\n            values[offset0 + i] * weight0 + values[offset1 + i] * weight1;\n        }\n\n        return result;\n      },\n    }\n  );\n\n  /**\n   *\n   * Interpolant that evaluates to the sample value at the position preceeding\n   * the parameter.\n   *\n   * @author tschw\n   */\n\n  function DiscreteInterpolant(\n    parameterPositions,\n    sampleValues,\n    sampleSize,\n    resultBuffer\n  ) {\n    Interpolant.call(\n      this,\n      parameterPositions,\n      sampleValues,\n      sampleSize,\n      resultBuffer\n    );\n  }\n\n  DiscreteInterpolant.prototype = Object.assign(\n    Object.create(Interpolant.prototype),\n    {\n      constructor: DiscreteInterpolant,\n\n      interpolate_: function (i1 /*, t0, t, t1 */) {\n        return this.copySampleValue_(i1 - 1);\n      },\n    }\n  );\n\n  /**\n   *\n   * A timed sequence of keyframes for a specific property.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function KeyframeTrack(name, times, values, interpolation) {\n    if (name === undefined) {\n      throw new Error(\"THREE.KeyframeTrack: track name is undefined\");\n    }\n    if (times === undefined || times.length === 0) {\n      throw new Error(\n        \"THREE.KeyframeTrack: no keyframes in track named \" + name\n      );\n    }\n\n    this.name = name;\n\n    this.times = AnimationUtils.convertArray(times, this.TimeBufferType);\n    this.values = AnimationUtils.convertArray(values, this.ValueBufferType);\n\n    this.setInterpolation(interpolation || this.DefaultInterpolation);\n  }\n\n  // Static methods\n\n  Object.assign(KeyframeTrack, {\n    // Serialization (in static context, because of constructor invocation\n    // and automatic invocation of .toJSON):\n\n    toJSON: function (track) {\n      var trackType = track.constructor;\n\n      var json;\n\n      // derived classes can define a static toJSON method\n      if (trackType.toJSON !== undefined) {\n        json = trackType.toJSON(track);\n      } else {\n        // by default, we assume the data can be serialized as-is\n        json = {\n          name: track.name,\n          times: AnimationUtils.convertArray(track.times, Array),\n          values: AnimationUtils.convertArray(track.values, Array),\n        };\n\n        var interpolation = track.getInterpolation();\n\n        if (interpolation !== track.DefaultInterpolation) {\n          json.interpolation = interpolation;\n        }\n      }\n\n      json.type = track.ValueTypeName; // mandatory\n\n      return json;\n    },\n  });\n\n  Object.assign(KeyframeTrack.prototype, {\n    constructor: KeyframeTrack,\n\n    TimeBufferType: Float32Array,\n\n    ValueBufferType: Float32Array,\n\n    DefaultInterpolation: InterpolateLinear,\n\n    InterpolantFactoryMethodDiscrete: function (result) {\n      return new DiscreteInterpolant(\n        this.times,\n        this.values,\n        this.getValueSize(),\n        result\n      );\n    },\n\n    InterpolantFactoryMethodLinear: function (result) {\n      return new LinearInterpolant(\n        this.times,\n        this.values,\n        this.getValueSize(),\n        result\n      );\n    },\n\n    InterpolantFactoryMethodSmooth: function (result) {\n      return new CubicInterpolant(\n        this.times,\n        this.values,\n        this.getValueSize(),\n        result\n      );\n    },\n\n    setInterpolation: function (interpolation) {\n      var factoryMethod;\n\n      switch (interpolation) {\n        case InterpolateDiscrete:\n          factoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n          break;\n\n        case InterpolateLinear:\n          factoryMethod = this.InterpolantFactoryMethodLinear;\n\n          break;\n\n        case InterpolateSmooth:\n          factoryMethod = this.InterpolantFactoryMethodSmooth;\n\n          break;\n      }\n\n      if (factoryMethod === undefined) {\n        var message =\n          \"unsupported interpolation for \" +\n          this.ValueTypeName +\n          \" keyframe track named \" +\n          this.name;\n\n        if (this.createInterpolant === undefined) {\n          // fall back to default, unless the default itself is messed up\n          if (interpolation !== this.DefaultInterpolation) {\n            this.setInterpolation(this.DefaultInterpolation);\n          } else {\n            throw new Error(message); // fatal, in this case\n          }\n        }\n\n        console.warn(\"THREE.KeyframeTrack:\", message);\n        return this;\n      }\n\n      this.createInterpolant = factoryMethod;\n\n      return this;\n    },\n\n    getInterpolation: function () {\n      switch (this.createInterpolant) {\n        case this.InterpolantFactoryMethodDiscrete:\n          return InterpolateDiscrete;\n\n        case this.InterpolantFactoryMethodLinear:\n          return InterpolateLinear;\n\n        case this.InterpolantFactoryMethodSmooth:\n          return InterpolateSmooth;\n      }\n    },\n\n    getValueSize: function () {\n      return this.values.length / this.times.length;\n    },\n\n    // move all keyframes either forwards or backwards in time\n    shift: function (timeOffset) {\n      if (timeOffset !== 0.0) {\n        var times = this.times;\n\n        for (var i = 0, n = times.length; i !== n; ++i) {\n          times[i] += timeOffset;\n        }\n      }\n\n      return this;\n    },\n\n    // scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n    scale: function (timeScale) {\n      if (timeScale !== 1.0) {\n        var times = this.times;\n\n        for (var i = 0, n = times.length; i !== n; ++i) {\n          times[i] *= timeScale;\n        }\n      }\n\n      return this;\n    },\n\n    // removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n    // IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n    trim: function (startTime, endTime) {\n      var times = this.times,\n        nKeys = times.length,\n        from = 0,\n        to = nKeys - 1;\n\n      while (from !== nKeys && times[from] < startTime) {\n        ++from;\n      }\n\n      while (to !== -1 && times[to] > endTime) {\n        --to;\n      }\n\n      ++to; // inclusive -> exclusive bound\n\n      if (from !== 0 || to !== nKeys) {\n        // empty tracks are forbidden, so keep at least one keyframe\n        if (from >= to) {\n          (to = Math.max(to, 1)), (from = to - 1);\n        }\n\n        var stride = this.getValueSize();\n        this.times = AnimationUtils.arraySlice(times, from, to);\n        this.values = AnimationUtils.arraySlice(\n          this.values,\n          from * stride,\n          to * stride\n        );\n      }\n\n      return this;\n    },\n\n    // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n    validate: function () {\n      var valid = true;\n\n      var valueSize = this.getValueSize();\n      if (valueSize - Math.floor(valueSize) !== 0) {\n        console.error(\n          \"THREE.KeyframeTrack: Invalid value size in track.\",\n          this\n        );\n        valid = false;\n      }\n\n      var times = this.times,\n        values = this.values,\n        nKeys = times.length;\n\n      if (nKeys === 0) {\n        console.error(\"THREE.KeyframeTrack: Track is empty.\", this);\n        valid = false;\n      }\n\n      var prevTime = null;\n\n      for (var i = 0; i !== nKeys; i++) {\n        var currTime = times[i];\n\n        if (typeof currTime === \"number\" && isNaN(currTime)) {\n          console.error(\n            \"THREE.KeyframeTrack: Time is not a valid number.\",\n            this,\n            i,\n            currTime\n          );\n          valid = false;\n          break;\n        }\n\n        if (prevTime !== null && prevTime > currTime) {\n          console.error(\n            \"THREE.KeyframeTrack: Out of order keys.\",\n            this,\n            i,\n            currTime,\n            prevTime\n          );\n          valid = false;\n          break;\n        }\n\n        prevTime = currTime;\n      }\n\n      if (values !== undefined) {\n        if (AnimationUtils.isTypedArray(values)) {\n          for (var i = 0, n = values.length; i !== n; ++i) {\n            var value = values[i];\n\n            if (isNaN(value)) {\n              console.error(\n                \"THREE.KeyframeTrack: Value is not a valid number.\",\n                this,\n                i,\n                value\n              );\n              valid = false;\n              break;\n            }\n          }\n        }\n      }\n\n      return valid;\n    },\n\n    // removes equivalent sequential keys as common in morph target sequences\n    // (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n    optimize: function () {\n      var times = this.times,\n        values = this.values,\n        stride = this.getValueSize(),\n        smoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n        writeIndex = 1,\n        lastIndex = times.length - 1;\n\n      for (var i = 1; i < lastIndex; ++i) {\n        var keep = false;\n\n        var time = times[i];\n        var timeNext = times[i + 1];\n\n        // remove adjacent keyframes scheduled at the same time\n\n        if (time !== timeNext && (i !== 1 || time !== time[0])) {\n          if (!smoothInterpolation) {\n            // remove unnecessary keyframes same as their neighbors\n\n            var offset = i * stride,\n              offsetP = offset - stride,\n              offsetN = offset + stride;\n\n            for (var j = 0; j !== stride; ++j) {\n              var value = values[offset + j];\n\n              if (\n                value !== values[offsetP + j] ||\n                value !== values[offsetN + j]\n              ) {\n                keep = true;\n                break;\n              }\n            }\n          } else {\n            keep = true;\n          }\n        }\n\n        // in-place compaction\n\n        if (keep) {\n          if (i !== writeIndex) {\n            times[writeIndex] = times[i];\n\n            var readOffset = i * stride,\n              writeOffset = writeIndex * stride;\n\n            for (var j = 0; j !== stride; ++j) {\n              values[writeOffset + j] = values[readOffset + j];\n            }\n          }\n\n          ++writeIndex;\n        }\n      }\n\n      // flush last keyframe (compaction looks ahead)\n\n      if (lastIndex > 0) {\n        times[writeIndex] = times[lastIndex];\n\n        for (\n          var readOffset = lastIndex * stride,\n            writeOffset = writeIndex * stride,\n            j = 0;\n          j !== stride;\n          ++j\n        ) {\n          values[writeOffset + j] = values[readOffset + j];\n        }\n\n        ++writeIndex;\n      }\n\n      if (writeIndex !== times.length) {\n        this.times = AnimationUtils.arraySlice(times, 0, writeIndex);\n        this.values = AnimationUtils.arraySlice(values, 0, writeIndex * stride);\n      }\n\n      return this;\n    },\n\n    clone: function () {\n      var times = AnimationUtils.arraySlice(this.times, 0);\n      var values = AnimationUtils.arraySlice(this.values, 0);\n\n      var TypedKeyframeTrack = this.constructor;\n      var track = new TypedKeyframeTrack(this.name, times, values);\n\n      // Interpolant argument to constructor is not saved, so copy the factory method directly.\n      track.createInterpolant = this.createInterpolant;\n\n      return track;\n    },\n  });\n\n  /**\n   *\n   * A Track of Boolean keyframe values.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function BooleanKeyframeTrack(name, times, values) {\n    KeyframeTrack.call(this, name, times, values);\n  }\n\n  BooleanKeyframeTrack.prototype = Object.assign(\n    Object.create(KeyframeTrack.prototype),\n    {\n      constructor: BooleanKeyframeTrack,\n\n      ValueTypeName: \"bool\",\n      ValueBufferType: Array,\n\n      DefaultInterpolation: InterpolateDiscrete,\n\n      InterpolantFactoryMethodLinear: undefined,\n      InterpolantFactoryMethodSmooth: undefined,\n\n      // Note: Actually this track could have a optimized / compressed\n      // representation of a single value and a custom interpolant that\n      // computes \"firstValue ^ isOdd( index )\".\n    }\n  );\n\n  /**\n   *\n   * A Track of keyframe values that represent color.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function ColorKeyframeTrack(name, times, values, interpolation) {\n    KeyframeTrack.call(this, name, times, values, interpolation);\n  }\n\n  ColorKeyframeTrack.prototype = Object.assign(\n    Object.create(KeyframeTrack.prototype),\n    {\n      constructor: ColorKeyframeTrack,\n\n      ValueTypeName: \"color\",\n\n      // ValueBufferType is inherited\n\n      // DefaultInterpolation is inherited\n\n      // Note: Very basic implementation and nothing special yet.\n      // However, this is the place for color space parameterization.\n    }\n  );\n\n  /**\n   *\n   * A Track of numeric keyframe values.\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function NumberKeyframeTrack(name, times, values, interpolation) {\n    KeyframeTrack.call(this, name, times, values, interpolation);\n  }\n\n  NumberKeyframeTrack.prototype = Object.assign(\n    Object.create(KeyframeTrack.prototype),\n    {\n      constructor: NumberKeyframeTrack,\n\n      ValueTypeName: \"number\",\n\n      // ValueBufferType is inherited\n\n      // DefaultInterpolation is inherited\n    }\n  );\n\n  /**\n   * Spherical linear unit quaternion interpolant.\n   *\n   * @author tschw\n   */\n\n  function QuaternionLinearInterpolant(\n    parameterPositions,\n    sampleValues,\n    sampleSize,\n    resultBuffer\n  ) {\n    Interpolant.call(\n      this,\n      parameterPositions,\n      sampleValues,\n      sampleSize,\n      resultBuffer\n    );\n  }\n\n  QuaternionLinearInterpolant.prototype = Object.assign(\n    Object.create(Interpolant.prototype),\n    {\n      constructor: QuaternionLinearInterpolant,\n\n      interpolate_: function (i1, t0, t, t1) {\n        var result = this.resultBuffer,\n          values = this.sampleValues,\n          stride = this.valueSize,\n          offset = i1 * stride,\n          alpha = (t - t0) / (t1 - t0);\n\n        for (var end = offset + stride; offset !== end; offset += 4) {\n          Quaternion.slerpFlat(\n            result,\n            0,\n            values,\n            offset - stride,\n            values,\n            offset,\n            alpha\n          );\n        }\n\n        return result;\n      },\n    }\n  );\n\n  /**\n   *\n   * A Track of quaternion keyframe values.\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function QuaternionKeyframeTrack(name, times, values, interpolation) {\n    KeyframeTrack.call(this, name, times, values, interpolation);\n  }\n\n  QuaternionKeyframeTrack.prototype = Object.assign(\n    Object.create(KeyframeTrack.prototype),\n    {\n      constructor: QuaternionKeyframeTrack,\n\n      ValueTypeName: \"quaternion\",\n\n      // ValueBufferType is inherited\n\n      DefaultInterpolation: InterpolateLinear,\n\n      InterpolantFactoryMethodLinear: function (result) {\n        return new QuaternionLinearInterpolant(\n          this.times,\n          this.values,\n          this.getValueSize(),\n          result\n        );\n      },\n\n      InterpolantFactoryMethodSmooth: undefined, // not yet implemented\n    }\n  );\n\n  /**\n   *\n   * A Track that interpolates Strings\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function StringKeyframeTrack(name, times, values, interpolation) {\n    KeyframeTrack.call(this, name, times, values, interpolation);\n  }\n\n  StringKeyframeTrack.prototype = Object.assign(\n    Object.create(KeyframeTrack.prototype),\n    {\n      constructor: StringKeyframeTrack,\n\n      ValueTypeName: \"string\",\n      ValueBufferType: Array,\n\n      DefaultInterpolation: InterpolateDiscrete,\n\n      InterpolantFactoryMethodLinear: undefined,\n\n      InterpolantFactoryMethodSmooth: undefined,\n    }\n  );\n\n  /**\n   *\n   * A Track of vectored keyframe values.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function VectorKeyframeTrack(name, times, values, interpolation) {\n    KeyframeTrack.call(this, name, times, values, interpolation);\n  }\n\n  VectorKeyframeTrack.prototype = Object.assign(\n    Object.create(KeyframeTrack.prototype),\n    {\n      constructor: VectorKeyframeTrack,\n\n      ValueTypeName: \"vector\",\n\n      // ValueBufferType is inherited\n\n      // DefaultInterpolation is inherited\n    }\n  );\n\n  /**\n   *\n   * Reusable set of Tracks that represent an animation.\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   */\n\n  function AnimationClip(name, duration, tracks) {\n    this.name = name;\n    this.tracks = tracks;\n    this.duration = duration !== undefined ? duration : -1;\n\n    this.uuid = _Math.generateUUID();\n\n    // this means it should figure out its duration by scanning the tracks\n    if (this.duration < 0) {\n      this.resetDuration();\n    }\n  }\n\n  function getTrackTypeForValueTypeName(typeName) {\n    switch (typeName.toLowerCase()) {\n      case \"scalar\":\n      case \"double\":\n      case \"float\":\n      case \"number\":\n      case \"integer\":\n        return NumberKeyframeTrack;\n\n      case \"vector\":\n      case \"vector2\":\n      case \"vector3\":\n      case \"vector4\":\n        return VectorKeyframeTrack;\n\n      case \"color\":\n        return ColorKeyframeTrack;\n\n      case \"quaternion\":\n        return QuaternionKeyframeTrack;\n\n      case \"bool\":\n      case \"boolean\":\n        return BooleanKeyframeTrack;\n\n      case \"string\":\n        return StringKeyframeTrack;\n    }\n\n    throw new Error(\"THREE.KeyframeTrack: Unsupported typeName: \" + typeName);\n  }\n\n  function parseKeyframeTrack(json) {\n    if (json.type === undefined) {\n      throw new Error(\n        \"THREE.KeyframeTrack: track type undefined, can not parse\"\n      );\n    }\n\n    var trackType = getTrackTypeForValueTypeName(json.type);\n\n    if (json.times === undefined) {\n      var times = [],\n        values = [];\n\n      AnimationUtils.flattenJSON(json.keys, times, values, \"value\");\n\n      json.times = times;\n      json.values = values;\n    }\n\n    // derived classes can define a static parse method\n    if (trackType.parse !== undefined) {\n      return trackType.parse(json);\n    } else {\n      // by default, we assume a constructor compatible with the base\n      return new trackType(\n        json.name,\n        json.times,\n        json.values,\n        json.interpolation\n      );\n    }\n  }\n\n  Object.assign(AnimationClip, {\n    parse: function (json) {\n      var tracks = [],\n        jsonTracks = json.tracks,\n        frameTime = 1.0 / (json.fps || 1.0);\n\n      for (var i = 0, n = jsonTracks.length; i !== n; ++i) {\n        tracks.push(parseKeyframeTrack(jsonTracks[i]).scale(frameTime));\n      }\n\n      return new AnimationClip(json.name, json.duration, tracks);\n    },\n\n    toJSON: function (clip) {\n      var tracks = [],\n        clipTracks = clip.tracks;\n\n      var json = {\n        name: clip.name,\n        duration: clip.duration,\n        tracks: tracks,\n        uuid: clip.uuid,\n      };\n\n      for (var i = 0, n = clipTracks.length; i !== n; ++i) {\n        tracks.push(KeyframeTrack.toJSON(clipTracks[i]));\n      }\n\n      return json;\n    },\n\n    CreateFromMorphTargetSequence: function (\n      name,\n      morphTargetSequence,\n      fps,\n      noLoop\n    ) {\n      var numMorphTargets = morphTargetSequence.length;\n      var tracks = [];\n\n      for (var i = 0; i < numMorphTargets; i++) {\n        var times = [];\n        var values = [];\n\n        times.push(\n          (i + numMorphTargets - 1) % numMorphTargets,\n          i,\n          (i + 1) % numMorphTargets\n        );\n\n        values.push(0, 1, 0);\n\n        var order = AnimationUtils.getKeyframeOrder(times);\n        times = AnimationUtils.sortedArray(times, 1, order);\n        values = AnimationUtils.sortedArray(values, 1, order);\n\n        // if there is a key at the first frame, duplicate it as the\n        // last frame as well for perfect loop.\n        if (!noLoop && times[0] === 0) {\n          times.push(numMorphTargets);\n          values.push(values[0]);\n        }\n\n        tracks.push(\n          new NumberKeyframeTrack(\n            \".morphTargetInfluences[\" + morphTargetSequence[i].name + \"]\",\n            times,\n            values\n          ).scale(1.0 / fps)\n        );\n      }\n\n      return new AnimationClip(name, -1, tracks);\n    },\n\n    findByName: function (objectOrClipArray, name) {\n      var clipArray = objectOrClipArray;\n\n      if (!Array.isArray(objectOrClipArray)) {\n        var o = objectOrClipArray;\n        clipArray = (o.geometry && o.geometry.animations) || o.animations;\n      }\n\n      for (var i = 0; i < clipArray.length; i++) {\n        if (clipArray[i].name === name) {\n          return clipArray[i];\n        }\n      }\n\n      return null;\n    },\n\n    CreateClipsFromMorphTargetSequences: function (morphTargets, fps, noLoop) {\n      var animationToMorphTargets = {};\n\n      // tested with https://regex101.com/ on trick sequences\n      // such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n      var pattern = /^([\\w-]*?)([\\d]+)$/;\n\n      // sort morph target names into animation groups based\n      // patterns like Walk_001, Walk_002, Run_001, Run_002\n      for (var i = 0, il = morphTargets.length; i < il; i++) {\n        var morphTarget = morphTargets[i];\n        var parts = morphTarget.name.match(pattern);\n\n        if (parts && parts.length > 1) {\n          var name = parts[1];\n\n          var animationMorphTargets = animationToMorphTargets[name];\n          if (!animationMorphTargets) {\n            animationToMorphTargets[name] = animationMorphTargets = [];\n          }\n\n          animationMorphTargets.push(morphTarget);\n        }\n      }\n\n      var clips = [];\n\n      for (var name in animationToMorphTargets) {\n        clips.push(\n          AnimationClip.CreateFromMorphTargetSequence(\n            name,\n            animationToMorphTargets[name],\n            fps,\n            noLoop\n          )\n        );\n      }\n\n      return clips;\n    },\n\n    // parse the animation.hierarchy format\n    parseAnimation: function (animation, bones) {\n      if (!animation) {\n        console.error(\"THREE.AnimationClip: No animation in JSONLoader data.\");\n        return null;\n      }\n\n      var addNonemptyTrack = function (\n        trackType,\n        trackName,\n        animationKeys,\n        propertyName,\n        destTracks\n      ) {\n        // only return track if there are actually keys.\n        if (animationKeys.length !== 0) {\n          var times = [];\n          var values = [];\n\n          AnimationUtils.flattenJSON(\n            animationKeys,\n            times,\n            values,\n            propertyName\n          );\n\n          // empty keys are filtered out, so check again\n          if (times.length !== 0) {\n            destTracks.push(new trackType(trackName, times, values));\n          }\n        }\n      };\n\n      var tracks = [];\n\n      var clipName = animation.name || \"default\";\n      // automatic length determination in AnimationClip.\n      var duration = animation.length || -1;\n      var fps = animation.fps || 30;\n\n      var hierarchyTracks = animation.hierarchy || [];\n\n      for (var h = 0; h < hierarchyTracks.length; h++) {\n        var animationKeys = hierarchyTracks[h].keys;\n\n        // skip empty tracks\n        if (!animationKeys || animationKeys.length === 0) {\n          continue;\n        }\n\n        // process morph targets\n        if (animationKeys[0].morphTargets) {\n          // figure out all morph targets used in this track\n          var morphTargetNames = {};\n\n          for (var k = 0; k < animationKeys.length; k++) {\n            if (animationKeys[k].morphTargets) {\n              for (var m = 0; m < animationKeys[k].morphTargets.length; m++) {\n                morphTargetNames[animationKeys[k].morphTargets[m]] = -1;\n              }\n            }\n          }\n\n          // create a track for each morph target with all zero\n          // morphTargetInfluences except for the keys in which\n          // the morphTarget is named.\n          for (var morphTargetName in morphTargetNames) {\n            var times = [];\n            var values = [];\n\n            for (var m = 0; m !== animationKeys[k].morphTargets.length; ++m) {\n              var animationKey = animationKeys[k];\n\n              times.push(animationKey.time);\n              values.push(animationKey.morphTarget === morphTargetName ? 1 : 0);\n            }\n\n            tracks.push(\n              new NumberKeyframeTrack(\n                \".morphTargetInfluence[\" + morphTargetName + \"]\",\n                times,\n                values\n              )\n            );\n          }\n\n          duration = morphTargetNames.length * (fps || 1.0);\n        } else {\n          // ...assume skeletal animation\n\n          var boneName = \".bones[\" + bones[h].name + \"]\";\n\n          addNonemptyTrack(\n            VectorKeyframeTrack,\n            boneName + \".position\",\n            animationKeys,\n            \"pos\",\n            tracks\n          );\n\n          addNonemptyTrack(\n            QuaternionKeyframeTrack,\n            boneName + \".quaternion\",\n            animationKeys,\n            \"rot\",\n            tracks\n          );\n\n          addNonemptyTrack(\n            VectorKeyframeTrack,\n            boneName + \".scale\",\n            animationKeys,\n            \"scl\",\n            tracks\n          );\n        }\n      }\n\n      if (tracks.length === 0) {\n        return null;\n      }\n\n      var clip = new AnimationClip(clipName, duration, tracks);\n\n      return clip;\n    },\n  });\n\n  Object.assign(AnimationClip.prototype, {\n    resetDuration: function () {\n      var tracks = this.tracks,\n        duration = 0;\n\n      for (var i = 0, n = tracks.length; i !== n; ++i) {\n        var track = this.tracks[i];\n\n        duration = Math.max(duration, track.times[track.times.length - 1]);\n      }\n\n      this.duration = duration;\n\n      return this;\n    },\n\n    trim: function () {\n      for (var i = 0; i < this.tracks.length; i++) {\n        this.tracks[i].trim(0, this.duration);\n      }\n\n      return this;\n    },\n\n    validate: function () {\n      var valid = true;\n\n      for (var i = 0; i < this.tracks.length; i++) {\n        valid = valid && this.tracks[i].validate();\n      }\n\n      return valid;\n    },\n\n    optimize: function () {\n      for (var i = 0; i < this.tracks.length; i++) {\n        this.tracks[i].optimize();\n      }\n\n      return this;\n    },\n\n    clone: function () {\n      var tracks = [];\n\n      for (var i = 0; i < this.tracks.length; i++) {\n        tracks.push(this.tracks[i].clone());\n      }\n\n      return new AnimationClip(this.name, this.duration, tracks);\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var Cache = {\n    enabled: false,\n\n    files: {},\n\n    add: function (key, file) {\n      if (this.enabled === false) {\n        return;\n      }\n\n      // console.log( 'THREE.Cache', 'Adding key:', key );\n\n      this.files[key] = file;\n    },\n\n    get: function (key) {\n      if (this.enabled === false) {\n        return;\n      }\n\n      // console.log( 'THREE.Cache', 'Checking key:', key );\n\n      return this.files[key];\n    },\n\n    remove: function (key) {\n      delete this.files[key];\n    },\n\n    clear: function () {\n      this.files = {};\n    },\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function LoadingManager(onLoad, onProgress, onError) {\n    var scope = this;\n\n    var isLoading = false;\n    var itemsLoaded = 0;\n    var itemsTotal = 0;\n    var urlModifier = undefined;\n    var handlers = [];\n\n    // Refer to #5689 for the reason why we don't set .onStart\n    // in the constructor\n\n    this.onStart = undefined;\n    this.onLoad = onLoad;\n    this.onProgress = onProgress;\n    this.onError = onError;\n\n    this.itemStart = function (url) {\n      itemsTotal++;\n\n      if (isLoading === false) {\n        if (scope.onStart !== undefined) {\n          scope.onStart(url, itemsLoaded, itemsTotal);\n        }\n      }\n\n      isLoading = true;\n    };\n\n    this.itemEnd = function (url) {\n      itemsLoaded++;\n\n      if (scope.onProgress !== undefined) {\n        scope.onProgress(url, itemsLoaded, itemsTotal);\n      }\n\n      if (itemsLoaded === itemsTotal) {\n        isLoading = false;\n\n        if (scope.onLoad !== undefined) {\n          scope.onLoad();\n        }\n      }\n    };\n\n    this.itemError = function (url) {\n      if (scope.onError !== undefined) {\n        scope.onError(url);\n      }\n    };\n\n    this.resolveURL = function (url) {\n      if (urlModifier) {\n        return urlModifier(url);\n      }\n\n      return url;\n    };\n\n    this.setURLModifier = function (transform) {\n      urlModifier = transform;\n\n      return this;\n    };\n\n    this.addHandler = function (regex, loader) {\n      handlers.push(regex, loader);\n\n      return this;\n    };\n\n    this.removeHandler = function (regex) {\n      var index = handlers.indexOf(regex);\n\n      if (index !== -1) {\n        handlers.splice(index, 2);\n      }\n\n      return this;\n    };\n\n    this.getHandler = function (file) {\n      for (var i = 0, l = handlers.length; i < l; i += 2) {\n        var regex = handlers[i];\n        var loader = handlers[i + 1];\n\n        if (regex.global) {\n          regex.lastIndex = 0;\n        } // see #17920\n\n        if (regex.test(file)) {\n          return loader;\n        }\n      }\n\n      return null;\n    };\n  }\n\n  var DefaultLoadingManager = new LoadingManager();\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Loader(manager) {\n    this.manager = manager !== undefined ? manager : DefaultLoadingManager;\n\n    this.crossOrigin = \"anonymous\";\n    this.path = \"\";\n    this.resourcePath = \"\";\n  }\n\n  Object.assign(Loader.prototype, {\n    load: function (/* url, onLoad, onProgress, onError */) {},\n\n    parse: function (/* data */) {},\n\n    setCrossOrigin: function (crossOrigin) {\n      this.crossOrigin = crossOrigin;\n      return this;\n    },\n\n    setPath: function (path) {\n      this.path = path;\n      return this;\n    },\n\n    setResourcePath: function (resourcePath) {\n      this.resourcePath = resourcePath;\n      return this;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var loading = {};\n\n  function FileLoader(manager) {\n    Loader.call(this, manager);\n  }\n\n  FileLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: FileLoader,\n\n    load: function (url, onLoad, onProgress, onError) {\n      if (url === undefined) {\n        url = \"\";\n      }\n\n      if (this.path !== undefined) {\n        url = this.path + url;\n      }\n\n      url = this.manager.resolveURL(url);\n\n      var scope = this;\n\n      var cached = Cache.get(url);\n\n      if (cached !== undefined) {\n        scope.manager.itemStart(url);\n\n        setTimeout(function () {\n          if (onLoad) {\n            onLoad(cached);\n          }\n\n          scope.manager.itemEnd(url);\n        }, 0);\n\n        return cached;\n      }\n\n      // Check if request is duplicate\n\n      if (loading[url] !== undefined) {\n        loading[url].push({\n          onLoad: onLoad,\n          onProgress: onProgress,\n          onError: onError,\n        });\n\n        return;\n      }\n\n      // Check for data: URI\n      var dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n      var dataUriRegexResult = url.match(dataUriRegex);\n\n      // Safari can not handle Data URIs through XMLHttpRequest so process manually\n      if (dataUriRegexResult) {\n        var mimeType = dataUriRegexResult[1];\n        var isBase64 = !!dataUriRegexResult[2];\n        var data = dataUriRegexResult[3];\n\n        data = decodeURIComponent(data);\n\n        if (isBase64) {\n          data = atob(data);\n        }\n\n        try {\n          var response;\n          var responseType = (this.responseType || \"\").toLowerCase();\n\n          switch (responseType) {\n            case \"arraybuffer\":\n            case \"blob\":\n              var view = new Uint8Array(data.length);\n\n              for (var i = 0; i < data.length; i++) {\n                view[i] = data.charCodeAt(i);\n              }\n\n              if (responseType === \"blob\") {\n                response = new Blob([view.buffer], {\n                  type: mimeType,\n                });\n              } else {\n                response = view.buffer;\n              }\n\n              break;\n\n            case \"document\":\n              var parser = new DOMParser();\n              response = parser.parseFromString(data, mimeType);\n\n              break;\n\n            case \"json\":\n              response = JSON.parse(data);\n\n              break;\n\n            default:\n              // 'text' or other\n\n              response = data;\n\n              break;\n          }\n\n          // Wait for next browser tick like standard XMLHttpRequest event dispatching does\n          setTimeout(function () {\n            if (onLoad) {\n              onLoad(response);\n            }\n\n            scope.manager.itemEnd(url);\n          }, 0);\n        } catch (error) {\n          // Wait for next browser tick like standard XMLHttpRequest event dispatching does\n          setTimeout(function () {\n            if (onError) {\n              onError(error);\n            }\n\n            scope.manager.itemError(url);\n            scope.manager.itemEnd(url);\n          }, 0);\n        }\n      } else {\n        // Initialise array for duplicate requests\n\n        loading[url] = [];\n\n        loading[url].push({\n          onLoad: onLoad,\n          onProgress: onProgress,\n          onError: onError,\n        });\n\n        var request = new XMLHttpRequest();\n\n        request.open(\"GET\", url, true);\n\n        request.addEventListener(\n          \"load\",\n          function (event) {\n            var response = this.response;\n\n            var callbacks = loading[url];\n\n            delete loading[url];\n\n            if (this.status === 200 || this.status === 0) {\n              // Some browsers return HTTP Status 0 when using non-http protocol\n              // e.g. 'file://' or 'data://'. Handle as success.\n\n              if (this.status === 0) {\n                console.warn(\"THREE.FileLoader: HTTP Status 0 received.\");\n              }\n\n              // Add to cache only on HTTP success, so that we do not cache\n              // error response bodies as proper responses to requests.\n              Cache.add(url, response);\n\n              for (var i = 0, il = callbacks.length; i < il; i++) {\n                var callback = callbacks[i];\n                if (callback.onLoad) {\n                  callback.onLoad(response);\n                }\n              }\n\n              scope.manager.itemEnd(url);\n            } else {\n              for (var i = 0, il = callbacks.length; i < il; i++) {\n                var callback = callbacks[i];\n                if (callback.onError) {\n                  callback.onError(event);\n                }\n              }\n\n              scope.manager.itemError(url);\n              scope.manager.itemEnd(url);\n            }\n          },\n          false\n        );\n\n        request.addEventListener(\n          \"progress\",\n          function (event) {\n            var callbacks = loading[url];\n\n            for (var i = 0, il = callbacks.length; i < il; i++) {\n              var callback = callbacks[i];\n              if (callback.onProgress) {\n                callback.onProgress(event);\n              }\n            }\n          },\n          false\n        );\n\n        request.addEventListener(\n          \"error\",\n          function (event) {\n            var callbacks = loading[url];\n\n            delete loading[url];\n\n            for (var i = 0, il = callbacks.length; i < il; i++) {\n              var callback = callbacks[i];\n              if (callback.onError) {\n                callback.onError(event);\n              }\n            }\n\n            scope.manager.itemError(url);\n            scope.manager.itemEnd(url);\n          },\n          false\n        );\n\n        request.addEventListener(\n          \"abort\",\n          function (event) {\n            var callbacks = loading[url];\n\n            delete loading[url];\n\n            for (var i = 0, il = callbacks.length; i < il; i++) {\n              var callback = callbacks[i];\n              if (callback.onError) {\n                callback.onError(event);\n              }\n            }\n\n            scope.manager.itemError(url);\n            scope.manager.itemEnd(url);\n          },\n          false\n        );\n\n        if (this.responseType !== undefined) {\n          request.responseType = this.responseType;\n        }\n        if (this.withCredentials !== undefined) {\n          request.withCredentials = this.withCredentials;\n        }\n\n        if (request.overrideMimeType) {\n          request.overrideMimeType(\n            this.mimeType !== undefined ? this.mimeType : \"text/plain\"\n          );\n        }\n\n        for (var header in this.requestHeader) {\n          request.setRequestHeader(header, this.requestHeader[header]);\n        }\n\n        request.send(null);\n      }\n\n      scope.manager.itemStart(url);\n\n      return request;\n    },\n\n    setResponseType: function (value) {\n      this.responseType = value;\n      return this;\n    },\n\n    setWithCredentials: function (value) {\n      this.withCredentials = value;\n      return this;\n    },\n\n    setMimeType: function (value) {\n      this.mimeType = value;\n      return this;\n    },\n\n    setRequestHeader: function (value) {\n      this.requestHeader = value;\n      return this;\n    },\n  });\n\n  /**\n   * @author bhouston / http://clara.io/\n   */\n\n  function AnimationLoader(manager) {\n    Loader.call(this, manager);\n  }\n\n  AnimationLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: AnimationLoader,\n\n    load: function (url, onLoad, onProgress, onError) {\n      var scope = this;\n\n      var loader = new FileLoader(scope.manager);\n      loader.setPath(scope.path);\n      loader.load(\n        url,\n        function (text) {\n          onLoad(scope.parse(JSON.parse(text)));\n        },\n        onProgress,\n        onError\n      );\n    },\n\n    parse: function (json) {\n      var animations = [];\n\n      for (var i = 0; i < json.length; i++) {\n        var clip = AnimationClip.parse(json[i]);\n\n        animations.push(clip);\n      }\n\n      return animations;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   *\n   * Abstract Base class to block based textures loader (dds, pvr, ...)\n   *\n   * Sub classes have to implement the parse() method which will be used in load().\n   */\n\n  function CompressedTextureLoader(manager) {\n    Loader.call(this, manager);\n  }\n\n  CompressedTextureLoader.prototype = Object.assign(\n    Object.create(Loader.prototype),\n    {\n      constructor: CompressedTextureLoader,\n\n      load: function (url, onLoad, onProgress, onError) {\n        var scope = this;\n\n        var images = [];\n\n        var texture = new CompressedTexture();\n        texture.image = images;\n\n        var loader = new FileLoader(this.manager);\n        loader.setPath(this.path);\n        loader.setResponseType(\"arraybuffer\");\n\n        function loadTexture(i) {\n          loader.load(\n            url[i],\n            function (buffer) {\n              var texDatas = scope.parse(buffer, true);\n\n              images[i] = {\n                width: texDatas.width,\n                height: texDatas.height,\n                format: texDatas.format,\n                mipmaps: texDatas.mipmaps,\n              };\n\n              loaded += 1;\n\n              if (loaded === 6) {\n                if (texDatas.mipmapCount === 1) {\n                  texture.minFilter = LinearFilter;\n                }\n\n                texture.format = texDatas.format;\n                texture.needsUpdate = true;\n\n                if (onLoad) {\n                  onLoad(texture);\n                }\n              }\n            },\n            onProgress,\n            onError\n          );\n        }\n\n        if (Array.isArray(url)) {\n          var loaded = 0;\n\n          for (var i = 0, il = url.length; i < il; ++i) {\n            loadTexture(i);\n          }\n        } else {\n          // compressed cubemap texture stored in a single DDS file\n\n          loader.load(\n            url,\n            function (buffer) {\n              var texDatas = scope.parse(buffer, true);\n\n              if (texDatas.isCubemap) {\n                var faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n                for (var f = 0; f < faces; f++) {\n                  images[f] = {\n                    mipmaps: [],\n                  };\n\n                  for (var i = 0; i < texDatas.mipmapCount; i++) {\n                    images[f].mipmaps.push(\n                      texDatas.mipmaps[f * texDatas.mipmapCount + i]\n                    );\n                    images[f].format = texDatas.format;\n                    images[f].width = texDatas.width;\n                    images[f].height = texDatas.height;\n                  }\n                }\n              } else {\n                texture.image.width = texDatas.width;\n                texture.image.height = texDatas.height;\n                texture.mipmaps = texDatas.mipmaps;\n              }\n\n              if (texDatas.mipmapCount === 1) {\n                texture.minFilter = LinearFilter;\n              }\n\n              texture.format = texDatas.format;\n              texture.needsUpdate = true;\n\n              if (onLoad) {\n                onLoad(texture);\n              }\n            },\n            onProgress,\n            onError\n          );\n        }\n\n        return texture;\n      },\n    }\n  );\n\n  /**\n   * @author Nikos M. / https://github.com/foo123/\n   *\n   * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n   *\n   * Sub classes have to implement the parse() method which will be used in load().\n   */\n\n  function DataTextureLoader(manager) {\n    Loader.call(this, manager);\n  }\n\n  DataTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: DataTextureLoader,\n\n    load: function (url, onLoad, onProgress, onError) {\n      var scope = this;\n\n      var texture = new DataTexture();\n\n      var loader = new FileLoader(this.manager);\n      loader.setResponseType(\"arraybuffer\");\n      loader.setPath(this.path);\n      loader.load(\n        url,\n        function (buffer) {\n          var texData = scope.parse(buffer);\n\n          if (!texData) {\n            return;\n          }\n\n          if (texData.image !== undefined) {\n            texture.image = texData.image;\n          } else if (texData.data !== undefined) {\n            texture.image.width = texData.width;\n            texture.image.height = texData.height;\n            texture.image.data = texData.data;\n          }\n\n          texture.wrapS =\n            texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n          texture.wrapT =\n            texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n          texture.magFilter =\n            texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n          texture.minFilter =\n            texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n          texture.anisotropy =\n            texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n          if (texData.format !== undefined) {\n            texture.format = texData.format;\n          }\n          if (texData.type !== undefined) {\n            texture.type = texData.type;\n          }\n\n          if (texData.mipmaps !== undefined) {\n            texture.mipmaps = texData.mipmaps;\n            texture.minFilter = LinearMipmapLinearFilter; // presumably...\n          }\n\n          if (texData.mipmapCount === 1) {\n            texture.minFilter = LinearFilter;\n          }\n\n          texture.needsUpdate = true;\n\n          if (onLoad) {\n            onLoad(texture, texData);\n          }\n        },\n        onProgress,\n        onError\n      );\n\n      return texture;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function ImageLoader(manager) {\n    Loader.call(this, manager);\n  }\n\n  ImageLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: ImageLoader,\n\n    load: function (url, onLoad, onProgress, onError) {\n      if (this.path !== undefined) {\n        url = this.path + url;\n      }\n\n      url = this.manager.resolveURL(url);\n\n      var scope = this;\n\n      var cached = Cache.get(url);\n\n      if (cached !== undefined) {\n        scope.manager.itemStart(url);\n\n        setTimeout(function () {\n          if (onLoad) {\n            onLoad(cached);\n          }\n\n          scope.manager.itemEnd(url);\n        }, 0);\n\n        return cached;\n      }\n\n      var image = document.createElementNS(\n        \"http://www.w3.org/1999/xhtml\",\n        \"img\"\n      );\n\n      function onImageLoad() {\n        image.removeEventListener(\"load\", onImageLoad, false);\n        image.removeEventListener(\"error\", onImageError, false);\n\n        Cache.add(url, this);\n\n        if (onLoad) {\n          onLoad(this);\n        }\n\n        scope.manager.itemEnd(url);\n      }\n\n      function onImageError(event) {\n        image.removeEventListener(\"load\", onImageLoad, false);\n        image.removeEventListener(\"error\", onImageError, false);\n\n        if (onError) {\n          onError(event);\n        }\n\n        scope.manager.itemError(url);\n        scope.manager.itemEnd(url);\n      }\n\n      image.addEventListener(\"load\", onImageLoad, false);\n      image.addEventListener(\"error\", onImageError, false);\n\n      if (url.substr(0, 5) !== \"data:\") {\n        if (this.crossOrigin !== undefined) {\n          image.crossOrigin = this.crossOrigin;\n        }\n      }\n\n      scope.manager.itemStart(url);\n\n      image.src = url;\n\n      return image;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function CubeTextureLoader(manager) {\n    Loader.call(this, manager);\n  }\n\n  CubeTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: CubeTextureLoader,\n\n    load: function (urls, onLoad, onProgress, onError) {\n      var texture = new CubeTexture();\n\n      var loader = new ImageLoader(this.manager);\n      loader.setCrossOrigin(this.crossOrigin);\n      loader.setPath(this.path);\n\n      var loaded = 0;\n\n      function loadTexture(i) {\n        loader.load(\n          urls[i],\n          function (image) {\n            texture.images[i] = image;\n\n            loaded++;\n\n            if (loaded === 6) {\n              texture.needsUpdate = true;\n\n              if (onLoad) {\n                onLoad(texture);\n              }\n            }\n          },\n          undefined,\n          onError\n        );\n      }\n\n      for (var i = 0; i < urls.length; ++i) {\n        loadTexture(i);\n      }\n\n      return texture;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function TextureLoader(manager) {\n    Loader.call(this, manager);\n  }\n\n  TextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: TextureLoader,\n\n    load: function (url, onLoad, onProgress, onError) {\n      var texture = new Texture();\n\n      var loader = new ImageLoader(this.manager);\n      loader.setCrossOrigin(this.crossOrigin);\n      loader.setPath(this.path);\n\n      loader.load(\n        url,\n        function (image) {\n          texture.image = image;\n\n          // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n          var isJPEG =\n            url.search(/\\.jpe?g($|\\?)/i) > 0 ||\n            url.search(/^data\\:image\\/jpeg/) === 0;\n\n          texture.format = isJPEG ? RGBFormat : RGBAFormat;\n          texture.needsUpdate = true;\n\n          if (onLoad !== undefined) {\n            onLoad(texture);\n          }\n        },\n        onProgress,\n        onError\n      );\n\n      return texture;\n    },\n  });\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * Extensible curve object\n   *\n   * Some common of curve methods:\n   * .getPoint( t, optionalTarget ), .getTangent( t )\n   * .getPointAt( u, optionalTarget ), .getTangentAt( u )\n   * .getPoints(), .getSpacedPoints()\n   * .getLength()\n   * .updateArcLengths()\n   *\n   * This following curves inherit from THREE.Curve:\n   *\n   * -- 2D curves --\n   * THREE.ArcCurve\n   * THREE.CubicBezierCurve\n   * THREE.EllipseCurve\n   * THREE.LineCurve\n   * THREE.QuadraticBezierCurve\n   * THREE.SplineCurve\n   *\n   * -- 3D curves --\n   * THREE.CatmullRomCurve3\n   * THREE.CubicBezierCurve3\n   * THREE.LineCurve3\n   * THREE.QuadraticBezierCurve3\n   *\n   * A series of curves can be represented as a THREE.CurvePath.\n   *\n   **/\n\n  /**************************************************************\n   *\tAbstract Curve base class\n   **************************************************************/\n\n  function Curve() {\n    this.type = \"Curve\";\n\n    this.arcLengthDivisions = 200;\n  }\n\n  Object.assign(Curve.prototype, {\n    // Virtual base class method to overwrite and implement in subclasses\n    //\t- t [0 .. 1]\n\n    getPoint: function (/* t, optionalTarget */) {\n      console.warn(\"THREE.Curve: .getPoint() not implemented.\");\n      return null;\n    },\n\n    // Get point at relative position in curve according to arc length\n    // - u [0 .. 1]\n\n    getPointAt: function (u, optionalTarget) {\n      var t = this.getUtoTmapping(u);\n      return this.getPoint(t, optionalTarget);\n    },\n\n    // Get sequence of points using getPoint( t )\n\n    getPoints: function (divisions) {\n      if (divisions === undefined) {\n        divisions = 5;\n      }\n\n      var points = [];\n\n      for (var d = 0; d <= divisions; d++) {\n        points.push(this.getPoint(d / divisions));\n      }\n\n      return points;\n    },\n\n    // Get sequence of points using getPointAt( u )\n\n    getSpacedPoints: function (divisions) {\n      if (divisions === undefined) {\n        divisions = 5;\n      }\n\n      var points = [];\n\n      for (var d = 0; d <= divisions; d++) {\n        points.push(this.getPointAt(d / divisions));\n      }\n\n      return points;\n    },\n\n    // Get total curve arc length\n\n    getLength: function () {\n      var lengths = this.getLengths();\n      return lengths[lengths.length - 1];\n    },\n\n    // Get list of cumulative segment lengths\n\n    getLengths: function (divisions) {\n      if (divisions === undefined) {\n        divisions = this.arcLengthDivisions;\n      }\n\n      if (\n        this.cacheArcLengths &&\n        this.cacheArcLengths.length === divisions + 1 &&\n        !this.needsUpdate\n      ) {\n        return this.cacheArcLengths;\n      }\n\n      this.needsUpdate = false;\n\n      var cache = [];\n      var current,\n        last = this.getPoint(0);\n      var p,\n        sum = 0;\n\n      cache.push(0);\n\n      for (p = 1; p <= divisions; p++) {\n        current = this.getPoint(p / divisions);\n        sum += current.distanceTo(last);\n        cache.push(sum);\n        last = current;\n      }\n\n      this.cacheArcLengths = cache;\n\n      return cache; // { sums: cache, sum: sum }; Sum is in the last element.\n    },\n\n    updateArcLengths: function () {\n      this.needsUpdate = true;\n      this.getLengths();\n    },\n\n    // Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n    getUtoTmapping: function (u, distance) {\n      var arcLengths = this.getLengths();\n\n      var i = 0,\n        il = arcLengths.length;\n\n      var targetArcLength; // The targeted u distance value to get\n\n      if (distance) {\n        targetArcLength = distance;\n      } else {\n        targetArcLength = u * arcLengths[il - 1];\n      }\n\n      // binary search for the index with largest value smaller than target u distance\n\n      var low = 0,\n        high = il - 1,\n        comparison;\n\n      while (low <= high) {\n        i = Math.floor(low + (high - low) / 2); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n        comparison = arcLengths[i] - targetArcLength;\n\n        if (comparison < 0) {\n          low = i + 1;\n        } else if (comparison > 0) {\n          high = i - 1;\n        } else {\n          high = i;\n          break;\n\n          // DONE\n        }\n      }\n\n      i = high;\n\n      if (arcLengths[i] === targetArcLength) {\n        return i / (il - 1);\n      }\n\n      // we could get finer grain at lengths, or use simple interpolation between two points\n\n      var lengthBefore = arcLengths[i];\n      var lengthAfter = arcLengths[i + 1];\n\n      var segmentLength = lengthAfter - lengthBefore;\n\n      // determine where we are between the 'before' and 'after' points\n\n      var segmentFraction = (targetArcLength - lengthBefore) / segmentLength;\n\n      // add that fractional amount to t\n\n      var t = (i + segmentFraction) / (il - 1);\n\n      return t;\n    },\n\n    // Returns a unit vector tangent at t\n    // In case any sub curve does not implement its tangent derivation,\n    // 2 points a small delta apart will be used to find its gradient\n    // which seems to give a reasonable approximation\n\n    getTangent: function (t) {\n      var delta = 0.0001;\n      var t1 = t - delta;\n      var t2 = t + delta;\n\n      // Capping in case of danger\n\n      if (t1 < 0) {\n        t1 = 0;\n      }\n      if (t2 > 1) {\n        t2 = 1;\n      }\n\n      var pt1 = this.getPoint(t1);\n      var pt2 = this.getPoint(t2);\n\n      var vec = pt2.clone().sub(pt1);\n      return vec.normalize();\n    },\n\n    getTangentAt: function (u) {\n      var t = this.getUtoTmapping(u);\n      return this.getTangent(t);\n    },\n\n    computeFrenetFrames: function (segments, closed) {\n      // see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n      var normal = new Vector3();\n\n      var tangents = [];\n      var normals = [];\n      var binormals = [];\n\n      var vec = new Vector3();\n      var mat = new Matrix4();\n\n      var i, u, theta;\n\n      // compute the tangent vectors for each segment on the curve\n\n      for (i = 0; i <= segments; i++) {\n        u = i / segments;\n\n        tangents[i] = this.getTangentAt(u);\n        tangents[i].normalize();\n      }\n\n      // select an initial normal vector perpendicular to the first tangent vector,\n      // and in the direction of the minimum tangent xyz component\n\n      normals[0] = new Vector3();\n      binormals[0] = new Vector3();\n      var min = Number.MAX_VALUE;\n      var tx = Math.abs(tangents[0].x);\n      var ty = Math.abs(tangents[0].y);\n      var tz = Math.abs(tangents[0].z);\n\n      if (tx <= min) {\n        min = tx;\n        normal.set(1, 0, 0);\n      }\n\n      if (ty <= min) {\n        min = ty;\n        normal.set(0, 1, 0);\n      }\n\n      if (tz <= min) {\n        normal.set(0, 0, 1);\n      }\n\n      vec.crossVectors(tangents[0], normal).normalize();\n\n      normals[0].crossVectors(tangents[0], vec);\n      binormals[0].crossVectors(tangents[0], normals[0]);\n\n      // compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n      for (i = 1; i <= segments; i++) {\n        normals[i] = normals[i - 1].clone();\n\n        binormals[i] = binormals[i - 1].clone();\n\n        vec.crossVectors(tangents[i - 1], tangents[i]);\n\n        if (vec.length() > Number.EPSILON) {\n          vec.normalize();\n\n          theta = Math.acos(\n            _Math.clamp(tangents[i - 1].dot(tangents[i]), -1, 1)\n          ); // clamp for floating pt errors\n\n          normals[i].applyMatrix4(mat.makeRotationAxis(vec, theta));\n        }\n\n        binormals[i].crossVectors(tangents[i], normals[i]);\n      }\n\n      // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n      if (closed === true) {\n        theta = Math.acos(\n          _Math.clamp(normals[0].dot(normals[segments]), -1, 1)\n        );\n        theta /= segments;\n\n        if (\n          tangents[0].dot(vec.crossVectors(normals[0], normals[segments])) > 0\n        ) {\n          theta = -theta;\n        }\n\n        for (i = 1; i <= segments; i++) {\n          // twist a little...\n          normals[i].applyMatrix4(mat.makeRotationAxis(tangents[i], theta * i));\n          binormals[i].crossVectors(tangents[i], normals[i]);\n        }\n      }\n\n      return {\n        tangents: tangents,\n        normals: normals,\n        binormals: binormals,\n      };\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (source) {\n      this.arcLengthDivisions = source.arcLengthDivisions;\n\n      return this;\n    },\n\n    toJSON: function () {\n      var data = {\n        metadata: {\n          version: 4.5,\n          type: \"Curve\",\n          generator: \"Curve.toJSON\",\n        },\n      };\n\n      data.arcLengthDivisions = this.arcLengthDivisions;\n      data.type = this.type;\n\n      return data;\n    },\n\n    fromJSON: function (json) {\n      this.arcLengthDivisions = json.arcLengthDivisions;\n\n      return this;\n    },\n  });\n\n  function EllipseCurve(\n    aX,\n    aY,\n    xRadius,\n    yRadius,\n    aStartAngle,\n    aEndAngle,\n    aClockwise,\n    aRotation\n  ) {\n    Curve.call(this);\n\n    this.type = \"EllipseCurve\";\n\n    this.aX = aX || 0;\n    this.aY = aY || 0;\n\n    this.xRadius = xRadius || 1;\n    this.yRadius = yRadius || 1;\n\n    this.aStartAngle = aStartAngle || 0;\n    this.aEndAngle = aEndAngle || 2 * Math.PI;\n\n    this.aClockwise = aClockwise || false;\n\n    this.aRotation = aRotation || 0;\n  }\n\n  EllipseCurve.prototype = Object.create(Curve.prototype);\n  EllipseCurve.prototype.constructor = EllipseCurve;\n\n  EllipseCurve.prototype.isEllipseCurve = true;\n\n  EllipseCurve.prototype.getPoint = function (t, optionalTarget) {\n    var point = optionalTarget || new Vector2();\n\n    var twoPi = Math.PI * 2;\n    var deltaAngle = this.aEndAngle - this.aStartAngle;\n    var samePoints = Math.abs(deltaAngle) < Number.EPSILON;\n\n    // ensures that deltaAngle is 0 .. 2 PI\n    while (deltaAngle < 0) {\n      deltaAngle += twoPi;\n    }\n    while (deltaAngle > twoPi) {\n      deltaAngle -= twoPi;\n    }\n\n    if (deltaAngle < Number.EPSILON) {\n      if (samePoints) {\n        deltaAngle = 0;\n      } else {\n        deltaAngle = twoPi;\n      }\n    }\n\n    if (this.aClockwise === true && !samePoints) {\n      if (deltaAngle === twoPi) {\n        deltaAngle = -twoPi;\n      } else {\n        deltaAngle = deltaAngle - twoPi;\n      }\n    }\n\n    var angle = this.aStartAngle + t * deltaAngle;\n    var x = this.aX + this.xRadius * Math.cos(angle);\n    var y = this.aY + this.yRadius * Math.sin(angle);\n\n    if (this.aRotation !== 0) {\n      var cos = Math.cos(this.aRotation);\n      var sin = Math.sin(this.aRotation);\n\n      var tx = x - this.aX;\n      var ty = y - this.aY;\n\n      // Rotate the point about the center of the ellipse.\n      x = tx * cos - ty * sin + this.aX;\n      y = tx * sin + ty * cos + this.aY;\n    }\n\n    return point.set(x, y);\n  };\n\n  EllipseCurve.prototype.copy = function (source) {\n    Curve.prototype.copy.call(this, source);\n\n    this.aX = source.aX;\n    this.aY = source.aY;\n\n    this.xRadius = source.xRadius;\n    this.yRadius = source.yRadius;\n\n    this.aStartAngle = source.aStartAngle;\n    this.aEndAngle = source.aEndAngle;\n\n    this.aClockwise = source.aClockwise;\n\n    this.aRotation = source.aRotation;\n\n    return this;\n  };\n\n  EllipseCurve.prototype.toJSON = function () {\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.aX = this.aX;\n    data.aY = this.aY;\n\n    data.xRadius = this.xRadius;\n    data.yRadius = this.yRadius;\n\n    data.aStartAngle = this.aStartAngle;\n    data.aEndAngle = this.aEndAngle;\n\n    data.aClockwise = this.aClockwise;\n\n    data.aRotation = this.aRotation;\n\n    return data;\n  };\n\n  EllipseCurve.prototype.fromJSON = function (json) {\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.aX = json.aX;\n    this.aY = json.aY;\n\n    this.xRadius = json.xRadius;\n    this.yRadius = json.yRadius;\n\n    this.aStartAngle = json.aStartAngle;\n    this.aEndAngle = json.aEndAngle;\n\n    this.aClockwise = json.aClockwise;\n\n    this.aRotation = json.aRotation;\n\n    return this;\n  };\n\n  function ArcCurve(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n    EllipseCurve.call(\n      this,\n      aX,\n      aY,\n      aRadius,\n      aRadius,\n      aStartAngle,\n      aEndAngle,\n      aClockwise\n    );\n\n    this.type = \"ArcCurve\";\n  }\n\n  ArcCurve.prototype = Object.create(EllipseCurve.prototype);\n  ArcCurve.prototype.constructor = ArcCurve;\n\n  ArcCurve.prototype.isArcCurve = true;\n\n  /**\n   * @author zz85 https://github.com/zz85\n   *\n   * Centripetal CatmullRom Curve - which is useful for avoiding\n   * cusps and self-intersections in non-uniform catmull rom curves.\n   * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n   *\n   * curve.type accepts centripetal(default), chordal and catmullrom\n   * curve.tension is used for catmullrom which defaults to 0.5\n   */\n\n  /*\n  Based on an optimized c++ solution in\n   - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n   - http://ideone.com/NoEbVM\n\n  This CubicPoly class could be used for reusing some variables and calculations,\n  but for three.js curve use, it could be possible inlined and flatten into a single function call\n  which can be placed in CurveUtils.\n  */\n\n  function CubicPoly() {\n    var c0 = 0,\n      c1 = 0,\n      c2 = 0,\n      c3 = 0;\n\n    /*\n     * Compute coefficients for a cubic polynomial\n     *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n     * such that\n     *   p(0) = x0, p(1) = x1\n     *  and\n     *   p'(0) = t0, p'(1) = t1.\n     */\n    function init(x0, x1, t0, t1) {\n      c0 = x0;\n      c1 = t0;\n      c2 = -3 * x0 + 3 * x1 - 2 * t0 - t1;\n      c3 = 2 * x0 - 2 * x1 + t0 + t1;\n    }\n\n    return {\n      initCatmullRom: function (x0, x1, x2, x3, tension) {\n        init(x1, x2, tension * (x2 - x0), tension * (x3 - x1));\n      },\n\n      initNonuniformCatmullRom: function (x0, x1, x2, x3, dt0, dt1, dt2) {\n        // compute tangents when parameterized in [t1,t2]\n        var t1 = (x1 - x0) / dt0 - (x2 - x0) / (dt0 + dt1) + (x2 - x1) / dt1;\n        var t2 = (x2 - x1) / dt1 - (x3 - x1) / (dt1 + dt2) + (x3 - x2) / dt2;\n\n        // rescale tangents for parametrization in [0,1]\n        t1 *= dt1;\n        t2 *= dt1;\n\n        init(x1, x2, t1, t2);\n      },\n\n      calc: function (t) {\n        var t2 = t * t;\n        var t3 = t2 * t;\n        return c0 + c1 * t + c2 * t2 + c3 * t3;\n      },\n    };\n  }\n\n  //\n\n  var tmp = new Vector3();\n  var px = new CubicPoly(),\n    py = new CubicPoly(),\n    pz = new CubicPoly();\n\n  function CatmullRomCurve3(points, closed, curveType, tension) {\n    Curve.call(this);\n\n    this.type = \"CatmullRomCurve3\";\n\n    this.points = points || [];\n    this.closed = closed || false;\n    this.curveType = curveType || \"centripetal\";\n    this.tension = tension || 0.5;\n  }\n\n  CatmullRomCurve3.prototype = Object.create(Curve.prototype);\n  CatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\n  CatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\n  CatmullRomCurve3.prototype.getPoint = function (t, optionalTarget) {\n    var point = optionalTarget || new Vector3();\n\n    var points = this.points;\n    var l = points.length;\n\n    var p = (l - (this.closed ? 0 : 1)) * t;\n    var intPoint = Math.floor(p);\n    var weight = p - intPoint;\n\n    if (this.closed) {\n      intPoint +=\n        intPoint > 0 ? 0 : (Math.floor(Math.abs(intPoint) / l) + 1) * l;\n    } else if (weight === 0 && intPoint === l - 1) {\n      intPoint = l - 2;\n      weight = 1;\n    }\n\n    var p0, p1, p2, p3; // 4 points\n\n    if (this.closed || intPoint > 0) {\n      p0 = points[(intPoint - 1) % l];\n    } else {\n      // extrapolate first point\n      tmp.subVectors(points[0], points[1]).add(points[0]);\n      p0 = tmp;\n    }\n\n    p1 = points[intPoint % l];\n    p2 = points[(intPoint + 1) % l];\n\n    if (this.closed || intPoint + 2 < l) {\n      p3 = points[(intPoint + 2) % l];\n    } else {\n      // extrapolate last point\n      tmp.subVectors(points[l - 1], points[l - 2]).add(points[l - 1]);\n      p3 = tmp;\n    }\n\n    if (this.curveType === \"centripetal\" || this.curveType === \"chordal\") {\n      // init Centripetal / Chordal Catmull-Rom\n      var pow = this.curveType === \"chordal\" ? 0.5 : 0.25;\n      var dt0 = Math.pow(p0.distanceToSquared(p1), pow);\n      var dt1 = Math.pow(p1.distanceToSquared(p2), pow);\n      var dt2 = Math.pow(p2.distanceToSquared(p3), pow);\n\n      // safety check for repeated points\n      if (dt1 < 1e-4) {\n        dt1 = 1.0;\n      }\n      if (dt0 < 1e-4) {\n        dt0 = dt1;\n      }\n      if (dt2 < 1e-4) {\n        dt2 = dt1;\n      }\n\n      px.initNonuniformCatmullRom(p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2);\n      py.initNonuniformCatmullRom(p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2);\n      pz.initNonuniformCatmullRom(p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2);\n    } else if (this.curveType === \"catmullrom\") {\n      px.initCatmullRom(p0.x, p1.x, p2.x, p3.x, this.tension);\n      py.initCatmullRom(p0.y, p1.y, p2.y, p3.y, this.tension);\n      pz.initCatmullRom(p0.z, p1.z, p2.z, p3.z, this.tension);\n    }\n\n    point.set(px.calc(weight), py.calc(weight), pz.calc(weight));\n\n    return point;\n  };\n\n  CatmullRomCurve3.prototype.copy = function (source) {\n    Curve.prototype.copy.call(this, source);\n\n    this.points = [];\n\n    for (var i = 0, l = source.points.length; i < l; i++) {\n      var point = source.points[i];\n\n      this.points.push(point.clone());\n    }\n\n    this.closed = source.closed;\n    this.curveType = source.curveType;\n    this.tension = source.tension;\n\n    return this;\n  };\n\n  CatmullRomCurve3.prototype.toJSON = function () {\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.points = [];\n\n    for (var i = 0, l = this.points.length; i < l; i++) {\n      var point = this.points[i];\n      data.points.push(point.toArray());\n    }\n\n    data.closed = this.closed;\n    data.curveType = this.curveType;\n    data.tension = this.tension;\n\n    return data;\n  };\n\n  CatmullRomCurve3.prototype.fromJSON = function (json) {\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.points = [];\n\n    for (var i = 0, l = json.points.length; i < l; i++) {\n      var point = json.points[i];\n      this.points.push(new Vector3().fromArray(point));\n    }\n\n    this.closed = json.closed;\n    this.curveType = json.curveType;\n    this.tension = json.tension;\n\n    return this;\n  };\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   *\n   * Bezier Curves formulas obtained from\n   * http://en.wikipedia.org/wiki/Bzier_curve\n   */\n\n  function CatmullRom(t, p0, p1, p2, p3) {\n    var v0 = (p2 - p0) * 0.5;\n    var v1 = (p3 - p1) * 0.5;\n    var t2 = t * t;\n    var t3 = t * t2;\n    return (\n      (2 * p1 - 2 * p2 + v0 + v1) * t3 +\n      (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 +\n      v0 * t +\n      p1\n    );\n  }\n\n  //\n\n  function QuadraticBezierP0(t, p) {\n    var k = 1 - t;\n    return k * k * p;\n  }\n\n  function QuadraticBezierP1(t, p) {\n    return 2 * (1 - t) * t * p;\n  }\n\n  function QuadraticBezierP2(t, p) {\n    return t * t * p;\n  }\n\n  function QuadraticBezier(t, p0, p1, p2) {\n    return (\n      QuadraticBezierP0(t, p0) +\n      QuadraticBezierP1(t, p1) +\n      QuadraticBezierP2(t, p2)\n    );\n  }\n\n  //\n\n  function CubicBezierP0(t, p) {\n    var k = 1 - t;\n    return k * k * k * p;\n  }\n\n  function CubicBezierP1(t, p) {\n    var k = 1 - t;\n    return 3 * k * k * t * p;\n  }\n\n  function CubicBezierP2(t, p) {\n    return 3 * (1 - t) * t * t * p;\n  }\n\n  function CubicBezierP3(t, p) {\n    return t * t * t * p;\n  }\n\n  function CubicBezier(t, p0, p1, p2, p3) {\n    return (\n      CubicBezierP0(t, p0) +\n      CubicBezierP1(t, p1) +\n      CubicBezierP2(t, p2) +\n      CubicBezierP3(t, p3)\n    );\n  }\n\n  function CubicBezierCurve(v0, v1, v2, v3) {\n    Curve.call(this);\n\n    this.type = \"CubicBezierCurve\";\n\n    this.v0 = v0 || new Vector2();\n    this.v1 = v1 || new Vector2();\n    this.v2 = v2 || new Vector2();\n    this.v3 = v3 || new Vector2();\n  }\n\n  CubicBezierCurve.prototype = Object.create(Curve.prototype);\n  CubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\n  CubicBezierCurve.prototype.isCubicBezierCurve = true;\n\n  CubicBezierCurve.prototype.getPoint = function (t, optionalTarget) {\n    var point = optionalTarget || new Vector2();\n\n    var v0 = this.v0,\n      v1 = this.v1,\n      v2 = this.v2,\n      v3 = this.v3;\n\n    point.set(\n      CubicBezier(t, v0.x, v1.x, v2.x, v3.x),\n      CubicBezier(t, v0.y, v1.y, v2.y, v3.y)\n    );\n\n    return point;\n  };\n\n  CubicBezierCurve.prototype.copy = function (source) {\n    Curve.prototype.copy.call(this, source);\n\n    this.v0.copy(source.v0);\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n    this.v3.copy(source.v3);\n\n    return this;\n  };\n\n  CubicBezierCurve.prototype.toJSON = function () {\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.v0 = this.v0.toArray();\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n    data.v3 = this.v3.toArray();\n\n    return data;\n  };\n\n  CubicBezierCurve.prototype.fromJSON = function (json) {\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v0.fromArray(json.v0);\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n    this.v3.fromArray(json.v3);\n\n    return this;\n  };\n\n  function CubicBezierCurve3(v0, v1, v2, v3) {\n    Curve.call(this);\n\n    this.type = \"CubicBezierCurve3\";\n\n    this.v0 = v0 || new Vector3();\n    this.v1 = v1 || new Vector3();\n    this.v2 = v2 || new Vector3();\n    this.v3 = v3 || new Vector3();\n  }\n\n  CubicBezierCurve3.prototype = Object.create(Curve.prototype);\n  CubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\n  CubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\n  CubicBezierCurve3.prototype.getPoint = function (t, optionalTarget) {\n    var point = optionalTarget || new Vector3();\n\n    var v0 = this.v0,\n      v1 = this.v1,\n      v2 = this.v2,\n      v3 = this.v3;\n\n    point.set(\n      CubicBezier(t, v0.x, v1.x, v2.x, v3.x),\n      CubicBezier(t, v0.y, v1.y, v2.y, v3.y),\n      CubicBezier(t, v0.z, v1.z, v2.z, v3.z)\n    );\n\n    return point;\n  };\n\n  CubicBezierCurve3.prototype.copy = function (source) {\n    Curve.prototype.copy.call(this, source);\n\n    this.v0.copy(source.v0);\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n    this.v3.copy(source.v3);\n\n    return this;\n  };\n\n  CubicBezierCurve3.prototype.toJSON = function () {\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.v0 = this.v0.toArray();\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n    data.v3 = this.v3.toArray();\n\n    return data;\n  };\n\n  CubicBezierCurve3.prototype.fromJSON = function (json) {\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v0.fromArray(json.v0);\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n    this.v3.fromArray(json.v3);\n\n    return this;\n  };\n\n  function LineCurve(v1, v2) {\n    Curve.call(this);\n\n    this.type = \"LineCurve\";\n\n    this.v1 = v1 || new Vector2();\n    this.v2 = v2 || new Vector2();\n  }\n\n  LineCurve.prototype = Object.create(Curve.prototype);\n  LineCurve.prototype.constructor = LineCurve;\n\n  LineCurve.prototype.isLineCurve = true;\n\n  LineCurve.prototype.getPoint = function (t, optionalTarget) {\n    var point = optionalTarget || new Vector2();\n\n    if (t === 1) {\n      point.copy(this.v2);\n    } else {\n      point.copy(this.v2).sub(this.v1);\n      point.multiplyScalar(t).add(this.v1);\n    }\n\n    return point;\n  };\n\n  // Line curve is linear, so we can overwrite default getPointAt\n\n  LineCurve.prototype.getPointAt = function (u, optionalTarget) {\n    return this.getPoint(u, optionalTarget);\n  };\n\n  LineCurve.prototype.getTangent = function (/* t */) {\n    var tangent = this.v2.clone().sub(this.v1);\n\n    return tangent.normalize();\n  };\n\n  LineCurve.prototype.copy = function (source) {\n    Curve.prototype.copy.call(this, source);\n\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n\n    return this;\n  };\n\n  LineCurve.prototype.toJSON = function () {\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n\n    return data;\n  };\n\n  LineCurve.prototype.fromJSON = function (json) {\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n\n    return this;\n  };\n\n  function LineCurve3(v1, v2) {\n    Curve.call(this);\n\n    this.type = \"LineCurve3\";\n\n    this.v1 = v1 || new Vector3();\n    this.v2 = v2 || new Vector3();\n  }\n\n  LineCurve3.prototype = Object.create(Curve.prototype);\n  LineCurve3.prototype.constructor = LineCurve3;\n\n  LineCurve3.prototype.isLineCurve3 = true;\n\n  LineCurve3.prototype.getPoint = function (t, optionalTarget) {\n    var point = optionalTarget || new Vector3();\n\n    if (t === 1) {\n      point.copy(this.v2);\n    } else {\n      point.copy(this.v2).sub(this.v1);\n      point.multiplyScalar(t).add(this.v1);\n    }\n\n    return point;\n  };\n\n  // Line curve is linear, so we can overwrite default getPointAt\n\n  LineCurve3.prototype.getPointAt = function (u, optionalTarget) {\n    return this.getPoint(u, optionalTarget);\n  };\n\n  LineCurve3.prototype.copy = function (source) {\n    Curve.prototype.copy.call(this, source);\n\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n\n    return this;\n  };\n\n  LineCurve3.prototype.toJSON = function () {\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n\n    return data;\n  };\n\n  LineCurve3.prototype.fromJSON = function (json) {\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n\n    return this;\n  };\n\n  function QuadraticBezierCurve(v0, v1, v2) {\n    Curve.call(this);\n\n    this.type = \"QuadraticBezierCurve\";\n\n    this.v0 = v0 || new Vector2();\n    this.v1 = v1 || new Vector2();\n    this.v2 = v2 || new Vector2();\n  }\n\n  QuadraticBezierCurve.prototype = Object.create(Curve.prototype);\n  QuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\n  QuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\n  QuadraticBezierCurve.prototype.getPoint = function (t, optionalTarget) {\n    var point = optionalTarget || new Vector2();\n\n    var v0 = this.v0,\n      v1 = this.v1,\n      v2 = this.v2;\n\n    point.set(\n      QuadraticBezier(t, v0.x, v1.x, v2.x),\n      QuadraticBezier(t, v0.y, v1.y, v2.y)\n    );\n\n    return point;\n  };\n\n  QuadraticBezierCurve.prototype.copy = function (source) {\n    Curve.prototype.copy.call(this, source);\n\n    this.v0.copy(source.v0);\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n\n    return this;\n  };\n\n  QuadraticBezierCurve.prototype.toJSON = function () {\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.v0 = this.v0.toArray();\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n\n    return data;\n  };\n\n  QuadraticBezierCurve.prototype.fromJSON = function (json) {\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v0.fromArray(json.v0);\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n\n    return this;\n  };\n\n  function QuadraticBezierCurve3(v0, v1, v2) {\n    Curve.call(this);\n\n    this.type = \"QuadraticBezierCurve3\";\n\n    this.v0 = v0 || new Vector3();\n    this.v1 = v1 || new Vector3();\n    this.v2 = v2 || new Vector3();\n  }\n\n  QuadraticBezierCurve3.prototype = Object.create(Curve.prototype);\n  QuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\n  QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\n  QuadraticBezierCurve3.prototype.getPoint = function (t, optionalTarget) {\n    var point = optionalTarget || new Vector3();\n\n    var v0 = this.v0,\n      v1 = this.v1,\n      v2 = this.v2;\n\n    point.set(\n      QuadraticBezier(t, v0.x, v1.x, v2.x),\n      QuadraticBezier(t, v0.y, v1.y, v2.y),\n      QuadraticBezier(t, v0.z, v1.z, v2.z)\n    );\n\n    return point;\n  };\n\n  QuadraticBezierCurve3.prototype.copy = function (source) {\n    Curve.prototype.copy.call(this, source);\n\n    this.v0.copy(source.v0);\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n\n    return this;\n  };\n\n  QuadraticBezierCurve3.prototype.toJSON = function () {\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.v0 = this.v0.toArray();\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n\n    return data;\n  };\n\n  QuadraticBezierCurve3.prototype.fromJSON = function (json) {\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v0.fromArray(json.v0);\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n\n    return this;\n  };\n\n  function SplineCurve(points /* array of Vector2 */) {\n    Curve.call(this);\n\n    this.type = \"SplineCurve\";\n\n    this.points = points || [];\n  }\n\n  SplineCurve.prototype = Object.create(Curve.prototype);\n  SplineCurve.prototype.constructor = SplineCurve;\n\n  SplineCurve.prototype.isSplineCurve = true;\n\n  SplineCurve.prototype.getPoint = function (t, optionalTarget) {\n    var point = optionalTarget || new Vector2();\n\n    var points = this.points;\n    var p = (points.length - 1) * t;\n\n    var intPoint = Math.floor(p);\n    var weight = p - intPoint;\n\n    var p0 = points[intPoint === 0 ? intPoint : intPoint - 1];\n    var p1 = points[intPoint];\n    var p2 =\n      points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];\n    var p3 =\n      points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];\n\n    point.set(\n      CatmullRom(weight, p0.x, p1.x, p2.x, p3.x),\n      CatmullRom(weight, p0.y, p1.y, p2.y, p3.y)\n    );\n\n    return point;\n  };\n\n  SplineCurve.prototype.copy = function (source) {\n    Curve.prototype.copy.call(this, source);\n\n    this.points = [];\n\n    for (var i = 0, l = source.points.length; i < l; i++) {\n      var point = source.points[i];\n\n      this.points.push(point.clone());\n    }\n\n    return this;\n  };\n\n  SplineCurve.prototype.toJSON = function () {\n    var data = Curve.prototype.toJSON.call(this);\n\n    data.points = [];\n\n    for (var i = 0, l = this.points.length; i < l; i++) {\n      var point = this.points[i];\n      data.points.push(point.toArray());\n    }\n\n    return data;\n  };\n\n  SplineCurve.prototype.fromJSON = function (json) {\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.points = [];\n\n    for (var i = 0, l = json.points.length; i < l; i++) {\n      var point = json.points[i];\n      this.points.push(new Vector2().fromArray(point));\n    }\n\n    return this;\n  };\n\n  var Curves = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    ArcCurve: ArcCurve,\n    CatmullRomCurve3: CatmullRomCurve3,\n    CubicBezierCurve: CubicBezierCurve,\n    CubicBezierCurve3: CubicBezierCurve3,\n    EllipseCurve: EllipseCurve,\n    LineCurve: LineCurve,\n    LineCurve3: LineCurve3,\n    QuadraticBezierCurve: QuadraticBezierCurve,\n    QuadraticBezierCurve3: QuadraticBezierCurve3,\n    SplineCurve: SplineCurve,\n  });\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   *\n   **/\n\n  /**************************************************************\n   *\tCurved Path - a curve path is simply a array of connected\n   *  curves, but retains the api of a curve\n   **************************************************************/\n\n  function CurvePath() {\n    Curve.call(this);\n\n    this.type = \"CurvePath\";\n\n    this.curves = [];\n    this.autoClose = false; // Automatically closes the path\n  }\n\n  CurvePath.prototype = Object.assign(Object.create(Curve.prototype), {\n    constructor: CurvePath,\n\n    add: function (curve) {\n      this.curves.push(curve);\n    },\n\n    closePath: function () {\n      // Add a line curve if start and end of lines are not connected\n      var startPoint = this.curves[0].getPoint(0);\n      var endPoint = this.curves[this.curves.length - 1].getPoint(1);\n\n      if (!startPoint.equals(endPoint)) {\n        this.curves.push(new LineCurve(endPoint, startPoint));\n      }\n    },\n\n    // To get accurate point with reference to\n    // entire path distance at time t,\n    // following has to be done:\n\n    // 1. Length of each sub path have to be known\n    // 2. Locate and identify type of curve\n    // 3. Get t for the curve\n    // 4. Return curve.getPointAt(t')\n\n    getPoint: function (t) {\n      var d = t * this.getLength();\n      var curveLengths = this.getCurveLengths();\n      var i = 0;\n\n      // To think about boundaries points.\n\n      while (i < curveLengths.length) {\n        if (curveLengths[i] >= d) {\n          var diff = curveLengths[i] - d;\n          var curve = this.curves[i];\n\n          var segmentLength = curve.getLength();\n          var u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n          return curve.getPointAt(u);\n        }\n\n        i++;\n      }\n\n      return null;\n\n      // loop where sum != 0, sum > d , sum+1 <d\n    },\n\n    // We cannot use the default THREE.Curve getPoint() with getLength() because in\n    // THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n    // getPoint() depends on getLength\n\n    getLength: function () {\n      var lens = this.getCurveLengths();\n      return lens[lens.length - 1];\n    },\n\n    // cacheLengths must be recalculated.\n    updateArcLengths: function () {\n      this.needsUpdate = true;\n      this.cacheLengths = null;\n      this.getCurveLengths();\n    },\n\n    // Compute lengths and cache them\n    // We cannot overwrite getLengths() because UtoT mapping uses it.\n\n    getCurveLengths: function () {\n      // We use cache values if curves and cache array are same length\n\n      if (\n        this.cacheLengths &&\n        this.cacheLengths.length === this.curves.length\n      ) {\n        return this.cacheLengths;\n      }\n\n      // Get length of sub-curve\n      // Push sums into cached array\n\n      var lengths = [],\n        sums = 0;\n\n      for (var i = 0, l = this.curves.length; i < l; i++) {\n        sums += this.curves[i].getLength();\n        lengths.push(sums);\n      }\n\n      this.cacheLengths = lengths;\n\n      return lengths;\n    },\n\n    getSpacedPoints: function (divisions) {\n      if (divisions === undefined) {\n        divisions = 40;\n      }\n\n      var points = [];\n\n      for (var i = 0; i <= divisions; i++) {\n        points.push(this.getPoint(i / divisions));\n      }\n\n      if (this.autoClose) {\n        points.push(points[0]);\n      }\n\n      return points;\n    },\n\n    getPoints: function (divisions) {\n      divisions = divisions || 12;\n\n      var points = [],\n        last;\n\n      for (var i = 0, curves = this.curves; i < curves.length; i++) {\n        var curve = curves[i];\n        var resolution =\n          curve && curve.isEllipseCurve\n            ? divisions * 2\n            : curve && (curve.isLineCurve || curve.isLineCurve3)\n            ? 1\n            : curve && curve.isSplineCurve\n            ? divisions * curve.points.length\n            : divisions;\n\n        var pts = curve.getPoints(resolution);\n\n        for (var j = 0; j < pts.length; j++) {\n          var point = pts[j];\n\n          if (last && last.equals(point)) {\n            continue;\n          } // ensures no consecutive points are duplicates\n\n          points.push(point);\n          last = point;\n        }\n      }\n\n      if (\n        this.autoClose &&\n        points.length > 1 &&\n        !points[points.length - 1].equals(points[0])\n      ) {\n        points.push(points[0]);\n      }\n\n      return points;\n    },\n\n    copy: function (source) {\n      Curve.prototype.copy.call(this, source);\n\n      this.curves = [];\n\n      for (var i = 0, l = source.curves.length; i < l; i++) {\n        var curve = source.curves[i];\n\n        this.curves.push(curve.clone());\n      }\n\n      this.autoClose = source.autoClose;\n\n      return this;\n    },\n\n    toJSON: function () {\n      var data = Curve.prototype.toJSON.call(this);\n\n      data.autoClose = this.autoClose;\n      data.curves = [];\n\n      for (var i = 0, l = this.curves.length; i < l; i++) {\n        var curve = this.curves[i];\n        data.curves.push(curve.toJSON());\n      }\n\n      return data;\n    },\n\n    fromJSON: function (json) {\n      Curve.prototype.fromJSON.call(this, json);\n\n      this.autoClose = json.autoClose;\n      this.curves = [];\n\n      for (var i = 0, l = json.curves.length; i < l; i++) {\n        var curve = json.curves[i];\n        this.curves.push(new Curves[curve.type]().fromJSON(curve));\n      }\n\n      return this;\n    },\n  });\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * Creates free form 2d path using series of points, lines or curves.\n   **/\n\n  function Path(points) {\n    CurvePath.call(this);\n\n    this.type = \"Path\";\n\n    this.currentPoint = new Vector2();\n\n    if (points) {\n      this.setFromPoints(points);\n    }\n  }\n\n  Path.prototype = Object.assign(Object.create(CurvePath.prototype), {\n    constructor: Path,\n\n    setFromPoints: function (points) {\n      this.moveTo(points[0].x, points[0].y);\n\n      for (var i = 1, l = points.length; i < l; i++) {\n        this.lineTo(points[i].x, points[i].y);\n      }\n\n      return this;\n    },\n\n    moveTo: function (x, y) {\n      this.currentPoint.set(x, y); // TODO consider referencing vectors instead of copying?\n\n      return this;\n    },\n\n    lineTo: function (x, y) {\n      var curve = new LineCurve(this.currentPoint.clone(), new Vector2(x, y));\n      this.curves.push(curve);\n\n      this.currentPoint.set(x, y);\n\n      return this;\n    },\n\n    quadraticCurveTo: function (aCPx, aCPy, aX, aY) {\n      var curve = new QuadraticBezierCurve(\n        this.currentPoint.clone(),\n        new Vector2(aCPx, aCPy),\n        new Vector2(aX, aY)\n      );\n\n      this.curves.push(curve);\n\n      this.currentPoint.set(aX, aY);\n\n      return this;\n    },\n\n    bezierCurveTo: function (aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n      var curve = new CubicBezierCurve(\n        this.currentPoint.clone(),\n        new Vector2(aCP1x, aCP1y),\n        new Vector2(aCP2x, aCP2y),\n        new Vector2(aX, aY)\n      );\n\n      this.curves.push(curve);\n\n      this.currentPoint.set(aX, aY);\n\n      return this;\n    },\n\n    splineThru: function (pts /*Array of Vector*/) {\n      var npts = [this.currentPoint.clone()].concat(pts);\n\n      var curve = new SplineCurve(npts);\n      this.curves.push(curve);\n\n      this.currentPoint.copy(pts[pts.length - 1]);\n\n      return this;\n    },\n\n    arc: function (aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n      var x0 = this.currentPoint.x;\n      var y0 = this.currentPoint.y;\n\n      this.absarc(\n        aX + x0,\n        aY + y0,\n        aRadius,\n        aStartAngle,\n        aEndAngle,\n        aClockwise\n      );\n\n      return this;\n    },\n\n    absarc: function (aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n      this.absellipse(\n        aX,\n        aY,\n        aRadius,\n        aRadius,\n        aStartAngle,\n        aEndAngle,\n        aClockwise\n      );\n\n      return this;\n    },\n\n    ellipse: function (\n      aX,\n      aY,\n      xRadius,\n      yRadius,\n      aStartAngle,\n      aEndAngle,\n      aClockwise,\n      aRotation\n    ) {\n      var x0 = this.currentPoint.x;\n      var y0 = this.currentPoint.y;\n\n      this.absellipse(\n        aX + x0,\n        aY + y0,\n        xRadius,\n        yRadius,\n        aStartAngle,\n        aEndAngle,\n        aClockwise,\n        aRotation\n      );\n\n      return this;\n    },\n\n    absellipse: function (\n      aX,\n      aY,\n      xRadius,\n      yRadius,\n      aStartAngle,\n      aEndAngle,\n      aClockwise,\n      aRotation\n    ) {\n      var curve = new EllipseCurve(\n        aX,\n        aY,\n        xRadius,\n        yRadius,\n        aStartAngle,\n        aEndAngle,\n        aClockwise,\n        aRotation\n      );\n\n      if (this.curves.length > 0) {\n        // if a previous curve is present, attempt to join\n        var firstPoint = curve.getPoint(0);\n\n        if (!firstPoint.equals(this.currentPoint)) {\n          this.lineTo(firstPoint.x, firstPoint.y);\n        }\n      }\n\n      this.curves.push(curve);\n\n      var lastPoint = curve.getPoint(1);\n      this.currentPoint.copy(lastPoint);\n\n      return this;\n    },\n\n    copy: function (source) {\n      CurvePath.prototype.copy.call(this, source);\n\n      this.currentPoint.copy(source.currentPoint);\n\n      return this;\n    },\n\n    toJSON: function () {\n      var data = CurvePath.prototype.toJSON.call(this);\n\n      data.currentPoint = this.currentPoint.toArray();\n\n      return data;\n    },\n\n    fromJSON: function (json) {\n      CurvePath.prototype.fromJSON.call(this, json);\n\n      this.currentPoint.fromArray(json.currentPoint);\n\n      return this;\n    },\n  });\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * Defines a 2d shape plane using paths.\n   **/\n\n  // STEP 1 Create a path.\n  // STEP 2 Turn path into shape.\n  // STEP 3 ExtrudeGeometry takes in Shape/Shapes\n  // STEP 3a - Extract points from each shape, turn to vertices\n  // STEP 3b - Triangulate each shape, add faces.\n\n  function Shape(points) {\n    Path.call(this, points);\n\n    this.uuid = _Math.generateUUID();\n\n    this.type = \"Shape\";\n\n    this.holes = [];\n  }\n\n  Shape.prototype = Object.assign(Object.create(Path.prototype), {\n    constructor: Shape,\n\n    getPointsHoles: function (divisions) {\n      var holesPts = [];\n\n      for (var i = 0, l = this.holes.length; i < l; i++) {\n        holesPts[i] = this.holes[i].getPoints(divisions);\n      }\n\n      return holesPts;\n    },\n\n    // get points of shape and holes (keypoints based on segments parameter)\n\n    extractPoints: function (divisions) {\n      return {\n        shape: this.getPoints(divisions),\n        holes: this.getPointsHoles(divisions),\n      };\n    },\n\n    copy: function (source) {\n      Path.prototype.copy.call(this, source);\n\n      this.holes = [];\n\n      for (var i = 0, l = source.holes.length; i < l; i++) {\n        var hole = source.holes[i];\n\n        this.holes.push(hole.clone());\n      }\n\n      return this;\n    },\n\n    toJSON: function () {\n      var data = Path.prototype.toJSON.call(this);\n\n      data.uuid = this.uuid;\n      data.holes = [];\n\n      for (var i = 0, l = this.holes.length; i < l; i++) {\n        var hole = this.holes[i];\n        data.holes.push(hole.toJSON());\n      }\n\n      return data;\n    },\n\n    fromJSON: function (json) {\n      Path.prototype.fromJSON.call(this, json);\n\n      this.uuid = json.uuid;\n      this.holes = [];\n\n      for (var i = 0, l = json.holes.length; i < l; i++) {\n        var hole = json.holes[i];\n        this.holes.push(new Path().fromJSON(hole));\n      }\n\n      return this;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Light(color, intensity) {\n    Object3D.call(this);\n\n    this.type = \"Light\";\n\n    this.color = new Color(color);\n    this.intensity = intensity !== undefined ? intensity : 1;\n\n    this.receiveShadow = undefined;\n  }\n\n  Light.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Light,\n\n    isLight: true,\n\n    copy: function (source) {\n      Object3D.prototype.copy.call(this, source);\n\n      this.color.copy(source.color);\n      this.intensity = source.intensity;\n\n      return this;\n    },\n\n    toJSON: function (meta) {\n      var data = Object3D.prototype.toJSON.call(this, meta);\n\n      data.object.color = this.color.getHex();\n      data.object.intensity = this.intensity;\n\n      if (this.groundColor !== undefined) {\n        data.object.groundColor = this.groundColor.getHex();\n      }\n\n      if (this.distance !== undefined) {\n        data.object.distance = this.distance;\n      }\n      if (this.angle !== undefined) {\n        data.object.angle = this.angle;\n      }\n      if (this.decay !== undefined) {\n        data.object.decay = this.decay;\n      }\n      if (this.penumbra !== undefined) {\n        data.object.penumbra = this.penumbra;\n      }\n\n      if (this.shadow !== undefined) {\n        data.object.shadow = this.shadow.toJSON();\n      }\n\n      return data;\n    },\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function HemisphereLight(skyColor, groundColor, intensity) {\n    Light.call(this, skyColor, intensity);\n\n    this.type = \"HemisphereLight\";\n\n    this.castShadow = undefined;\n\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n\n    this.groundColor = new Color(groundColor);\n  }\n\n  HemisphereLight.prototype = Object.assign(Object.create(Light.prototype), {\n    constructor: HemisphereLight,\n\n    isHemisphereLight: true,\n\n    copy: function (source) {\n      Light.prototype.copy.call(this, source);\n\n      this.groundColor.copy(source.groundColor);\n\n      return this;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function LightShadow(camera) {\n    this.camera = camera;\n\n    this.bias = 0;\n    this.radius = 1;\n\n    this.mapSize = new Vector2(512, 512);\n\n    this.map = null;\n    this.mapPass = null;\n    this.matrix = new Matrix4();\n\n    this._frustum = new Frustum();\n    this._frameExtents = new Vector2(1, 1);\n\n    this._viewportCount = 1;\n\n    this._viewports = [new Vector4(0, 0, 1, 1)];\n  }\n\n  Object.assign(LightShadow.prototype, {\n    _projScreenMatrix: new Matrix4(),\n\n    _lightPositionWorld: new Vector3(),\n\n    _lookTarget: new Vector3(),\n\n    getViewportCount: function () {\n      return this._viewportCount;\n    },\n\n    getFrustum: function () {\n      return this._frustum;\n    },\n\n    updateMatrices: function (light) {\n      var shadowCamera = this.camera,\n        shadowMatrix = this.matrix,\n        projScreenMatrix = this._projScreenMatrix,\n        lookTarget = this._lookTarget,\n        lightPositionWorld = this._lightPositionWorld;\n\n      lightPositionWorld.setFromMatrixPosition(light.matrixWorld);\n      shadowCamera.position.copy(lightPositionWorld);\n\n      lookTarget.setFromMatrixPosition(light.target.matrixWorld);\n      shadowCamera.lookAt(lookTarget);\n      shadowCamera.updateMatrixWorld();\n\n      projScreenMatrix.multiplyMatrices(\n        shadowCamera.projectionMatrix,\n        shadowCamera.matrixWorldInverse\n      );\n      this._frustum.setFromMatrix(projScreenMatrix);\n\n      shadowMatrix.set(\n        0.5,\n        0.0,\n        0.0,\n        0.5,\n        0.0,\n        0.5,\n        0.0,\n        0.5,\n        0.0,\n        0.0,\n        0.5,\n        0.5,\n        0.0,\n        0.0,\n        0.0,\n        1.0\n      );\n\n      shadowMatrix.multiply(shadowCamera.projectionMatrix);\n      shadowMatrix.multiply(shadowCamera.matrixWorldInverse);\n    },\n\n    getViewport: function (viewportIndex) {\n      return this._viewports[viewportIndex];\n    },\n\n    getFrameExtents: function () {\n      return this._frameExtents;\n    },\n\n    copy: function (source) {\n      this.camera = source.camera.clone();\n\n      this.bias = source.bias;\n      this.radius = source.radius;\n\n      this.mapSize.copy(source.mapSize);\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    toJSON: function () {\n      var object = {};\n\n      if (this.bias !== 0) {\n        object.bias = this.bias;\n      }\n      if (this.radius !== 1) {\n        object.radius = this.radius;\n      }\n      if (this.mapSize.x !== 512 || this.mapSize.y !== 512) {\n        object.mapSize = this.mapSize.toArray();\n      }\n\n      object.camera = this.camera.toJSON(false).object;\n      delete object.camera.matrix;\n\n      return object;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function SpotLightShadow() {\n    LightShadow.call(this, new PerspectiveCamera(50, 1, 0.5, 500));\n  }\n\n  SpotLightShadow.prototype = Object.assign(\n    Object.create(LightShadow.prototype),\n    {\n      constructor: SpotLightShadow,\n\n      isSpotLightShadow: true,\n\n      updateMatrices: function (light) {\n        var camera = this.camera;\n\n        var fov = _Math.RAD2DEG * 2 * light.angle;\n        var aspect = this.mapSize.width / this.mapSize.height;\n        var far = light.distance || camera.far;\n\n        if (\n          fov !== camera.fov ||\n          aspect !== camera.aspect ||\n          far !== camera.far\n        ) {\n          camera.fov = fov;\n          camera.aspect = aspect;\n          camera.far = far;\n          camera.updateProjectionMatrix();\n        }\n\n        LightShadow.prototype.updateMatrices.call(this, light);\n      },\n    }\n  );\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function SpotLight(color, intensity, distance, angle, penumbra, decay) {\n    Light.call(this, color, intensity);\n\n    this.type = \"SpotLight\";\n\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n\n    this.target = new Object3D();\n\n    Object.defineProperty(this, \"power\", {\n      get: function () {\n        // intensity = power per solid angle.\n        // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n        return this.intensity * Math.PI;\n      },\n      set: function (power) {\n        // intensity = power per solid angle.\n        // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n        this.intensity = power / Math.PI;\n      },\n    });\n\n    this.distance = distance !== undefined ? distance : 0;\n    this.angle = angle !== undefined ? angle : Math.PI / 3;\n    this.penumbra = penumbra !== undefined ? penumbra : 0;\n    this.decay = decay !== undefined ? decay : 1; // for physically correct lights, should be 2.\n\n    this.shadow = new SpotLightShadow();\n  }\n\n  SpotLight.prototype = Object.assign(Object.create(Light.prototype), {\n    constructor: SpotLight,\n\n    isSpotLight: true,\n\n    copy: function (source) {\n      Light.prototype.copy.call(this, source);\n\n      this.distance = source.distance;\n      this.angle = source.angle;\n      this.penumbra = source.penumbra;\n      this.decay = source.decay;\n\n      this.target = source.target.clone();\n\n      this.shadow = source.shadow.clone();\n\n      return this;\n    },\n  });\n\n  function PointLightShadow() {\n    LightShadow.call(this, new PerspectiveCamera(90, 1, 0.5, 500));\n\n    this._frameExtents = new Vector2(4, 2);\n\n    this._viewportCount = 6;\n\n    this._viewports = [\n      // These viewports map a cube-map onto a 2D texture with the\n      // following orientation:\n      //\n      //  xzXZ\n      //   y Y\n      //\n      // X - Positive x direction\n      // x - Negative x direction\n      // Y - Positive y direction\n      // y - Negative y direction\n      // Z - Positive z direction\n      // z - Negative z direction\n\n      // positive X\n      new Vector4(2, 1, 1, 1),\n      // negative X\n      new Vector4(0, 1, 1, 1),\n      // positive Z\n      new Vector4(3, 1, 1, 1),\n      // negative Z\n      new Vector4(1, 1, 1, 1),\n      // positive Y\n      new Vector4(3, 0, 1, 1),\n      // negative Y\n      new Vector4(1, 0, 1, 1),\n    ];\n\n    this._cubeDirections = [\n      new Vector3(1, 0, 0),\n      new Vector3(-1, 0, 0),\n      new Vector3(0, 0, 1),\n      new Vector3(0, 0, -1),\n      new Vector3(0, 1, 0),\n      new Vector3(0, -1, 0),\n    ];\n\n    this._cubeUps = [\n      new Vector3(0, 1, 0),\n      new Vector3(0, 1, 0),\n      new Vector3(0, 1, 0),\n      new Vector3(0, 1, 0),\n      new Vector3(0, 0, 1),\n      new Vector3(0, 0, -1),\n    ];\n  }\n\n  PointLightShadow.prototype = Object.assign(\n    Object.create(LightShadow.prototype),\n    {\n      constructor: PointLightShadow,\n\n      isPointLightShadow: true,\n\n      updateMatrices: function (light, viewportIndex) {\n        if (viewportIndex === undefined) {\n          viewportIndex = 0;\n        }\n\n        var camera = this.camera,\n          shadowMatrix = this.matrix,\n          lightPositionWorld = this._lightPositionWorld,\n          lookTarget = this._lookTarget,\n          projScreenMatrix = this._projScreenMatrix;\n\n        lightPositionWorld.setFromMatrixPosition(light.matrixWorld);\n        camera.position.copy(lightPositionWorld);\n\n        lookTarget.copy(camera.position);\n        lookTarget.add(this._cubeDirections[viewportIndex]);\n        camera.up.copy(this._cubeUps[viewportIndex]);\n        camera.lookAt(lookTarget);\n        camera.updateMatrixWorld();\n\n        shadowMatrix.makeTranslation(\n          -lightPositionWorld.x,\n          -lightPositionWorld.y,\n          -lightPositionWorld.z\n        );\n\n        projScreenMatrix.multiplyMatrices(\n          camera.projectionMatrix,\n          camera.matrixWorldInverse\n        );\n        this._frustum.setFromMatrix(projScreenMatrix);\n      },\n    }\n  );\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function PointLight(color, intensity, distance, decay) {\n    Light.call(this, color, intensity);\n\n    this.type = \"PointLight\";\n\n    Object.defineProperty(this, \"power\", {\n      get: function () {\n        // intensity = power per solid angle.\n        // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n        return this.intensity * 4 * Math.PI;\n      },\n      set: function (power) {\n        // intensity = power per solid angle.\n        // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n        this.intensity = power / (4 * Math.PI);\n      },\n    });\n\n    this.distance = distance !== undefined ? distance : 0;\n    this.decay = decay !== undefined ? decay : 1; // for physically correct lights, should be 2.\n\n    this.shadow = new PointLightShadow();\n  }\n\n  PointLight.prototype = Object.assign(Object.create(Light.prototype), {\n    constructor: PointLight,\n\n    isPointLight: true,\n\n    copy: function (source) {\n      Light.prototype.copy.call(this, source);\n\n      this.distance = source.distance;\n      this.decay = source.decay;\n\n      this.shadow = source.shadow.clone();\n\n      return this;\n    },\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author arose / http://github.com/arose\n   */\n\n  function OrthographicCamera(left, right, top, bottom, near, far) {\n    Camera.call(this);\n\n    this.type = \"OrthographicCamera\";\n\n    this.zoom = 1;\n    this.view = null;\n\n    this.left = left !== undefined ? left : -1;\n    this.right = right !== undefined ? right : 1;\n    this.top = top !== undefined ? top : 1;\n    this.bottom = bottom !== undefined ? bottom : -1;\n\n    this.near = near !== undefined ? near : 0.1;\n    this.far = far !== undefined ? far : 2000;\n\n    this.updateProjectionMatrix();\n  }\n\n  OrthographicCamera.prototype = Object.assign(\n    Object.create(Camera.prototype),\n    {\n      constructor: OrthographicCamera,\n\n      isOrthographicCamera: true,\n\n      copy: function (source, recursive) {\n        Camera.prototype.copy.call(this, source, recursive);\n\n        this.left = source.left;\n        this.right = source.right;\n        this.top = source.top;\n        this.bottom = source.bottom;\n        this.near = source.near;\n        this.far = source.far;\n\n        this.zoom = source.zoom;\n        this.view =\n          source.view === null ? null : Object.assign({}, source.view);\n\n        return this;\n      },\n\n      setViewOffset: function (fullWidth, fullHeight, x, y, width, height) {\n        if (this.view === null) {\n          this.view = {\n            enabled: true,\n            fullWidth: 1,\n            fullHeight: 1,\n            offsetX: 0,\n            offsetY: 0,\n            width: 1,\n            height: 1,\n          };\n        }\n\n        this.view.enabled = true;\n        this.view.fullWidth = fullWidth;\n        this.view.fullHeight = fullHeight;\n        this.view.offsetX = x;\n        this.view.offsetY = y;\n        this.view.width = width;\n        this.view.height = height;\n\n        this.updateProjectionMatrix();\n      },\n\n      clearViewOffset: function () {\n        if (this.view !== null) {\n          this.view.enabled = false;\n        }\n\n        this.updateProjectionMatrix();\n      },\n\n      updateProjectionMatrix: function () {\n        var dx = (this.right - this.left) / (2 * this.zoom);\n        var dy = (this.top - this.bottom) / (2 * this.zoom);\n        var cx = (this.right + this.left) / 2;\n        var cy = (this.top + this.bottom) / 2;\n\n        var left = cx - dx;\n        var right = cx + dx;\n        var top = cy + dy;\n        var bottom = cy - dy;\n\n        if (this.view !== null && this.view.enabled) {\n          var zoomW = this.zoom / (this.view.width / this.view.fullWidth);\n          var zoomH = this.zoom / (this.view.height / this.view.fullHeight);\n          var scaleW = (this.right - this.left) / this.view.width;\n          var scaleH = (this.top - this.bottom) / this.view.height;\n\n          left += scaleW * (this.view.offsetX / zoomW);\n          right = left + scaleW * (this.view.width / zoomW);\n          top -= scaleH * (this.view.offsetY / zoomH);\n          bottom = top - scaleH * (this.view.height / zoomH);\n        }\n\n        this.projectionMatrix.makeOrthographic(\n          left,\n          right,\n          top,\n          bottom,\n          this.near,\n          this.far\n        );\n\n        this.projectionMatrixInverse.getInverse(this.projectionMatrix);\n      },\n\n      toJSON: function (meta) {\n        var data = Object3D.prototype.toJSON.call(this, meta);\n\n        data.object.zoom = this.zoom;\n        data.object.left = this.left;\n        data.object.right = this.right;\n        data.object.top = this.top;\n        data.object.bottom = this.bottom;\n        data.object.near = this.near;\n        data.object.far = this.far;\n\n        if (this.view !== null) {\n          data.object.view = Object.assign({}, this.view);\n        }\n\n        return data;\n      },\n    }\n  );\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function DirectionalLightShadow() {\n    LightShadow.call(this, new OrthographicCamera(-5, 5, 5, -5, 0.5, 500));\n  }\n\n  DirectionalLightShadow.prototype = Object.assign(\n    Object.create(LightShadow.prototype),\n    {\n      constructor: DirectionalLightShadow,\n\n      isDirectionalLightShadow: true,\n\n      updateMatrices: function (light) {\n        LightShadow.prototype.updateMatrices.call(this, light);\n      },\n    }\n  );\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function DirectionalLight(color, intensity) {\n    Light.call(this, color, intensity);\n\n    this.type = \"DirectionalLight\";\n\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n\n    this.target = new Object3D();\n\n    this.shadow = new DirectionalLightShadow();\n  }\n\n  DirectionalLight.prototype = Object.assign(Object.create(Light.prototype), {\n    constructor: DirectionalLight,\n\n    isDirectionalLight: true,\n\n    copy: function (source) {\n      Light.prototype.copy.call(this, source);\n\n      this.target = source.target.clone();\n\n      this.shadow = source.shadow.clone();\n\n      return this;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function AmbientLight(color, intensity) {\n    Light.call(this, color, intensity);\n\n    this.type = \"AmbientLight\";\n\n    this.castShadow = undefined;\n  }\n\n  AmbientLight.prototype = Object.assign(Object.create(Light.prototype), {\n    constructor: AmbientLight,\n\n    isAmbientLight: true,\n  });\n\n  /**\n   * @author abelnation / http://github.com/abelnation\n   */\n\n  function RectAreaLight(color, intensity, width, height) {\n    Light.call(this, color, intensity);\n\n    this.type = \"RectAreaLight\";\n\n    this.width = width !== undefined ? width : 10;\n    this.height = height !== undefined ? height : 10;\n  }\n\n  RectAreaLight.prototype = Object.assign(Object.create(Light.prototype), {\n    constructor: RectAreaLight,\n\n    isRectAreaLight: true,\n\n    copy: function (source) {\n      Light.prototype.copy.call(this, source);\n\n      this.width = source.width;\n      this.height = source.height;\n\n      return this;\n    },\n\n    toJSON: function (meta) {\n      var data = Light.prototype.toJSON.call(this, meta);\n\n      data.object.width = this.width;\n      data.object.height = this.height;\n\n      return data;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function MaterialLoader(manager) {\n    Loader.call(this, manager);\n\n    this.textures = {};\n  }\n\n  MaterialLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: MaterialLoader,\n\n    load: function (url, onLoad, onProgress, onError) {\n      var scope = this;\n\n      var loader = new FileLoader(scope.manager);\n      loader.setPath(scope.path);\n      loader.load(\n        url,\n        function (text) {\n          onLoad(scope.parse(JSON.parse(text)));\n        },\n        onProgress,\n        onError\n      );\n    },\n\n    parse: function (json) {\n      var textures = this.textures;\n\n      function getTexture(name) {\n        if (textures[name] === undefined) {\n          console.warn(\"THREE.MaterialLoader: Undefined texture\", name);\n        }\n\n        return textures[name];\n      }\n\n      var material = new Materials[json.type]();\n\n      if (json.uuid !== undefined) {\n        material.uuid = json.uuid;\n      }\n      if (json.name !== undefined) {\n        material.name = json.name;\n      }\n      if (json.color !== undefined) {\n        material.color.setHex(json.color);\n      }\n      if (json.roughness !== undefined) {\n        material.roughness = json.roughness;\n      }\n      if (json.metalness !== undefined) {\n        material.metalness = json.metalness;\n      }\n      if (json.sheen !== undefined) {\n        material.sheen = new Color().setHex(json.sheen);\n      }\n      if (json.emissive !== undefined) {\n        material.emissive.setHex(json.emissive);\n      }\n      if (json.specular !== undefined) {\n        material.specular.setHex(json.specular);\n      }\n      if (json.shininess !== undefined) {\n        material.shininess = json.shininess;\n      }\n      if (json.clearcoat !== undefined) {\n        material.clearcoat = json.clearcoat;\n      }\n      if (json.clearcoatRoughness !== undefined) {\n        material.clearcoatRoughness = json.clearcoatRoughness;\n      }\n      if (json.vertexColors !== undefined) {\n        material.vertexColors = json.vertexColors;\n      }\n      if (json.fog !== undefined) {\n        material.fog = json.fog;\n      }\n      if (json.flatShading !== undefined) {\n        material.flatShading = json.flatShading;\n      }\n      if (json.blending !== undefined) {\n        material.blending = json.blending;\n      }\n      if (json.combine !== undefined) {\n        material.combine = json.combine;\n      }\n      if (json.side !== undefined) {\n        material.side = json.side;\n      }\n      if (json.opacity !== undefined) {\n        material.opacity = json.opacity;\n      }\n      if (json.transparent !== undefined) {\n        material.transparent = json.transparent;\n      }\n      if (json.alphaTest !== undefined) {\n        material.alphaTest = json.alphaTest;\n      }\n      if (json.depthTest !== undefined) {\n        material.depthTest = json.depthTest;\n      }\n      if (json.depthWrite !== undefined) {\n        material.depthWrite = json.depthWrite;\n      }\n      if (json.colorWrite !== undefined) {\n        material.colorWrite = json.colorWrite;\n      }\n\n      if (json.stencilWrite !== undefined) {\n        material.stencilWrite = json.stencilWrite;\n      }\n      if (json.stencilWriteMask !== undefined) {\n        material.stencilWriteMask = json.stencilWriteMask;\n      }\n      if (json.stencilFunc !== undefined) {\n        material.stencilFunc = json.stencilFunc;\n      }\n      if (json.stencilRef !== undefined) {\n        material.stencilRef = json.stencilRef;\n      }\n      if (json.stencilFuncMask !== undefined) {\n        material.stencilFuncMask = json.stencilFuncMask;\n      }\n      if (json.stencilFail !== undefined) {\n        material.stencilFail = json.stencilFail;\n      }\n      if (json.stencilZFail !== undefined) {\n        material.stencilZFail = json.stencilZFail;\n      }\n      if (json.stencilZPass !== undefined) {\n        material.stencilZPass = json.stencilZPass;\n      }\n\n      if (json.wireframe !== undefined) {\n        material.wireframe = json.wireframe;\n      }\n      if (json.wireframeLinewidth !== undefined) {\n        material.wireframeLinewidth = json.wireframeLinewidth;\n      }\n      if (json.wireframeLinecap !== undefined) {\n        material.wireframeLinecap = json.wireframeLinecap;\n      }\n      if (json.wireframeLinejoin !== undefined) {\n        material.wireframeLinejoin = json.wireframeLinejoin;\n      }\n\n      if (json.rotation !== undefined) {\n        material.rotation = json.rotation;\n      }\n\n      if (json.linewidth !== 1) {\n        material.linewidth = json.linewidth;\n      }\n      if (json.dashSize !== undefined) {\n        material.dashSize = json.dashSize;\n      }\n      if (json.gapSize !== undefined) {\n        material.gapSize = json.gapSize;\n      }\n      if (json.scale !== undefined) {\n        material.scale = json.scale;\n      }\n\n      if (json.polygonOffset !== undefined) {\n        material.polygonOffset = json.polygonOffset;\n      }\n      if (json.polygonOffsetFactor !== undefined) {\n        material.polygonOffsetFactor = json.polygonOffsetFactor;\n      }\n      if (json.polygonOffsetUnits !== undefined) {\n        material.polygonOffsetUnits = json.polygonOffsetUnits;\n      }\n\n      if (json.skinning !== undefined) {\n        material.skinning = json.skinning;\n      }\n      if (json.morphTargets !== undefined) {\n        material.morphTargets = json.morphTargets;\n      }\n      if (json.morphNormals !== undefined) {\n        material.morphNormals = json.morphNormals;\n      }\n      if (json.dithering !== undefined) {\n        material.dithering = json.dithering;\n      }\n\n      if (json.visible !== undefined) {\n        material.visible = json.visible;\n      }\n\n      if (json.toneMapped !== undefined) {\n        material.toneMapped = json.toneMapped;\n      }\n\n      if (json.userData !== undefined) {\n        material.userData = json.userData;\n      }\n\n      // Shader Material\n\n      if (json.uniforms !== undefined) {\n        for (var name in json.uniforms) {\n          var uniform = json.uniforms[name];\n\n          material.uniforms[name] = {};\n\n          switch (uniform.type) {\n            case \"t\":\n              material.uniforms[name].value = getTexture(uniform.value);\n              break;\n\n            case \"c\":\n              material.uniforms[name].value = new Color().setHex(uniform.value);\n              break;\n\n            case \"v2\":\n              material.uniforms[name].value = new Vector2().fromArray(\n                uniform.value\n              );\n              break;\n\n            case \"v3\":\n              material.uniforms[name].value = new Vector3().fromArray(\n                uniform.value\n              );\n              break;\n\n            case \"v4\":\n              material.uniforms[name].value = new Vector4().fromArray(\n                uniform.value\n              );\n              break;\n\n            case \"m3\":\n              material.uniforms[name].value = new Matrix3().fromArray(\n                uniform.value\n              );\n\n            case \"m4\":\n              material.uniforms[name].value = new Matrix4().fromArray(\n                uniform.value\n              );\n              break;\n\n            default:\n              material.uniforms[name].value = uniform.value;\n          }\n        }\n      }\n\n      if (json.defines !== undefined) {\n        material.defines = json.defines;\n      }\n      if (json.vertexShader !== undefined) {\n        material.vertexShader = json.vertexShader;\n      }\n      if (json.fragmentShader !== undefined) {\n        material.fragmentShader = json.fragmentShader;\n      }\n\n      if (json.extensions !== undefined) {\n        for (var key in json.extensions) {\n          material.extensions[key] = json.extensions[key];\n        }\n      }\n\n      // Deprecated\n\n      if (json.shading !== undefined) {\n        material.flatShading = json.shading === 1;\n      } // THREE.FlatShading\n\n      // for PointsMaterial\n\n      if (json.size !== undefined) {\n        material.size = json.size;\n      }\n      if (json.sizeAttenuation !== undefined) {\n        material.sizeAttenuation = json.sizeAttenuation;\n      }\n\n      // maps\n\n      if (json.map !== undefined) {\n        material.map = getTexture(json.map);\n      }\n      if (json.matcap !== undefined) {\n        material.matcap = getTexture(json.matcap);\n      }\n\n      if (json.alphaMap !== undefined) {\n        material.alphaMap = getTexture(json.alphaMap);\n        material.transparent = true;\n      }\n\n      if (json.bumpMap !== undefined) {\n        material.bumpMap = getTexture(json.bumpMap);\n      }\n      if (json.bumpScale !== undefined) {\n        material.bumpScale = json.bumpScale;\n      }\n\n      if (json.normalMap !== undefined) {\n        material.normalMap = getTexture(json.normalMap);\n      }\n      if (json.normalMapType !== undefined) {\n        material.normalMapType = json.normalMapType;\n      }\n      if (json.normalScale !== undefined) {\n        var normalScale = json.normalScale;\n\n        if (Array.isArray(normalScale) === false) {\n          // Blender exporter used to export a scalar. See #7459\n\n          normalScale = [normalScale, normalScale];\n        }\n\n        material.normalScale = new Vector2().fromArray(normalScale);\n      }\n\n      if (json.displacementMap !== undefined) {\n        material.displacementMap = getTexture(json.displacementMap);\n      }\n      if (json.displacementScale !== undefined) {\n        material.displacementScale = json.displacementScale;\n      }\n      if (json.displacementBias !== undefined) {\n        material.displacementBias = json.displacementBias;\n      }\n\n      if (json.roughnessMap !== undefined) {\n        material.roughnessMap = getTexture(json.roughnessMap);\n      }\n      if (json.metalnessMap !== undefined) {\n        material.metalnessMap = getTexture(json.metalnessMap);\n      }\n\n      if (json.emissiveMap !== undefined) {\n        material.emissiveMap = getTexture(json.emissiveMap);\n      }\n      if (json.emissiveIntensity !== undefined) {\n        material.emissiveIntensity = json.emissiveIntensity;\n      }\n\n      if (json.specularMap !== undefined) {\n        material.specularMap = getTexture(json.specularMap);\n      }\n\n      if (json.envMap !== undefined) {\n        material.envMap = getTexture(json.envMap);\n      }\n      if (json.envMapIntensity !== undefined) {\n        material.envMapIntensity = json.envMapIntensity;\n      }\n\n      if (json.reflectivity !== undefined) {\n        material.reflectivity = json.reflectivity;\n      }\n      if (json.refractionRatio !== undefined) {\n        material.refractionRatio = json.refractionRatio;\n      }\n\n      if (json.lightMap !== undefined) {\n        material.lightMap = getTexture(json.lightMap);\n      }\n      if (json.lightMapIntensity !== undefined) {\n        material.lightMapIntensity = json.lightMapIntensity;\n      }\n\n      if (json.aoMap !== undefined) {\n        material.aoMap = getTexture(json.aoMap);\n      }\n      if (json.aoMapIntensity !== undefined) {\n        material.aoMapIntensity = json.aoMapIntensity;\n      }\n\n      if (json.gradientMap !== undefined) {\n        material.gradientMap = getTexture(json.gradientMap);\n      }\n\n      if (json.clearcoatNormalMap !== undefined) {\n        material.clearcoatNormalMap = getTexture(json.clearcoatNormalMap);\n      }\n      if (json.clearcoatNormalScale !== undefined) {\n        material.clearcoatNormalScale = new Vector2().fromArray(\n          json.clearcoatNormalScale\n        );\n      }\n\n      return material;\n    },\n\n    setTextures: function (value) {\n      this.textures = value;\n      return this;\n    },\n  });\n\n  /**\n   * @author Don McCurdy / https://www.donmccurdy.com\n   */\n\n  var LoaderUtils = {\n    decodeText: function (array) {\n      if (typeof TextDecoder !== \"undefined\") {\n        return new TextDecoder().decode(array);\n      }\n\n      // Avoid the String.fromCharCode.apply(null, array) shortcut, which\n      // throws a \"maximum call stack size exceeded\" error for large arrays.\n\n      var s = \"\";\n\n      for (var i = 0, il = array.length; i < il; i++) {\n        // Implicitly assumes little-endian.\n        s += String.fromCharCode(array[i]);\n      }\n\n      try {\n        // merges multi-byte utf-8 characters.\n\n        return decodeURIComponent(escape(s));\n      } catch (e) {\n        // see #16358\n\n        return s;\n      }\n    },\n\n    extractUrlBase: function (url) {\n      var index = url.lastIndexOf(\"/\");\n\n      if (index === -1) {\n        return \"./\";\n      }\n\n      return url.substr(0, index + 1);\n    },\n  };\n\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  function InstancedBufferGeometry() {\n    BufferGeometry.call(this);\n\n    this.type = \"InstancedBufferGeometry\";\n    this.maxInstancedCount = undefined;\n  }\n\n  InstancedBufferGeometry.prototype = Object.assign(\n    Object.create(BufferGeometry.prototype),\n    {\n      constructor: InstancedBufferGeometry,\n\n      isInstancedBufferGeometry: true,\n\n      copy: function (source) {\n        BufferGeometry.prototype.copy.call(this, source);\n\n        this.maxInstancedCount = source.maxInstancedCount;\n\n        return this;\n      },\n\n      clone: function () {\n        return new this.constructor().copy(this);\n      },\n\n      toJSON: function () {\n        var data = BufferGeometry.prototype.toJSON.call(this);\n\n        data.maxInstancedCount = this.maxInstancedCount;\n\n        data.isInstancedBufferGeometry = true;\n\n        return data;\n      },\n    }\n  );\n\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  function InstancedBufferAttribute(\n    array,\n    itemSize,\n    normalized,\n    meshPerAttribute\n  ) {\n    if (typeof normalized === \"number\") {\n      meshPerAttribute = normalized;\n\n      normalized = false;\n\n      console.error(\n        \"THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.\"\n      );\n    }\n\n    BufferAttribute.call(this, array, itemSize, normalized);\n\n    this.meshPerAttribute = meshPerAttribute || 1;\n  }\n\n  InstancedBufferAttribute.prototype = Object.assign(\n    Object.create(BufferAttribute.prototype),\n    {\n      constructor: InstancedBufferAttribute,\n\n      isInstancedBufferAttribute: true,\n\n      copy: function (source) {\n        BufferAttribute.prototype.copy.call(this, source);\n\n        this.meshPerAttribute = source.meshPerAttribute;\n\n        return this;\n      },\n\n      toJSON: function () {\n        var data = BufferAttribute.prototype.toJSON.call(this);\n\n        data.meshPerAttribute = this.meshPerAttribute;\n\n        data.isInstancedBufferAttribute = true;\n\n        return data;\n      },\n    }\n  );\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function BufferGeometryLoader(manager) {\n    Loader.call(this, manager);\n  }\n\n  BufferGeometryLoader.prototype = Object.assign(\n    Object.create(Loader.prototype),\n    {\n      constructor: BufferGeometryLoader,\n\n      load: function (url, onLoad, onProgress, onError) {\n        var scope = this;\n\n        var loader = new FileLoader(scope.manager);\n        loader.setPath(scope.path);\n        loader.load(\n          url,\n          function (text) {\n            onLoad(scope.parse(JSON.parse(text)));\n          },\n          onProgress,\n          onError\n        );\n      },\n\n      parse: function (json) {\n        var geometry = json.isInstancedBufferGeometry\n          ? new InstancedBufferGeometry()\n          : new BufferGeometry();\n\n        var index = json.data.index;\n\n        if (index !== undefined) {\n          var typedArray = new TYPED_ARRAYS[index.type](index.array);\n          geometry.setIndex(new BufferAttribute(typedArray, 1));\n        }\n\n        var attributes = json.data.attributes;\n\n        for (var key in attributes) {\n          var attribute = attributes[key];\n          var typedArray = new TYPED_ARRAYS[attribute.type](attribute.array);\n          var bufferAttributeConstr = attribute.isInstancedBufferAttribute\n            ? InstancedBufferAttribute\n            : BufferAttribute;\n          var bufferAttribute = new bufferAttributeConstr(\n            typedArray,\n            attribute.itemSize,\n            attribute.normalized\n          );\n          if (attribute.name !== undefined) {\n            bufferAttribute.name = attribute.name;\n          }\n          geometry.setAttribute(key, bufferAttribute);\n        }\n\n        var morphAttributes = json.data.morphAttributes;\n\n        if (morphAttributes) {\n          for (var key in morphAttributes) {\n            var attributeArray = morphAttributes[key];\n\n            var array = [];\n\n            for (var i = 0, il = attributeArray.length; i < il; i++) {\n              var attribute = attributeArray[i];\n              var typedArray = new TYPED_ARRAYS[attribute.type](\n                attribute.array\n              );\n\n              var bufferAttribute = new BufferAttribute(\n                typedArray,\n                attribute.itemSize,\n                attribute.normalized\n              );\n              if (attribute.name !== undefined) {\n                bufferAttribute.name = attribute.name;\n              }\n              array.push(bufferAttribute);\n            }\n\n            geometry.morphAttributes[key] = array;\n          }\n        }\n\n        var morphTargetsRelative = json.data.morphTargetsRelative;\n\n        if (morphTargetsRelative) {\n          geometry.morphTargetsRelative = true;\n        }\n\n        var groups =\n          json.data.groups || json.data.drawcalls || json.data.offsets;\n\n        if (groups !== undefined) {\n          for (var i = 0, n = groups.length; i !== n; ++i) {\n            var group = groups[i];\n\n            geometry.addGroup(group.start, group.count, group.materialIndex);\n          }\n        }\n\n        var boundingSphere = json.data.boundingSphere;\n\n        if (boundingSphere !== undefined) {\n          var center = new Vector3();\n\n          if (boundingSphere.center !== undefined) {\n            center.fromArray(boundingSphere.center);\n          }\n\n          geometry.boundingSphere = new Sphere(center, boundingSphere.radius);\n        }\n\n        if (json.name) {\n          geometry.name = json.name;\n        }\n        if (json.userData) {\n          geometry.userData = json.userData;\n        }\n\n        return geometry;\n      },\n    }\n  );\n\n  var TYPED_ARRAYS = {\n    Int8Array: Int8Array,\n    Uint8Array: Uint8Array,\n    // Workaround for IE11 pre KB2929437. See #11440\n    Uint8ClampedArray:\n      typeof Uint8ClampedArray !== \"undefined\" ? Uint8ClampedArray : Uint8Array,\n    Int16Array: Int16Array,\n    Uint16Array: Uint16Array,\n    Int32Array: Int32Array,\n    Uint32Array: Uint32Array,\n    Float32Array: Float32Array,\n    Float64Array: Float64Array,\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function ObjectLoader(manager) {\n    Loader.call(this, manager);\n  }\n\n  ObjectLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: ObjectLoader,\n\n    load: function (url, onLoad, onProgress, onError) {\n      var scope = this;\n\n      var path = this.path === \"\" ? LoaderUtils.extractUrlBase(url) : this.path;\n      this.resourcePath = this.resourcePath || path;\n\n      var loader = new FileLoader(scope.manager);\n      loader.setPath(this.path);\n      loader.load(\n        url,\n        function (text) {\n          var json = null;\n\n          try {\n            json = JSON.parse(text);\n          } catch (error) {\n            if (onError !== undefined) {\n              onError(error);\n            }\n\n            console.error(\n              \"THREE:ObjectLoader: Can't parse \" + url + \".\",\n              error.message\n            );\n\n            return;\n          }\n\n          var metadata = json.metadata;\n\n          if (\n            metadata === undefined ||\n            metadata.type === undefined ||\n            metadata.type.toLowerCase() === \"geometry\"\n          ) {\n            console.error(\"THREE.ObjectLoader: Can't load \" + url);\n            return;\n          }\n\n          scope.parse(json, onLoad);\n        },\n        onProgress,\n        onError\n      );\n    },\n\n    parse: function (json, onLoad) {\n      var shapes = this.parseShape(json.shapes);\n      var geometries = this.parseGeometries(json.geometries, shapes);\n\n      var images = this.parseImages(json.images, function () {\n        if (onLoad !== undefined) {\n          onLoad(object);\n        }\n      });\n\n      var textures = this.parseTextures(json.textures, images);\n      var materials = this.parseMaterials(json.materials, textures);\n\n      var object = this.parseObject(json.object, geometries, materials);\n\n      if (json.animations) {\n        object.animations = this.parseAnimations(json.animations);\n      }\n\n      if (json.images === undefined || json.images.length === 0) {\n        if (onLoad !== undefined) {\n          onLoad(object);\n        }\n      }\n\n      return object;\n    },\n\n    parseShape: function (json) {\n      var shapes = {};\n\n      if (json !== undefined) {\n        for (var i = 0, l = json.length; i < l; i++) {\n          var shape = new Shape().fromJSON(json[i]);\n\n          shapes[shape.uuid] = shape;\n        }\n      }\n\n      return shapes;\n    },\n\n    parseGeometries: function (json, shapes) {\n      var geometries = {};\n\n      if (json !== undefined) {\n        var bufferGeometryLoader = new BufferGeometryLoader();\n\n        for (var i = 0, l = json.length; i < l; i++) {\n          var geometry;\n          var data = json[i];\n\n          switch (data.type) {\n            case \"PlaneGeometry\":\n            case \"PlaneBufferGeometry\":\n              geometry = new Geometries[data.type](\n                data.width,\n                data.height,\n                data.widthSegments,\n                data.heightSegments\n              );\n\n              break;\n\n            case \"BoxGeometry\":\n            case \"BoxBufferGeometry\":\n            case \"CubeGeometry\": // backwards compatible\n              geometry = new Geometries[data.type](\n                data.width,\n                data.height,\n                data.depth,\n                data.widthSegments,\n                data.heightSegments,\n                data.depthSegments\n              );\n\n              break;\n\n            case \"CircleGeometry\":\n            case \"CircleBufferGeometry\":\n              geometry = new Geometries[data.type](\n                data.radius,\n                data.segments,\n                data.thetaStart,\n                data.thetaLength\n              );\n\n              break;\n\n            case \"CylinderGeometry\":\n            case \"CylinderBufferGeometry\":\n              geometry = new Geometries[data.type](\n                data.radiusTop,\n                data.radiusBottom,\n                data.height,\n                data.radialSegments,\n                data.heightSegments,\n                data.openEnded,\n                data.thetaStart,\n                data.thetaLength\n              );\n\n              break;\n\n            case \"ConeGeometry\":\n            case \"ConeBufferGeometry\":\n              geometry = new Geometries[data.type](\n                data.radius,\n                data.height,\n                data.radialSegments,\n                data.heightSegments,\n                data.openEnded,\n                data.thetaStart,\n                data.thetaLength\n              );\n\n              break;\n\n            case \"SphereGeometry\":\n            case \"SphereBufferGeometry\":\n              geometry = new Geometries[data.type](\n                data.radius,\n                data.widthSegments,\n                data.heightSegments,\n                data.phiStart,\n                data.phiLength,\n                data.thetaStart,\n                data.thetaLength\n              );\n\n              break;\n\n            case \"DodecahedronGeometry\":\n            case \"DodecahedronBufferGeometry\":\n            case \"IcosahedronGeometry\":\n            case \"IcosahedronBufferGeometry\":\n            case \"OctahedronGeometry\":\n            case \"OctahedronBufferGeometry\":\n            case \"TetrahedronGeometry\":\n            case \"TetrahedronBufferGeometry\":\n              geometry = new Geometries[data.type](data.radius, data.detail);\n\n              break;\n\n            case \"RingGeometry\":\n            case \"RingBufferGeometry\":\n              geometry = new Geometries[data.type](\n                data.innerRadius,\n                data.outerRadius,\n                data.thetaSegments,\n                data.phiSegments,\n                data.thetaStart,\n                data.thetaLength\n              );\n\n              break;\n\n            case \"TorusGeometry\":\n            case \"TorusBufferGeometry\":\n              geometry = new Geometries[data.type](\n                data.radius,\n                data.tube,\n                data.radialSegments,\n                data.tubularSegments,\n                data.arc\n              );\n\n              break;\n\n            case \"TorusKnotGeometry\":\n            case \"TorusKnotBufferGeometry\":\n              geometry = new Geometries[data.type](\n                data.radius,\n                data.tube,\n                data.tubularSegments,\n                data.radialSegments,\n                data.p,\n                data.q\n              );\n\n              break;\n\n            case \"TubeGeometry\":\n            case \"TubeBufferGeometry\":\n              // This only works for built-in curves (e.g. CatmullRomCurve3).\n              // User defined curves or instances of CurvePath will not be deserialized.\n              geometry = new Geometries[data.type](\n                new Curves[data.path.type]().fromJSON(data.path),\n                data.tubularSegments,\n                data.radius,\n                data.radialSegments,\n                data.closed\n              );\n\n              break;\n\n            case \"LatheGeometry\":\n            case \"LatheBufferGeometry\":\n              geometry = new Geometries[data.type](\n                data.points,\n                data.segments,\n                data.phiStart,\n                data.phiLength\n              );\n\n              break;\n\n            case \"PolyhedronGeometry\":\n            case \"PolyhedronBufferGeometry\":\n              geometry = new Geometries[data.type](\n                data.vertices,\n                data.indices,\n                data.radius,\n                data.details\n              );\n\n              break;\n\n            case \"ShapeGeometry\":\n            case \"ShapeBufferGeometry\":\n              var geometryShapes = [];\n\n              for (var j = 0, jl = data.shapes.length; j < jl; j++) {\n                var shape = shapes[data.shapes[j]];\n\n                geometryShapes.push(shape);\n              }\n\n              geometry = new Geometries[data.type](\n                geometryShapes,\n                data.curveSegments\n              );\n\n              break;\n\n            case \"ExtrudeGeometry\":\n            case \"ExtrudeBufferGeometry\":\n              var geometryShapes = [];\n\n              for (var j = 0, jl = data.shapes.length; j < jl; j++) {\n                var shape = shapes[data.shapes[j]];\n\n                geometryShapes.push(shape);\n              }\n\n              var extrudePath = data.options.extrudePath;\n\n              if (extrudePath !== undefined) {\n                data.options.extrudePath = new Curves[\n                  extrudePath.type\n                ]().fromJSON(extrudePath);\n              }\n\n              geometry = new Geometries[data.type](\n                geometryShapes,\n                data.options\n              );\n\n              break;\n\n            case \"BufferGeometry\":\n            case \"InstancedBufferGeometry\":\n              geometry = bufferGeometryLoader.parse(data);\n\n              break;\n\n            case \"Geometry\":\n              if (\"THREE\" in window && \"LegacyJSONLoader\" in THREE) {\n                var geometryLoader = new THREE.LegacyJSONLoader();\n                geometry = geometryLoader.parse(\n                  data,\n                  this.resourcePath\n                ).geometry;\n              } else {\n                console.error(\n                  'THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type \"Geometry\".'\n                );\n              }\n\n              break;\n\n            default:\n              console.warn(\n                'THREE.ObjectLoader: Unsupported geometry type \"' +\n                  data.type +\n                  '\"'\n              );\n\n              continue;\n          }\n\n          geometry.uuid = data.uuid;\n\n          if (data.name !== undefined) {\n            geometry.name = data.name;\n          }\n          if (\n            geometry.isBufferGeometry === true &&\n            data.userData !== undefined\n          ) {\n            geometry.userData = data.userData;\n          }\n\n          geometries[data.uuid] = geometry;\n        }\n      }\n\n      return geometries;\n    },\n\n    parseMaterials: function (json, textures) {\n      var cache = {}; // MultiMaterial\n      var materials = {};\n\n      if (json !== undefined) {\n        var loader = new MaterialLoader();\n        loader.setTextures(textures);\n\n        for (var i = 0, l = json.length; i < l; i++) {\n          var data = json[i];\n\n          if (data.type === \"MultiMaterial\") {\n            // Deprecated\n\n            var array = [];\n\n            for (var j = 0; j < data.materials.length; j++) {\n              var material = data.materials[j];\n\n              if (cache[material.uuid] === undefined) {\n                cache[material.uuid] = loader.parse(material);\n              }\n\n              array.push(cache[material.uuid]);\n            }\n\n            materials[data.uuid] = array;\n          } else {\n            if (cache[data.uuid] === undefined) {\n              cache[data.uuid] = loader.parse(data);\n            }\n\n            materials[data.uuid] = cache[data.uuid];\n          }\n        }\n      }\n\n      return materials;\n    },\n\n    parseAnimations: function (json) {\n      var animations = [];\n\n      for (var i = 0; i < json.length; i++) {\n        var data = json[i];\n\n        var clip = AnimationClip.parse(data);\n\n        if (data.uuid !== undefined) {\n          clip.uuid = data.uuid;\n        }\n\n        animations.push(clip);\n      }\n\n      return animations;\n    },\n\n    parseImages: function (json, onLoad) {\n      var scope = this;\n      var images = {};\n\n      function loadImage(url) {\n        scope.manager.itemStart(url);\n\n        return loader.load(\n          url,\n          function () {\n            scope.manager.itemEnd(url);\n          },\n          undefined,\n          function () {\n            scope.manager.itemError(url);\n            scope.manager.itemEnd(url);\n          }\n        );\n      }\n\n      if (json !== undefined && json.length > 0) {\n        var manager = new LoadingManager(onLoad);\n\n        var loader = new ImageLoader(manager);\n        loader.setCrossOrigin(this.crossOrigin);\n\n        for (var i = 0, il = json.length; i < il; i++) {\n          var image = json[i];\n          var url = image.url;\n\n          if (Array.isArray(url)) {\n            // load array of images e.g CubeTexture\n\n            images[image.uuid] = [];\n\n            for (var j = 0, jl = url.length; j < jl; j++) {\n              var currentUrl = url[j];\n\n              var path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(currentUrl)\n                ? currentUrl\n                : scope.resourcePath + currentUrl;\n\n              images[image.uuid].push(loadImage(path));\n            }\n          } else {\n            // load single image\n\n            var path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(image.url)\n              ? image.url\n              : scope.resourcePath + image.url;\n\n            images[image.uuid] = loadImage(path);\n          }\n        }\n      }\n\n      return images;\n    },\n\n    parseTextures: function (json, images) {\n      function parseConstant(value, type) {\n        if (typeof value === \"number\") {\n          return value;\n        }\n\n        console.warn(\n          \"THREE.ObjectLoader.parseTexture: Constant should be in numeric form.\",\n          value\n        );\n\n        return type[value];\n      }\n\n      var textures = {};\n\n      if (json !== undefined) {\n        for (var i = 0, l = json.length; i < l; i++) {\n          var data = json[i];\n\n          if (data.image === undefined) {\n            console.warn(\n              'THREE.ObjectLoader: No \"image\" specified for',\n              data.uuid\n            );\n          }\n\n          if (images[data.image] === undefined) {\n            console.warn(\"THREE.ObjectLoader: Undefined image\", data.image);\n          }\n\n          var texture;\n\n          if (Array.isArray(images[data.image])) {\n            texture = new CubeTexture(images[data.image]);\n          } else {\n            texture = new Texture(images[data.image]);\n          }\n\n          texture.needsUpdate = true;\n\n          texture.uuid = data.uuid;\n\n          if (data.name !== undefined) {\n            texture.name = data.name;\n          }\n\n          if (data.mapping !== undefined) {\n            texture.mapping = parseConstant(data.mapping, TEXTURE_MAPPING);\n          }\n\n          if (data.offset !== undefined) {\n            texture.offset.fromArray(data.offset);\n          }\n          if (data.repeat !== undefined) {\n            texture.repeat.fromArray(data.repeat);\n          }\n          if (data.center !== undefined) {\n            texture.center.fromArray(data.center);\n          }\n          if (data.rotation !== undefined) {\n            texture.rotation = data.rotation;\n          }\n\n          if (data.wrap !== undefined) {\n            texture.wrapS = parseConstant(data.wrap[0], TEXTURE_WRAPPING);\n            texture.wrapT = parseConstant(data.wrap[1], TEXTURE_WRAPPING);\n          }\n\n          if (data.format !== undefined) {\n            texture.format = data.format;\n          }\n          if (data.type !== undefined) {\n            texture.type = data.type;\n          }\n          if (data.encoding !== undefined) {\n            texture.encoding = data.encoding;\n          }\n\n          if (data.minFilter !== undefined) {\n            texture.minFilter = parseConstant(data.minFilter, TEXTURE_FILTER);\n          }\n          if (data.magFilter !== undefined) {\n            texture.magFilter = parseConstant(data.magFilter, TEXTURE_FILTER);\n          }\n          if (data.anisotropy !== undefined) {\n            texture.anisotropy = data.anisotropy;\n          }\n\n          if (data.flipY !== undefined) {\n            texture.flipY = data.flipY;\n          }\n\n          if (data.premultiplyAlpha !== undefined) {\n            texture.premultiplyAlpha = data.premultiplyAlpha;\n          }\n          if (data.unpackAlignment !== undefined) {\n            texture.unpackAlignment = data.unpackAlignment;\n          }\n\n          textures[data.uuid] = texture;\n        }\n      }\n\n      return textures;\n    },\n\n    parseObject: function (data, geometries, materials) {\n      var object;\n\n      function getGeometry(name) {\n        if (geometries[name] === undefined) {\n          console.warn(\"THREE.ObjectLoader: Undefined geometry\", name);\n        }\n\n        return geometries[name];\n      }\n\n      function getMaterial(name) {\n        if (name === undefined) {\n          return undefined;\n        }\n\n        if (Array.isArray(name)) {\n          var array = [];\n\n          for (var i = 0, l = name.length; i < l; i++) {\n            var uuid = name[i];\n\n            if (materials[uuid] === undefined) {\n              console.warn(\"THREE.ObjectLoader: Undefined material\", uuid);\n            }\n\n            array.push(materials[uuid]);\n          }\n\n          return array;\n        }\n\n        if (materials[name] === undefined) {\n          console.warn(\"THREE.ObjectLoader: Undefined material\", name);\n        }\n\n        return materials[name];\n      }\n\n      switch (data.type) {\n        case \"Scene\":\n          object = new Scene();\n\n          if (data.background !== undefined) {\n            if (Number.isInteger(data.background)) {\n              object.background = new Color(data.background);\n            }\n          }\n\n          if (data.fog !== undefined) {\n            if (data.fog.type === \"Fog\") {\n              object.fog = new Fog(data.fog.color, data.fog.near, data.fog.far);\n            } else if (data.fog.type === \"FogExp2\") {\n              object.fog = new FogExp2(data.fog.color, data.fog.density);\n            }\n          }\n\n          break;\n\n        case \"PerspectiveCamera\":\n          object = new PerspectiveCamera(\n            data.fov,\n            data.aspect,\n            data.near,\n            data.far\n          );\n\n          if (data.focus !== undefined) {\n            object.focus = data.focus;\n          }\n          if (data.zoom !== undefined) {\n            object.zoom = data.zoom;\n          }\n          if (data.filmGauge !== undefined) {\n            object.filmGauge = data.filmGauge;\n          }\n          if (data.filmOffset !== undefined) {\n            object.filmOffset = data.filmOffset;\n          }\n          if (data.view !== undefined) {\n            object.view = Object.assign({}, data.view);\n          }\n\n          break;\n\n        case \"OrthographicCamera\":\n          object = new OrthographicCamera(\n            data.left,\n            data.right,\n            data.top,\n            data.bottom,\n            data.near,\n            data.far\n          );\n\n          if (data.zoom !== undefined) {\n            object.zoom = data.zoom;\n          }\n          if (data.view !== undefined) {\n            object.view = Object.assign({}, data.view);\n          }\n\n          break;\n\n        case \"AmbientLight\":\n          object = new AmbientLight(data.color, data.intensity);\n\n          break;\n\n        case \"DirectionalLight\":\n          object = new DirectionalLight(data.color, data.intensity);\n\n          break;\n\n        case \"PointLight\":\n          object = new PointLight(\n            data.color,\n            data.intensity,\n            data.distance,\n            data.decay\n          );\n\n          break;\n\n        case \"RectAreaLight\":\n          object = new RectAreaLight(\n            data.color,\n            data.intensity,\n            data.width,\n            data.height\n          );\n\n          break;\n\n        case \"SpotLight\":\n          object = new SpotLight(\n            data.color,\n            data.intensity,\n            data.distance,\n            data.angle,\n            data.penumbra,\n            data.decay\n          );\n\n          break;\n\n        case \"HemisphereLight\":\n          object = new HemisphereLight(\n            data.color,\n            data.groundColor,\n            data.intensity\n          );\n\n          break;\n\n        case \"SkinnedMesh\":\n          console.warn(\n            \"THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.\"\n          );\n\n        case \"Mesh\":\n          var geometry = getGeometry(data.geometry);\n          var material = getMaterial(data.material);\n\n          if (geometry.bones && geometry.bones.length > 0) {\n            object = new SkinnedMesh(geometry, material);\n          } else {\n            object = new Mesh(geometry, material);\n          }\n\n          break;\n\n        case \"InstancedMesh\":\n          var geometry = getGeometry(data.geometry);\n          var material = getMaterial(data.material);\n          var count = data.count;\n          var instanceMatrix = data.instanceMatrix;\n\n          object = new InstancedMesh(geometry, material, count);\n          object.instanceMatrix = new BufferAttribute(\n            new Float32Array(instanceMatrix.array),\n            16\n          );\n\n          break;\n\n        case \"LOD\":\n          object = new LOD();\n\n          break;\n\n        case \"Line\":\n          object = new Line(\n            getGeometry(data.geometry),\n            getMaterial(data.material),\n            data.mode\n          );\n\n          break;\n\n        case \"LineLoop\":\n          object = new LineLoop(\n            getGeometry(data.geometry),\n            getMaterial(data.material)\n          );\n\n          break;\n\n        case \"LineSegments\":\n          object = new LineSegments(\n            getGeometry(data.geometry),\n            getMaterial(data.material)\n          );\n\n          break;\n\n        case \"PointCloud\":\n        case \"Points\":\n          object = new Points(\n            getGeometry(data.geometry),\n            getMaterial(data.material)\n          );\n\n          break;\n\n        case \"Sprite\":\n          object = new Sprite(getMaterial(data.material));\n\n          break;\n\n        case \"Group\":\n          object = new Group();\n\n          break;\n\n        default:\n          object = new Object3D();\n      }\n\n      object.uuid = data.uuid;\n\n      if (data.name !== undefined) {\n        object.name = data.name;\n      }\n\n      if (data.matrix !== undefined) {\n        object.matrix.fromArray(data.matrix);\n\n        if (data.matrixAutoUpdate !== undefined) {\n          object.matrixAutoUpdate = data.matrixAutoUpdate;\n        }\n        if (object.matrixAutoUpdate) {\n          object.matrix.decompose(\n            object.position,\n            object.quaternion,\n            object.scale\n          );\n        }\n      } else {\n        if (data.position !== undefined) {\n          object.position.fromArray(data.position);\n        }\n        if (data.rotation !== undefined) {\n          object.rotation.fromArray(data.rotation);\n        }\n        if (data.quaternion !== undefined) {\n          object.quaternion.fromArray(data.quaternion);\n        }\n        if (data.scale !== undefined) {\n          object.scale.fromArray(data.scale);\n        }\n      }\n\n      if (data.castShadow !== undefined) {\n        object.castShadow = data.castShadow;\n      }\n      if (data.receiveShadow !== undefined) {\n        object.receiveShadow = data.receiveShadow;\n      }\n\n      if (data.shadow) {\n        if (data.shadow.bias !== undefined) {\n          object.shadow.bias = data.shadow.bias;\n        }\n        if (data.shadow.radius !== undefined) {\n          object.shadow.radius = data.shadow.radius;\n        }\n        if (data.shadow.mapSize !== undefined) {\n          object.shadow.mapSize.fromArray(data.shadow.mapSize);\n        }\n        if (data.shadow.camera !== undefined) {\n          object.shadow.camera = this.parseObject(data.shadow.camera);\n        }\n      }\n\n      if (data.visible !== undefined) {\n        object.visible = data.visible;\n      }\n      if (data.frustumCulled !== undefined) {\n        object.frustumCulled = data.frustumCulled;\n      }\n      if (data.renderOrder !== undefined) {\n        object.renderOrder = data.renderOrder;\n      }\n      if (data.userData !== undefined) {\n        object.userData = data.userData;\n      }\n      if (data.layers !== undefined) {\n        object.layers.mask = data.layers;\n      }\n\n      if (data.children !== undefined) {\n        var children = data.children;\n\n        for (var i = 0; i < children.length; i++) {\n          object.add(this.parseObject(children[i], geometries, materials));\n        }\n      }\n\n      if (data.type === \"LOD\") {\n        if (data.autoUpdate !== undefined) {\n          object.autoUpdate = data.autoUpdate;\n        }\n\n        var levels = data.levels;\n\n        for (var l = 0; l < levels.length; l++) {\n          var level = levels[l];\n          var child = object.getObjectByProperty(\"uuid\", level.object);\n\n          if (child !== undefined) {\n            object.addLevel(child, level.distance);\n          }\n        }\n      }\n\n      return object;\n    },\n  });\n\n  var TEXTURE_MAPPING = {\n    UVMapping: UVMapping,\n    CubeReflectionMapping: CubeReflectionMapping,\n    CubeRefractionMapping: CubeRefractionMapping,\n    EquirectangularReflectionMapping: EquirectangularReflectionMapping,\n    EquirectangularRefractionMapping: EquirectangularRefractionMapping,\n    SphericalReflectionMapping: SphericalReflectionMapping,\n    CubeUVReflectionMapping: CubeUVReflectionMapping,\n    CubeUVRefractionMapping: CubeUVRefractionMapping,\n  };\n\n  var TEXTURE_WRAPPING = {\n    RepeatWrapping: RepeatWrapping,\n    ClampToEdgeWrapping: ClampToEdgeWrapping,\n    MirroredRepeatWrapping: MirroredRepeatWrapping,\n  };\n\n  var TEXTURE_FILTER = {\n    NearestFilter: NearestFilter,\n    NearestMipmapNearestFilter: NearestMipmapNearestFilter,\n    NearestMipmapLinearFilter: NearestMipmapLinearFilter,\n    LinearFilter: LinearFilter,\n    LinearMipmapNearestFilter: LinearMipmapNearestFilter,\n    LinearMipmapLinearFilter: LinearMipmapLinearFilter,\n  };\n\n  /**\n   * @author thespite / http://clicktorelease.com/\n   */\n\n  function ImageBitmapLoader(manager) {\n    if (typeof createImageBitmap === \"undefined\") {\n      console.warn(\n        \"THREE.ImageBitmapLoader: createImageBitmap() not supported.\"\n      );\n    }\n\n    if (typeof fetch === \"undefined\") {\n      console.warn(\"THREE.ImageBitmapLoader: fetch() not supported.\");\n    }\n\n    Loader.call(this, manager);\n\n    this.options = undefined;\n  }\n\n  ImageBitmapLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: ImageBitmapLoader,\n\n    setOptions: function setOptions(options) {\n      this.options = options;\n\n      return this;\n    },\n\n    load: function (url, onLoad, onProgress, onError) {\n      if (url === undefined) {\n        url = \"\";\n      }\n\n      if (this.path !== undefined) {\n        url = this.path + url;\n      }\n\n      url = this.manager.resolveURL(url);\n\n      var scope = this;\n\n      var cached = Cache.get(url);\n\n      if (cached !== undefined) {\n        scope.manager.itemStart(url);\n\n        setTimeout(function () {\n          if (onLoad) {\n            onLoad(cached);\n          }\n\n          scope.manager.itemEnd(url);\n        }, 0);\n\n        return cached;\n      }\n\n      fetch(url)\n        .then(function (res) {\n          return res.blob();\n        })\n        .then(function (blob) {\n          if (scope.options === undefined) {\n            // Workaround for FireFox. It causes an error if you pass options.\n            return createImageBitmap(blob);\n          } else {\n            return createImageBitmap(blob, scope.options);\n          }\n        })\n        .then(function (imageBitmap) {\n          Cache.add(url, imageBitmap);\n\n          if (onLoad) {\n            onLoad(imageBitmap);\n          }\n\n          scope.manager.itemEnd(url);\n        })\n        .catch(function (e) {\n          if (onError) {\n            onError(e);\n          }\n\n          scope.manager.itemError(url);\n          scope.manager.itemEnd(url);\n        });\n\n      scope.manager.itemStart(url);\n    },\n  });\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n   **/\n\n  function ShapePath() {\n    this.type = \"ShapePath\";\n\n    this.color = new Color();\n\n    this.subPaths = [];\n    this.currentPath = null;\n  }\n\n  Object.assign(ShapePath.prototype, {\n    moveTo: function (x, y) {\n      this.currentPath = new Path();\n      this.subPaths.push(this.currentPath);\n      this.currentPath.moveTo(x, y);\n\n      return this;\n    },\n\n    lineTo: function (x, y) {\n      this.currentPath.lineTo(x, y);\n\n      return this;\n    },\n\n    quadraticCurveTo: function (aCPx, aCPy, aX, aY) {\n      this.currentPath.quadraticCurveTo(aCPx, aCPy, aX, aY);\n\n      return this;\n    },\n\n    bezierCurveTo: function (aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n      this.currentPath.bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY);\n\n      return this;\n    },\n\n    splineThru: function (pts) {\n      this.currentPath.splineThru(pts);\n\n      return this;\n    },\n\n    toShapes: function (isCCW, noHoles) {\n      function toShapesNoHoles(inSubpaths) {\n        var shapes = [];\n\n        for (var i = 0, l = inSubpaths.length; i < l; i++) {\n          var tmpPath = inSubpaths[i];\n\n          var tmpShape = new Shape();\n          tmpShape.curves = tmpPath.curves;\n\n          shapes.push(tmpShape);\n        }\n\n        return shapes;\n      }\n\n      function isPointInsidePolygon(inPt, inPolygon) {\n        var polyLen = inPolygon.length;\n\n        // inPt on polygon contour => immediate success    or\n        // toggling of inside/outside at every single! intersection point of an edge\n        //  with the horizontal line through inPt, left of inPt\n        //  not counting lowerY endpoints of edges and whole edges on that line\n        var inside = false;\n        for (var p = polyLen - 1, q = 0; q < polyLen; p = q++) {\n          var edgeLowPt = inPolygon[p];\n          var edgeHighPt = inPolygon[q];\n\n          var edgeDx = edgeHighPt.x - edgeLowPt.x;\n          var edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n          if (Math.abs(edgeDy) > Number.EPSILON) {\n            // not parallel\n            if (edgeDy < 0) {\n              edgeLowPt = inPolygon[q];\n              edgeDx = -edgeDx;\n              edgeHighPt = inPolygon[p];\n              edgeDy = -edgeDy;\n            }\n            if (inPt.y < edgeLowPt.y || inPt.y > edgeHighPt.y) {\n              continue;\n            }\n\n            if (inPt.y === edgeLowPt.y) {\n              if (inPt.x === edgeLowPt.x) {\n                return true;\n              } // inPt is on contour ?\n              // continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n            } else {\n              var perpEdge =\n                edgeDy * (inPt.x - edgeLowPt.x) -\n                edgeDx * (inPt.y - edgeLowPt.y);\n              if (perpEdge === 0) {\n                return true;\n              } // inPt is on contour ?\n              if (perpEdge < 0) {\n                continue;\n              }\n              inside = !inside; // true intersection left of inPt\n            }\n          } else {\n            // parallel or collinear\n            if (inPt.y !== edgeLowPt.y) {\n              continue;\n            } // parallel\n            // edge lies on the same horizontal line as inPt\n            if (\n              (edgeHighPt.x <= inPt.x && inPt.x <= edgeLowPt.x) ||\n              (edgeLowPt.x <= inPt.x && inPt.x <= edgeHighPt.x)\n            ) {\n              return true;\n            } // inPt: Point on contour !\n            // continue;\n          }\n        }\n\n        return inside;\n      }\n\n      var isClockWise = ShapeUtils.isClockWise;\n\n      var subPaths = this.subPaths;\n      if (subPaths.length === 0) {\n        return [];\n      }\n\n      if (noHoles === true) {\n        return toShapesNoHoles(subPaths);\n      }\n\n      var solid,\n        tmpPath,\n        tmpShape,\n        shapes = [];\n\n      if (subPaths.length === 1) {\n        tmpPath = subPaths[0];\n        tmpShape = new Shape();\n        tmpShape.curves = tmpPath.curves;\n        shapes.push(tmpShape);\n        return shapes;\n      }\n\n      var holesFirst = !isClockWise(subPaths[0].getPoints());\n      holesFirst = isCCW ? !holesFirst : holesFirst;\n\n      // console.log(\"Holes first\", holesFirst);\n\n      var betterShapeHoles = [];\n      var newShapes = [];\n      var newShapeHoles = [];\n      var mainIdx = 0;\n      var tmpPoints;\n\n      newShapes[mainIdx] = undefined;\n      newShapeHoles[mainIdx] = [];\n\n      for (var i = 0, l = subPaths.length; i < l; i++) {\n        tmpPath = subPaths[i];\n        tmpPoints = tmpPath.getPoints();\n        solid = isClockWise(tmpPoints);\n        solid = isCCW ? !solid : solid;\n\n        if (solid) {\n          if (!holesFirst && newShapes[mainIdx]) {\n            mainIdx++;\n          }\n\n          newShapes[mainIdx] = {\n            s: new Shape(),\n            p: tmpPoints,\n          };\n          newShapes[mainIdx].s.curves = tmpPath.curves;\n\n          if (holesFirst) {\n            mainIdx++;\n          }\n          newShapeHoles[mainIdx] = [];\n\n          //console.log('cw', i);\n        } else {\n          newShapeHoles[mainIdx].push({\n            h: tmpPath,\n            p: tmpPoints[0],\n          });\n\n          //console.log('ccw', i);\n        }\n      }\n\n      // only Holes? -> probably all Shapes with wrong orientation\n      if (!newShapes[0]) {\n        return toShapesNoHoles(subPaths);\n      }\n\n      if (newShapes.length > 1) {\n        var ambiguous = false;\n        var toChange = [];\n\n        for (var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n          betterShapeHoles[sIdx] = [];\n        }\n\n        for (var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n          var sho = newShapeHoles[sIdx];\n\n          for (var hIdx = 0; hIdx < sho.length; hIdx++) {\n            var ho = sho[hIdx];\n            var hole_unassigned = true;\n\n            for (var s2Idx = 0; s2Idx < newShapes.length; s2Idx++) {\n              if (isPointInsidePolygon(ho.p, newShapes[s2Idx].p)) {\n                if (sIdx !== s2Idx) {\n                  toChange.push({\n                    froms: sIdx,\n                    tos: s2Idx,\n                    hole: hIdx,\n                  });\n                }\n                if (hole_unassigned) {\n                  hole_unassigned = false;\n                  betterShapeHoles[s2Idx].push(ho);\n                } else {\n                  ambiguous = true;\n                }\n              }\n            }\n            if (hole_unassigned) {\n              betterShapeHoles[sIdx].push(ho);\n            }\n          }\n        }\n        // console.log(\"ambiguous: \", ambiguous);\n        if (toChange.length > 0) {\n          // console.log(\"to change: \", toChange);\n          if (!ambiguous) {\n            newShapeHoles = betterShapeHoles;\n          }\n        }\n      }\n\n      var tmpHoles;\n\n      for (var i = 0, il = newShapes.length; i < il; i++) {\n        tmpShape = newShapes[i].s;\n        shapes.push(tmpShape);\n        tmpHoles = newShapeHoles[i];\n\n        for (var j = 0, jl = tmpHoles.length; j < jl; j++) {\n          tmpShape.holes.push(tmpHoles[j].h);\n        }\n      }\n\n      //console.log(\"shape\", shapes);\n\n      return shapes;\n    },\n  });\n\n  /**\n   * @author zz85 / http://www.lab4games.net/zz85/blog\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Font(data) {\n    this.type = \"Font\";\n\n    this.data = data;\n  }\n\n  Object.assign(Font.prototype, {\n    isFont: true,\n\n    generateShapes: function (text, size) {\n      if (size === undefined) {\n        size = 100;\n      }\n\n      var shapes = [];\n      var paths = createPaths(text, size, this.data);\n\n      for (var p = 0, pl = paths.length; p < pl; p++) {\n        Array.prototype.push.apply(shapes, paths[p].toShapes());\n      }\n\n      return shapes;\n    },\n  });\n\n  function createPaths(text, size, data) {\n    var chars = Array.from ? Array.from(text) : String(text).split(\"\"); // see #13988\n    var scale = size / data.resolution;\n    var line_height =\n      (data.boundingBox.yMax -\n        data.boundingBox.yMin +\n        data.underlineThickness) *\n      scale;\n\n    var paths = [];\n\n    var offsetX = 0,\n      offsetY = 0;\n\n    for (var i = 0; i < chars.length; i++) {\n      var char = chars[i];\n\n      if (char === \"\\n\") {\n        offsetX = 0;\n        offsetY -= line_height;\n      } else {\n        var ret = createPath(char, scale, offsetX, offsetY, data);\n        offsetX += ret.offsetX;\n        paths.push(ret.path);\n      }\n    }\n\n    return paths;\n  }\n\n  function createPath(char, scale, offsetX, offsetY, data) {\n    var glyph = data.glyphs[char] || data.glyphs[\"?\"];\n\n    if (!glyph) {\n      console.error(\n        'THREE.Font: character \"' +\n          char +\n          '\" does not exists in font family ' +\n          data.familyName +\n          \".\"\n      );\n\n      return;\n    }\n\n    var path = new ShapePath();\n\n    var x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n    if (glyph.o) {\n      var outline =\n        glyph._cachedOutline || (glyph._cachedOutline = glyph.o.split(\" \"));\n\n      for (var i = 0, l = outline.length; i < l; ) {\n        var action = outline[i++];\n\n        switch (action) {\n          case \"m\": // moveTo\n            x = outline[i++] * scale + offsetX;\n            y = outline[i++] * scale + offsetY;\n\n            path.moveTo(x, y);\n\n            break;\n\n          case \"l\": // lineTo\n            x = outline[i++] * scale + offsetX;\n            y = outline[i++] * scale + offsetY;\n\n            path.lineTo(x, y);\n\n            break;\n\n          case \"q\": // quadraticCurveTo\n            cpx = outline[i++] * scale + offsetX;\n            cpy = outline[i++] * scale + offsetY;\n            cpx1 = outline[i++] * scale + offsetX;\n            cpy1 = outline[i++] * scale + offsetY;\n\n            path.quadraticCurveTo(cpx1, cpy1, cpx, cpy);\n\n            break;\n\n          case \"b\": // bezierCurveTo\n            cpx = outline[i++] * scale + offsetX;\n            cpy = outline[i++] * scale + offsetY;\n            cpx1 = outline[i++] * scale + offsetX;\n            cpy1 = outline[i++] * scale + offsetY;\n            cpx2 = outline[i++] * scale + offsetX;\n            cpy2 = outline[i++] * scale + offsetY;\n\n            path.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, cpx, cpy);\n\n            break;\n        }\n      }\n    }\n\n    return {\n      offsetX: glyph.ha * scale,\n      path: path,\n    };\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function FontLoader(manager) {\n    Loader.call(this, manager);\n  }\n\n  FontLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: FontLoader,\n\n    load: function (url, onLoad, onProgress, onError) {\n      var scope = this;\n\n      var loader = new FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.load(\n        url,\n        function (text) {\n          var json;\n\n          try {\n            json = JSON.parse(text);\n          } catch (e) {\n            console.warn(\n              \"THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.\"\n            );\n            json = JSON.parse(text.substring(65, text.length - 2));\n          }\n\n          var font = scope.parse(json);\n\n          if (onLoad) {\n            onLoad(font);\n          }\n        },\n        onProgress,\n        onError\n      );\n    },\n\n    parse: function (json) {\n      return new Font(json);\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _context;\n\n  var AudioContext = {\n    getContext: function () {\n      if (_context === undefined) {\n        _context = new (window.AudioContext || window.webkitAudioContext)();\n      }\n\n      return _context;\n    },\n\n    setContext: function (value) {\n      _context = value;\n    },\n  };\n\n  /**\n   * @author Reece Aaron Lecrivain / http://reecenotes.com/\n   */\n\n  function AudioLoader(manager) {\n    Loader.call(this, manager);\n  }\n\n  AudioLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n    constructor: AudioLoader,\n\n    load: function (url, onLoad, onProgress, onError) {\n      var loader = new FileLoader(this.manager);\n      loader.setResponseType(\"arraybuffer\");\n      loader.setPath(this.path);\n      loader.load(\n        url,\n        function (buffer) {\n          // Create a copy of the buffer. The `decodeAudioData` method\n          // detaches the buffer when complete, preventing reuse.\n          var bufferCopy = buffer.slice(0);\n\n          var context = AudioContext.getContext();\n          context.decodeAudioData(bufferCopy, function (audioBuffer) {\n            onLoad(audioBuffer);\n          });\n        },\n        onProgress,\n        onError\n      );\n    },\n  });\n\n  /**\n   * @author bhouston / http://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * Primary reference:\n   *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n   *\n   * Secondary reference:\n   *   https://www.ppsloan.org/publications/StupidSH36.pdf\n   */\n\n  // 3-band SH defined by 9 coefficients\n\n  function SphericalHarmonics3() {\n    this.coefficients = [];\n\n    for (var i = 0; i < 9; i++) {\n      this.coefficients.push(new Vector3());\n    }\n  }\n\n  Object.assign(SphericalHarmonics3.prototype, {\n    isSphericalHarmonics3: true,\n\n    set: function (coefficients) {\n      for (var i = 0; i < 9; i++) {\n        this.coefficients[i].copy(coefficients[i]);\n      }\n\n      return this;\n    },\n\n    zero: function () {\n      for (var i = 0; i < 9; i++) {\n        this.coefficients[i].set(0, 0, 0);\n      }\n\n      return this;\n    },\n\n    // get the radiance in the direction of the normal\n    // target is a Vector3\n    getAt: function (normal, target) {\n      // normal is assumed to be unit length\n\n      var x = normal.x,\n        y = normal.y,\n        z = normal.z;\n\n      var coeff = this.coefficients;\n\n      // band 0\n      target.copy(coeff[0]).multiplyScalar(0.282095);\n\n      // band 1\n      target.addScale(coeff[1], 0.488603 * y);\n      target.addScale(coeff[2], 0.488603 * z);\n      target.addScale(coeff[3], 0.488603 * x);\n\n      // band 2\n      target.addScale(coeff[4], 1.092548 * (x * y));\n      target.addScale(coeff[5], 1.092548 * (y * z));\n      target.addScale(coeff[6], 0.315392 * (3.0 * z * z - 1.0));\n      target.addScale(coeff[7], 1.092548 * (x * z));\n      target.addScale(coeff[8], 0.546274 * (x * x - y * y));\n\n      return target;\n    },\n\n    // get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n    // target is a Vector3\n    // https://graphics.stanford.edu/papers/envmap/envmap.pdf\n    getIrradianceAt: function (normal, target) {\n      // normal is assumed to be unit length\n\n      var x = normal.x,\n        y = normal.y,\n        z = normal.z;\n\n      var coeff = this.coefficients;\n\n      // band 0\n      target.copy(coeff[0]).multiplyScalar(0.886227); //  * 0.282095\n\n      // band 1\n      target.addScale(coeff[1], 2.0 * 0.511664 * y); // ( 2 *  / 3 ) * 0.488603\n      target.addScale(coeff[2], 2.0 * 0.511664 * z);\n      target.addScale(coeff[3], 2.0 * 0.511664 * x);\n\n      // band 2\n      target.addScale(coeff[4], 2.0 * 0.429043 * x * y); // (  / 4 ) * 1.092548\n      target.addScale(coeff[5], 2.0 * 0.429043 * y * z);\n      target.addScale(coeff[6], 0.743125 * z * z - 0.247708); // (  / 4 ) * 0.315392 * 3\n      target.addScale(coeff[7], 2.0 * 0.429043 * x * z);\n      target.addScale(coeff[8], 0.429043 * (x * x - y * y)); // (  / 4 ) * 0.546274\n\n      return target;\n    },\n\n    add: function (sh) {\n      for (var i = 0; i < 9; i++) {\n        this.coefficients[i].add(sh.coefficients[i]);\n      }\n\n      return this;\n    },\n\n    scale: function (s) {\n      for (var i = 0; i < 9; i++) {\n        this.coefficients[i].multiplyScalar(s);\n      }\n\n      return this;\n    },\n\n    lerp: function (sh, alpha) {\n      for (var i = 0; i < 9; i++) {\n        this.coefficients[i].lerp(sh.coefficients[i], alpha);\n      }\n\n      return this;\n    },\n\n    equals: function (sh) {\n      for (var i = 0; i < 9; i++) {\n        if (!this.coefficients[i].equals(sh.coefficients[i])) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n    copy: function (sh) {\n      return this.set(sh.coefficients);\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    fromArray: function (array, offset) {\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      var coefficients = this.coefficients;\n\n      for (var i = 0; i < 9; i++) {\n        coefficients[i].fromArray(array, offset + i * 3);\n      }\n\n      return this;\n    },\n\n    toArray: function (array, offset) {\n      if (array === undefined) {\n        array = [];\n      }\n      if (offset === undefined) {\n        offset = 0;\n      }\n\n      var coefficients = this.coefficients;\n\n      for (var i = 0; i < 9; i++) {\n        coefficients[i].toArray(array, offset + i * 3);\n      }\n\n      return array;\n    },\n  });\n\n  Object.assign(SphericalHarmonics3, {\n    // evaluate the basis functions\n    // shBasis is an Array[ 9 ]\n    getBasisAt: function (normal, shBasis) {\n      // normal is assumed to be unit length\n\n      var x = normal.x,\n        y = normal.y,\n        z = normal.z;\n\n      // band 0\n      shBasis[0] = 0.282095;\n\n      // band 1\n      shBasis[1] = 0.488603 * y;\n      shBasis[2] = 0.488603 * z;\n      shBasis[3] = 0.488603 * x;\n\n      // band 2\n      shBasis[4] = 1.092548 * x * y;\n      shBasis[5] = 1.092548 * y * z;\n      shBasis[6] = 0.315392 * (3 * z * z - 1);\n      shBasis[7] = 1.092548 * x * z;\n      shBasis[8] = 0.546274 * (x * x - y * y);\n    },\n  });\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * A LightProbe is a source of indirect-diffuse light\n   */\n\n  function LightProbe(sh, intensity) {\n    Light.call(this, undefined, intensity);\n\n    this.sh = sh !== undefined ? sh : new SphericalHarmonics3();\n  }\n\n  LightProbe.prototype = Object.assign(Object.create(Light.prototype), {\n    constructor: LightProbe,\n\n    isLightProbe: true,\n\n    copy: function (source) {\n      Light.prototype.copy.call(this, source);\n\n      this.sh.copy(source.sh);\n      this.intensity = source.intensity;\n\n      return this;\n    },\n\n    toJSON: function (meta) {\n      var data = Light.prototype.toJSON.call(this, meta);\n\n      // data.sh = this.sh.toArray(); // todo\n\n      return data;\n    },\n  });\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function HemisphereLightProbe(skyColor, groundColor, intensity) {\n    LightProbe.call(this, undefined, intensity);\n\n    var color1 = new Color().set(skyColor);\n    var color2 = new Color().set(groundColor);\n\n    var sky = new Vector3(color1.r, color1.g, color1.b);\n    var ground = new Vector3(color2.r, color2.g, color2.b);\n\n    // without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n    var c0 = Math.sqrt(Math.PI);\n    var c1 = c0 * Math.sqrt(0.75);\n\n    this.sh.coefficients[0].copy(sky).add(ground).multiplyScalar(c0);\n    this.sh.coefficients[1].copy(sky).sub(ground).multiplyScalar(c1);\n  }\n\n  HemisphereLightProbe.prototype = Object.assign(\n    Object.create(LightProbe.prototype),\n    {\n      constructor: HemisphereLightProbe,\n\n      isHemisphereLightProbe: true,\n\n      copy: function (source) {\n        // modifying colors not currently supported\n\n        LightProbe.prototype.copy.call(this, source);\n\n        return this;\n      },\n\n      toJSON: function (meta) {\n        var data = LightProbe.prototype.toJSON.call(this, meta);\n\n        // data.sh = this.sh.toArray(); // todo\n\n        return data;\n      },\n    }\n  );\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function AmbientLightProbe(color, intensity) {\n    LightProbe.call(this, undefined, intensity);\n\n    var color1 = new Color().set(color);\n\n    // without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n    this.sh.coefficients[0]\n      .set(color1.r, color1.g, color1.b)\n      .multiplyScalar(2 * Math.sqrt(Math.PI));\n  }\n\n  AmbientLightProbe.prototype = Object.assign(\n    Object.create(LightProbe.prototype),\n    {\n      constructor: AmbientLightProbe,\n\n      isAmbientLightProbe: true,\n\n      copy: function (source) {\n        // modifying color not currently supported\n\n        LightProbe.prototype.copy.call(this, source);\n\n        return this;\n      },\n\n      toJSON: function (meta) {\n        var data = LightProbe.prototype.toJSON.call(this, meta);\n\n        // data.sh = this.sh.toArray(); // todo\n\n        return data;\n      },\n    }\n  );\n\n  var _eyeRight = new Matrix4();\n  var _eyeLeft = new Matrix4();\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function StereoCamera() {\n    this.type = \"StereoCamera\";\n\n    this.aspect = 1;\n\n    this.eyeSep = 0.064;\n\n    this.cameraL = new PerspectiveCamera();\n    this.cameraL.layers.enable(1);\n    this.cameraL.matrixAutoUpdate = false;\n\n    this.cameraR = new PerspectiveCamera();\n    this.cameraR.layers.enable(2);\n    this.cameraR.matrixAutoUpdate = false;\n\n    this._cache = {\n      focus: null,\n      fov: null,\n      aspect: null,\n      near: null,\n      far: null,\n      zoom: null,\n      eyeSep: null,\n    };\n  }\n\n  Object.assign(StereoCamera.prototype, {\n    update: function (camera) {\n      var cache = this._cache;\n\n      var needsUpdate =\n        cache.focus !== camera.focus ||\n        cache.fov !== camera.fov ||\n        cache.aspect !== camera.aspect * this.aspect ||\n        cache.near !== camera.near ||\n        cache.far !== camera.far ||\n        cache.zoom !== camera.zoom ||\n        cache.eyeSep !== this.eyeSep;\n\n      if (needsUpdate) {\n        cache.focus = camera.focus;\n        cache.fov = camera.fov;\n        cache.aspect = camera.aspect * this.aspect;\n        cache.near = camera.near;\n        cache.far = camera.far;\n        cache.zoom = camera.zoom;\n        cache.eyeSep = this.eyeSep;\n\n        // Off-axis stereoscopic effect based on\n        // http://paulbourke.net/stereographics/stereorender/\n\n        var projectionMatrix = camera.projectionMatrix.clone();\n        var eyeSepHalf = cache.eyeSep / 2;\n        var eyeSepOnProjection = (eyeSepHalf * cache.near) / cache.focus;\n        var ymax =\n          (cache.near * Math.tan(_Math.DEG2RAD * cache.fov * 0.5)) / cache.zoom;\n        var xmin, xmax;\n\n        // translate xOffset\n\n        _eyeLeft.elements[12] = -eyeSepHalf;\n        _eyeRight.elements[12] = eyeSepHalf;\n\n        // for left eye\n\n        xmin = -ymax * cache.aspect + eyeSepOnProjection;\n        xmax = ymax * cache.aspect + eyeSepOnProjection;\n\n        projectionMatrix.elements[0] = (2 * cache.near) / (xmax - xmin);\n        projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n\n        this.cameraL.projectionMatrix.copy(projectionMatrix);\n\n        // for right eye\n\n        xmin = -ymax * cache.aspect - eyeSepOnProjection;\n        xmax = ymax * cache.aspect - eyeSepOnProjection;\n\n        projectionMatrix.elements[0] = (2 * cache.near) / (xmax - xmin);\n        projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n\n        this.cameraR.projectionMatrix.copy(projectionMatrix);\n      }\n\n      this.cameraL.matrixWorld.copy(camera.matrixWorld).multiply(_eyeLeft);\n      this.cameraR.matrixWorld.copy(camera.matrixWorld).multiply(_eyeRight);\n    },\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function Clock(autoStart) {\n    this.autoStart = autoStart !== undefined ? autoStart : true;\n\n    this.startTime = 0;\n    this.oldTime = 0;\n    this.elapsedTime = 0;\n\n    this.running = false;\n  }\n\n  Object.assign(Clock.prototype, {\n    start: function () {\n      this.startTime = (\n        typeof performance === \"undefined\" ? Date : performance\n      ).now(); // see #10732\n\n      this.oldTime = this.startTime;\n      this.elapsedTime = 0;\n      this.running = true;\n    },\n\n    stop: function () {\n      this.getElapsedTime();\n      this.running = false;\n      this.autoStart = false;\n    },\n\n    getElapsedTime: function () {\n      this.getDelta();\n      return this.elapsedTime;\n    },\n\n    getDelta: function () {\n      var diff = 0;\n\n      if (this.autoStart && !this.running) {\n        this.start();\n        return 0;\n      }\n\n      if (this.running) {\n        var newTime = (\n          typeof performance === \"undefined\" ? Date : performance\n        ).now();\n\n        diff = (newTime - this.oldTime) / 1000;\n        this.oldTime = newTime;\n\n        this.elapsedTime += diff;\n      }\n\n      return diff;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _position$2 = new Vector3();\n  var _quaternion$3 = new Quaternion();\n  var _scale$1 = new Vector3();\n  var _orientation = new Vector3();\n\n  function AudioListener() {\n    Object3D.call(this);\n\n    this.type = \"AudioListener\";\n\n    this.context = AudioContext.getContext();\n\n    this.gain = this.context.createGain();\n    this.gain.connect(this.context.destination);\n\n    this.filter = null;\n\n    this.timeDelta = 0;\n\n    // private\n\n    this._clock = new Clock();\n  }\n\n  AudioListener.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: AudioListener,\n\n    getInput: function () {\n      return this.gain;\n    },\n\n    removeFilter: function () {\n      if (this.filter !== null) {\n        this.gain.disconnect(this.filter);\n        this.filter.disconnect(this.context.destination);\n        this.gain.connect(this.context.destination);\n        this.filter = null;\n      }\n\n      return this;\n    },\n\n    getFilter: function () {\n      return this.filter;\n    },\n\n    setFilter: function (value) {\n      if (this.filter !== null) {\n        this.gain.disconnect(this.filter);\n        this.filter.disconnect(this.context.destination);\n      } else {\n        this.gain.disconnect(this.context.destination);\n      }\n\n      this.filter = value;\n      this.gain.connect(this.filter);\n      this.filter.connect(this.context.destination);\n\n      return this;\n    },\n\n    getMasterVolume: function () {\n      return this.gain.gain.value;\n    },\n\n    setMasterVolume: function (value) {\n      this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n\n      return this;\n    },\n\n    updateMatrixWorld: function (force) {\n      Object3D.prototype.updateMatrixWorld.call(this, force);\n\n      var listener = this.context.listener;\n      var up = this.up;\n\n      this.timeDelta = this._clock.getDelta();\n\n      this.matrixWorld.decompose(_position$2, _quaternion$3, _scale$1);\n\n      _orientation.set(0, 0, -1).applyQuaternion(_quaternion$3);\n\n      if (listener.positionX) {\n        // code path for Chrome (see #14393)\n\n        var endTime = this.context.currentTime + this.timeDelta;\n\n        listener.positionX.linearRampToValueAtTime(_position$2.x, endTime);\n        listener.positionY.linearRampToValueAtTime(_position$2.y, endTime);\n        listener.positionZ.linearRampToValueAtTime(_position$2.z, endTime);\n        listener.forwardX.linearRampToValueAtTime(_orientation.x, endTime);\n        listener.forwardY.linearRampToValueAtTime(_orientation.y, endTime);\n        listener.forwardZ.linearRampToValueAtTime(_orientation.z, endTime);\n        listener.upX.linearRampToValueAtTime(up.x, endTime);\n        listener.upY.linearRampToValueAtTime(up.y, endTime);\n        listener.upZ.linearRampToValueAtTime(up.z, endTime);\n      } else {\n        listener.setPosition(_position$2.x, _position$2.y, _position$2.z);\n        listener.setOrientation(\n          _orientation.x,\n          _orientation.y,\n          _orientation.z,\n          up.x,\n          up.y,\n          up.z\n        );\n      }\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Reece Aaron Lecrivain / http://reecenotes.com/\n   */\n\n  function Audio(listener) {\n    Object3D.call(this);\n\n    this.type = \"Audio\";\n\n    this.listener = listener;\n    this.context = listener.context;\n\n    this.gain = this.context.createGain();\n    this.gain.connect(listener.getInput());\n\n    this.autoplay = false;\n\n    this.buffer = null;\n    this.detune = 0;\n    this.loop = false;\n    this.loopStart = 0;\n    this.loopEnd = 0;\n    this.offset = 0;\n    this.duration = undefined;\n    this.playbackRate = 1;\n    this.isPlaying = false;\n    this.hasPlaybackControl = true;\n    this.sourceType = \"empty\";\n\n    this._startedAt = 0;\n    this._pausedAt = 0;\n\n    this.filters = [];\n  }\n\n  Audio.prototype = Object.assign(Object.create(Object3D.prototype), {\n    constructor: Audio,\n\n    getOutput: function () {\n      return this.gain;\n    },\n\n    setNodeSource: function (audioNode) {\n      this.hasPlaybackControl = false;\n      this.sourceType = \"audioNode\";\n      this.source = audioNode;\n      this.connect();\n\n      return this;\n    },\n\n    setMediaElementSource: function (mediaElement) {\n      this.hasPlaybackControl = false;\n      this.sourceType = \"mediaNode\";\n      this.source = this.context.createMediaElementSource(mediaElement);\n      this.connect();\n\n      return this;\n    },\n\n    setMediaStreamSource: function (mediaStream) {\n      this.hasPlaybackControl = false;\n      this.sourceType = \"mediaStreamNode\";\n      this.source = this.context.createMediaStreamSource(mediaStream);\n      this.connect();\n\n      return this;\n    },\n\n    setBuffer: function (audioBuffer) {\n      this.buffer = audioBuffer;\n      this.sourceType = \"buffer\";\n\n      if (this.autoplay) {\n        this.play();\n      }\n\n      return this;\n    },\n\n    play: function (delay) {\n      if (delay === undefined) {\n        delay = 0;\n      }\n\n      if (this.isPlaying === true) {\n        console.warn(\"THREE.Audio: Audio is already playing.\");\n        return;\n      }\n\n      if (this.hasPlaybackControl === false) {\n        console.warn(\"THREE.Audio: this Audio has no playback control.\");\n        return;\n      }\n\n      this._startedAt = this.context.currentTime + delay;\n\n      var source = this.context.createBufferSource();\n      source.buffer = this.buffer;\n      source.loop = this.loop;\n      source.loopStart = this.loopStart;\n      source.loopEnd = this.loopEnd;\n      source.onended = this.onEnded.bind(this);\n      source.start(\n        this._startedAt,\n        this._pausedAt + this.offset,\n        this.duration\n      );\n\n      this.isPlaying = true;\n\n      this.source = source;\n\n      this.setDetune(this.detune);\n      this.setPlaybackRate(this.playbackRate);\n\n      return this.connect();\n    },\n\n    pause: function () {\n      if (this.hasPlaybackControl === false) {\n        console.warn(\"THREE.Audio: this Audio has no playback control.\");\n        return;\n      }\n\n      if (this.isPlaying === true) {\n        this._pausedAt =\n          (this.context.currentTime - this._startedAt) * this.playbackRate;\n\n        this.source.stop();\n        this.source.onended = null;\n\n        this.isPlaying = false;\n      }\n\n      return this;\n    },\n\n    stop: function () {\n      if (this.hasPlaybackControl === false) {\n        console.warn(\"THREE.Audio: this Audio has no playback control.\");\n        return;\n      }\n\n      this._pausedAt = 0;\n\n      this.source.stop();\n      this.source.onended = null;\n      this.isPlaying = false;\n\n      return this;\n    },\n\n    connect: function () {\n      if (this.filters.length > 0) {\n        this.source.connect(this.filters[0]);\n\n        for (var i = 1, l = this.filters.length; i < l; i++) {\n          this.filters[i - 1].connect(this.filters[i]);\n        }\n\n        this.filters[this.filters.length - 1].connect(this.getOutput());\n      } else {\n        this.source.connect(this.getOutput());\n      }\n\n      return this;\n    },\n\n    disconnect: function () {\n      if (this.filters.length > 0) {\n        this.source.disconnect(this.filters[0]);\n\n        for (var i = 1, l = this.filters.length; i < l; i++) {\n          this.filters[i - 1].disconnect(this.filters[i]);\n        }\n\n        this.filters[this.filters.length - 1].disconnect(this.getOutput());\n      } else {\n        this.source.disconnect(this.getOutput());\n      }\n\n      return this;\n    },\n\n    getFilters: function () {\n      return this.filters;\n    },\n\n    setFilters: function (value) {\n      if (!value) {\n        value = [];\n      }\n\n      if (this.isPlaying === true) {\n        this.disconnect();\n        this.filters = value;\n        this.connect();\n      } else {\n        this.filters = value;\n      }\n\n      return this;\n    },\n\n    setDetune: function (value) {\n      this.detune = value;\n\n      if (this.source.detune === undefined) {\n        return;\n      } // only set detune when available\n\n      if (this.isPlaying === true) {\n        this.source.detune.setTargetAtTime(\n          this.detune,\n          this.context.currentTime,\n          0.01\n        );\n      }\n\n      return this;\n    },\n\n    getDetune: function () {\n      return this.detune;\n    },\n\n    getFilter: function () {\n      return this.getFilters()[0];\n    },\n\n    setFilter: function (filter) {\n      return this.setFilters(filter ? [filter] : []);\n    },\n\n    setPlaybackRate: function (value) {\n      if (this.hasPlaybackControl === false) {\n        console.warn(\"THREE.Audio: this Audio has no playback control.\");\n        return;\n      }\n\n      this.playbackRate = value;\n\n      if (this.isPlaying === true) {\n        this.source.playbackRate.setTargetAtTime(\n          this.playbackRate,\n          this.context.currentTime,\n          0.01\n        );\n      }\n\n      return this;\n    },\n\n    getPlaybackRate: function () {\n      return this.playbackRate;\n    },\n\n    onEnded: function () {\n      this.isPlaying = false;\n    },\n\n    getLoop: function () {\n      if (this.hasPlaybackControl === false) {\n        console.warn(\"THREE.Audio: this Audio has no playback control.\");\n        return false;\n      }\n\n      return this.loop;\n    },\n\n    setLoop: function (value) {\n      if (this.hasPlaybackControl === false) {\n        console.warn(\"THREE.Audio: this Audio has no playback control.\");\n        return;\n      }\n\n      this.loop = value;\n\n      if (this.isPlaying === true) {\n        this.source.loop = this.loop;\n      }\n\n      return this;\n    },\n\n    setLoopStart: function (value) {\n      this.loopStart = value;\n\n      return this;\n    },\n\n    setLoopEnd: function (value) {\n      this.loopEnd = value;\n\n      return this;\n    },\n\n    getVolume: function () {\n      return this.gain.gain.value;\n    },\n\n    setVolume: function (value) {\n      this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n\n      return this;\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  var _position$3 = new Vector3();\n  var _quaternion$4 = new Quaternion();\n  var _scale$2 = new Vector3();\n  var _orientation$1 = new Vector3();\n\n  function PositionalAudio(listener) {\n    Audio.call(this, listener);\n\n    this.panner = this.context.createPanner();\n    this.panner.panningModel = \"HRTF\";\n    this.panner.connect(this.gain);\n  }\n\n  PositionalAudio.prototype = Object.assign(Object.create(Audio.prototype), {\n    constructor: PositionalAudio,\n\n    getOutput: function () {\n      return this.panner;\n    },\n\n    getRefDistance: function () {\n      return this.panner.refDistance;\n    },\n\n    setRefDistance: function (value) {\n      this.panner.refDistance = value;\n\n      return this;\n    },\n\n    getRolloffFactor: function () {\n      return this.panner.rolloffFactor;\n    },\n\n    setRolloffFactor: function (value) {\n      this.panner.rolloffFactor = value;\n\n      return this;\n    },\n\n    getDistanceModel: function () {\n      return this.panner.distanceModel;\n    },\n\n    setDistanceModel: function (value) {\n      this.panner.distanceModel = value;\n\n      return this;\n    },\n\n    getMaxDistance: function () {\n      return this.panner.maxDistance;\n    },\n\n    setMaxDistance: function (value) {\n      this.panner.maxDistance = value;\n\n      return this;\n    },\n\n    setDirectionalCone: function (\n      coneInnerAngle,\n      coneOuterAngle,\n      coneOuterGain\n    ) {\n      this.panner.coneInnerAngle = coneInnerAngle;\n      this.panner.coneOuterAngle = coneOuterAngle;\n      this.panner.coneOuterGain = coneOuterGain;\n\n      return this;\n    },\n\n    updateMatrixWorld: function (force) {\n      Object3D.prototype.updateMatrixWorld.call(this, force);\n\n      if (this.hasPlaybackControl === true && this.isPlaying === false) {\n        return;\n      }\n\n      this.matrixWorld.decompose(_position$3, _quaternion$4, _scale$2);\n\n      _orientation$1.set(0, 0, 1).applyQuaternion(_quaternion$4);\n\n      var panner = this.panner;\n\n      if (panner.positionX) {\n        // code path for Chrome and Firefox (see #14393)\n\n        var endTime = this.context.currentTime + this.listener.timeDelta;\n\n        panner.positionX.linearRampToValueAtTime(_position$3.x, endTime);\n        panner.positionY.linearRampToValueAtTime(_position$3.y, endTime);\n        panner.positionZ.linearRampToValueAtTime(_position$3.z, endTime);\n        panner.orientationX.linearRampToValueAtTime(_orientation$1.x, endTime);\n        panner.orientationY.linearRampToValueAtTime(_orientation$1.y, endTime);\n        panner.orientationZ.linearRampToValueAtTime(_orientation$1.z, endTime);\n      } else {\n        panner.setPosition(_position$3.x, _position$3.y, _position$3.z);\n        panner.setOrientation(\n          _orientation$1.x,\n          _orientation$1.y,\n          _orientation$1.z\n        );\n      }\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function AudioAnalyser(audio, fftSize) {\n    this.analyser = audio.context.createAnalyser();\n    this.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n    this.data = new Uint8Array(this.analyser.frequencyBinCount);\n\n    audio.getOutput().connect(this.analyser);\n  }\n\n  Object.assign(AudioAnalyser.prototype, {\n    getFrequencyData: function () {\n      this.analyser.getByteFrequencyData(this.data);\n\n      return this.data;\n    },\n\n    getAverageFrequency: function () {\n      var value = 0,\n        data = this.getFrequencyData();\n\n      for (var i = 0; i < data.length; i++) {\n        value += data[i];\n      }\n\n      return value / data.length;\n    },\n  });\n\n  /**\n   *\n   * Buffered scene graph property that allows weighted accumulation.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function PropertyMixer(binding, typeName, valueSize) {\n    this.binding = binding;\n    this.valueSize = valueSize;\n\n    var bufferType = Float64Array,\n      mixFunction;\n\n    switch (typeName) {\n      case \"quaternion\":\n        mixFunction = this._slerp;\n        break;\n\n      case \"string\":\n      case \"bool\":\n        bufferType = Array;\n        mixFunction = this._select;\n        break;\n\n      default:\n        mixFunction = this._lerp;\n    }\n\n    this.buffer = new bufferType(valueSize * 4);\n    // layout: [ incoming | accu0 | accu1 | orig ]\n    //\n    // interpolators can use .buffer as their .result\n    // the data then goes to 'incoming'\n    //\n    // 'accu0' and 'accu1' are used frame-interleaved for\n    // the cumulative result and are compared to detect\n    // changes\n    //\n    // 'orig' stores the original state of the property\n\n    this._mixBufferRegion = mixFunction;\n\n    this.cumulativeWeight = 0;\n\n    this.useCount = 0;\n    this.referenceCount = 0;\n  }\n\n  Object.assign(PropertyMixer.prototype, {\n    // accumulate data in the 'incoming' region into 'accu<i>'\n    accumulate: function (accuIndex, weight) {\n      // note: happily accumulating nothing when weight = 0, the caller knows\n      // the weight and shouldn't have made the call in the first place\n\n      var buffer = this.buffer,\n        stride = this.valueSize,\n        offset = accuIndex * stride + stride,\n        currentWeight = this.cumulativeWeight;\n\n      if (currentWeight === 0) {\n        // accuN := incoming * weight\n\n        for (var i = 0; i !== stride; ++i) {\n          buffer[offset + i] = buffer[i];\n        }\n\n        currentWeight = weight;\n      } else {\n        // accuN := accuN + incoming * weight\n\n        currentWeight += weight;\n        var mix = weight / currentWeight;\n        this._mixBufferRegion(buffer, offset, 0, mix, stride);\n      }\n\n      this.cumulativeWeight = currentWeight;\n    },\n\n    // apply the state of 'accu<i>' to the binding when accus differ\n    apply: function (accuIndex) {\n      var stride = this.valueSize,\n        buffer = this.buffer,\n        offset = accuIndex * stride + stride,\n        weight = this.cumulativeWeight,\n        binding = this.binding;\n\n      this.cumulativeWeight = 0;\n\n      if (weight < 1) {\n        // accuN := accuN + original * ( 1 - cumulativeWeight )\n\n        var originalValueOffset = stride * 3;\n\n        this._mixBufferRegion(\n          buffer,\n          offset,\n          originalValueOffset,\n          1 - weight,\n          stride\n        );\n      }\n\n      for (var i = stride, e = stride + stride; i !== e; ++i) {\n        if (buffer[i] !== buffer[i + stride]) {\n          // value has changed -> update scene graph\n\n          binding.setValue(buffer, offset);\n          break;\n        }\n      }\n    },\n\n    // remember the state of the bound property and copy it to both accus\n    saveOriginalState: function () {\n      var binding = this.binding;\n\n      var buffer = this.buffer,\n        stride = this.valueSize,\n        originalValueOffset = stride * 3;\n\n      binding.getValue(buffer, originalValueOffset);\n\n      // accu[0..1] := orig -- initially detect changes against the original\n      for (var i = stride, e = originalValueOffset; i !== e; ++i) {\n        buffer[i] = buffer[originalValueOffset + (i % stride)];\n      }\n\n      this.cumulativeWeight = 0;\n    },\n\n    // apply the state previously taken via 'saveOriginalState' to the binding\n    restoreOriginalState: function () {\n      var originalValueOffset = this.valueSize * 3;\n      this.binding.setValue(this.buffer, originalValueOffset);\n    },\n\n    // mix functions\n\n    _select: function (buffer, dstOffset, srcOffset, t, stride) {\n      if (t >= 0.5) {\n        for (var i = 0; i !== stride; ++i) {\n          buffer[dstOffset + i] = buffer[srcOffset + i];\n        }\n      }\n    },\n\n    _slerp: function (buffer, dstOffset, srcOffset, t) {\n      Quaternion.slerpFlat(\n        buffer,\n        dstOffset,\n        buffer,\n        dstOffset,\n        buffer,\n        srcOffset,\n        t\n      );\n    },\n\n    _lerp: function (buffer, dstOffset, srcOffset, t, stride) {\n      var s = 1 - t;\n\n      for (var i = 0; i !== stride; ++i) {\n        var j = dstOffset + i;\n\n        buffer[j] = buffer[j] * s + buffer[srcOffset + i] * t;\n      }\n    },\n  });\n\n  /**\n   *\n   * A reference to a real property in the scene graph.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  // Characters [].:/ are reserved for track binding syntax.\n  var _RESERVED_CHARS_RE = \"\\\\[\\\\]\\\\.:\\\\/\";\n  var _reservedRe = new RegExp(\"[\" + _RESERVED_CHARS_RE + \"]\", \"g\");\n\n  // Attempts to allow node names from any language. ES5's `\\w` regexp matches\n  // only latin characters, and the unicode \\p{L} is not yet supported. So\n  // instead, we exclude reserved characters and match everything else.\n  var _wordChar = \"[^\" + _RESERVED_CHARS_RE + \"]\";\n  var _wordCharOrDot = \"[^\" + _RESERVED_CHARS_RE.replace(\"\\\\.\", \"\") + \"]\";\n\n  // Parent directories, delimited by '/' or ':'. Currently unused, but must\n  // be matched to parse the rest of the track name.\n  var _directoryRe = /((?:WC+[\\/:])*)/.source.replace(\"WC\", _wordChar);\n\n  // Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\n  var _nodeRe = /(WCOD+)?/.source.replace(\"WCOD\", _wordCharOrDot);\n\n  // Object on target node, and accessor. May not contain reserved\n  // characters. Accessor may contain any character except closing bracket.\n  var _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace(\"WC\", _wordChar);\n\n  // Property and accessor. May not contain reserved characters. Accessor may\n  // contain any non-bracket characters.\n  var _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace(\"WC\", _wordChar);\n\n  var _trackRe = new RegExp(\n    \"\" + \"^\" + _directoryRe + _nodeRe + _objectRe + _propertyRe + \"$\"\n  );\n\n  var _supportedObjectNames = [\"material\", \"materials\", \"bones\"];\n\n  function Composite(targetGroup, path, optionalParsedPath) {\n    var parsedPath = optionalParsedPath || PropertyBinding.parseTrackName(path);\n\n    this._targetGroup = targetGroup;\n    this._bindings = targetGroup.subscribe_(path, parsedPath);\n  }\n\n  Object.assign(Composite.prototype, {\n    getValue: function (array, offset) {\n      this.bind(); // bind all binding\n\n      var firstValidIndex = this._targetGroup.nCachedObjects_,\n        binding = this._bindings[firstValidIndex];\n\n      // and only call .getValue on the first\n      if (binding !== undefined) {\n        binding.getValue(array, offset);\n      }\n    },\n\n    setValue: function (array, offset) {\n      var bindings = this._bindings;\n\n      for (\n        var i = this._targetGroup.nCachedObjects_, n = bindings.length;\n        i !== n;\n        ++i\n      ) {\n        bindings[i].setValue(array, offset);\n      }\n    },\n\n    bind: function () {\n      var bindings = this._bindings;\n\n      for (\n        var i = this._targetGroup.nCachedObjects_, n = bindings.length;\n        i !== n;\n        ++i\n      ) {\n        bindings[i].bind();\n      }\n    },\n\n    unbind: function () {\n      var bindings = this._bindings;\n\n      for (\n        var i = this._targetGroup.nCachedObjects_, n = bindings.length;\n        i !== n;\n        ++i\n      ) {\n        bindings[i].unbind();\n      }\n    },\n  });\n\n  function PropertyBinding(rootNode, path, parsedPath) {\n    this.path = path;\n    this.parsedPath = parsedPath || PropertyBinding.parseTrackName(path);\n\n    this.node =\n      PropertyBinding.findNode(rootNode, this.parsedPath.nodeName) || rootNode;\n\n    this.rootNode = rootNode;\n  }\n\n  Object.assign(PropertyBinding, {\n    Composite: Composite,\n\n    create: function (root, path, parsedPath) {\n      if (!(root && root.isAnimationObjectGroup)) {\n        return new PropertyBinding(root, path, parsedPath);\n      } else {\n        return new PropertyBinding.Composite(root, path, parsedPath);\n      }\n    },\n\n    /**\n     * Replaces spaces with underscores and removes unsupported characters from\n     * node names, to ensure compatibility with parseTrackName().\n     *\n     * @param {string} name Node name to be sanitized.\n     * @return {string}\n     */\n    sanitizeNodeName: function (name) {\n      return name.replace(/\\s/g, \"_\").replace(_reservedRe, \"\");\n    },\n\n    parseTrackName: function (trackName) {\n      var matches = _trackRe.exec(trackName);\n\n      if (!matches) {\n        throw new Error(\n          \"PropertyBinding: Cannot parse trackName: \" + trackName\n        );\n      }\n\n      var results = {\n        // directoryName: matches[ 1 ], // (tschw) currently unused\n        nodeName: matches[2],\n        objectName: matches[3],\n        objectIndex: matches[4],\n        propertyName: matches[5], // required\n        propertyIndex: matches[6],\n      };\n\n      var lastDot = results.nodeName && results.nodeName.lastIndexOf(\".\");\n\n      if (lastDot !== undefined && lastDot !== -1) {\n        var objectName = results.nodeName.substring(lastDot + 1);\n\n        // Object names must be checked against a whitelist. Otherwise, there\n        // is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n        // 'bar' could be the objectName, or part of a nodeName (which can\n        // include '.' characters).\n        if (_supportedObjectNames.indexOf(objectName) !== -1) {\n          results.nodeName = results.nodeName.substring(0, lastDot);\n          results.objectName = objectName;\n        }\n      }\n\n      if (results.propertyName === null || results.propertyName.length === 0) {\n        throw new Error(\n          \"PropertyBinding: can not parse propertyName from trackName: \" +\n            trackName\n        );\n      }\n\n      return results;\n    },\n\n    findNode: function (root, nodeName) {\n      if (\n        !nodeName ||\n        nodeName === \"\" ||\n        nodeName === \"root\" ||\n        nodeName === \".\" ||\n        nodeName === -1 ||\n        nodeName === root.name ||\n        nodeName === root.uuid\n      ) {\n        return root;\n      }\n\n      // search into skeleton bones.\n      if (root.skeleton) {\n        var bone = root.skeleton.getBoneByName(nodeName);\n\n        if (bone !== undefined) {\n          return bone;\n        }\n      }\n\n      // search into node subtree.\n      if (root.children) {\n        var searchNodeSubtree = function (children) {\n          for (var i = 0; i < children.length; i++) {\n            var childNode = children[i];\n\n            if (childNode.name === nodeName || childNode.uuid === nodeName) {\n              return childNode;\n            }\n\n            var result = searchNodeSubtree(childNode.children);\n\n            if (result) {\n              return result;\n            }\n          }\n\n          return null;\n        };\n\n        var subTreeNode = searchNodeSubtree(root.children);\n\n        if (subTreeNode) {\n          return subTreeNode;\n        }\n      }\n\n      return null;\n    },\n  });\n\n  Object.assign(PropertyBinding.prototype, {\n    // prototype, continued\n\n    // these are used to \"bind\" a nonexistent property\n    _getValue_unavailable: function () {},\n    _setValue_unavailable: function () {},\n\n    BindingType: {\n      Direct: 0,\n      EntireArray: 1,\n      ArrayElement: 2,\n      HasFromToArray: 3,\n    },\n\n    Versioning: {\n      None: 0,\n      NeedsUpdate: 1,\n      MatrixWorldNeedsUpdate: 2,\n    },\n\n    GetterByBindingType: [\n      function getValue_direct(buffer, offset) {\n        buffer[offset] = this.node[this.propertyName];\n      },\n\n      function getValue_array(buffer, offset) {\n        var source = this.resolvedProperty;\n\n        for (var i = 0, n = source.length; i !== n; ++i) {\n          buffer[offset++] = source[i];\n        }\n      },\n\n      function getValue_arrayElement(buffer, offset) {\n        buffer[offset] = this.resolvedProperty[this.propertyIndex];\n      },\n\n      function getValue_toArray(buffer, offset) {\n        this.resolvedProperty.toArray(buffer, offset);\n      },\n    ],\n\n    SetterByBindingTypeAndVersioning: [\n      [\n        // Direct\n\n        function setValue_direct(buffer, offset) {\n          this.targetObject[this.propertyName] = buffer[offset];\n        },\n\n        function setValue_direct_setNeedsUpdate(buffer, offset) {\n          this.targetObject[this.propertyName] = buffer[offset];\n          this.targetObject.needsUpdate = true;\n        },\n\n        function setValue_direct_setMatrixWorldNeedsUpdate(buffer, offset) {\n          this.targetObject[this.propertyName] = buffer[offset];\n          this.targetObject.matrixWorldNeedsUpdate = true;\n        },\n      ],\n      [\n        // EntireArray\n\n        function setValue_array(buffer, offset) {\n          var dest = this.resolvedProperty;\n\n          for (var i = 0, n = dest.length; i !== n; ++i) {\n            dest[i] = buffer[offset++];\n          }\n        },\n\n        function setValue_array_setNeedsUpdate(buffer, offset) {\n          var dest = this.resolvedProperty;\n\n          for (var i = 0, n = dest.length; i !== n; ++i) {\n            dest[i] = buffer[offset++];\n          }\n\n          this.targetObject.needsUpdate = true;\n        },\n\n        function setValue_array_setMatrixWorldNeedsUpdate(buffer, offset) {\n          var dest = this.resolvedProperty;\n\n          for (var i = 0, n = dest.length; i !== n; ++i) {\n            dest[i] = buffer[offset++];\n          }\n\n          this.targetObject.matrixWorldNeedsUpdate = true;\n        },\n      ],\n      [\n        // ArrayElement\n\n        function setValue_arrayElement(buffer, offset) {\n          this.resolvedProperty[this.propertyIndex] = buffer[offset];\n        },\n\n        function setValue_arrayElement_setNeedsUpdate(buffer, offset) {\n          this.resolvedProperty[this.propertyIndex] = buffer[offset];\n          this.targetObject.needsUpdate = true;\n        },\n\n        function setValue_arrayElement_setMatrixWorldNeedsUpdate(\n          buffer,\n          offset\n        ) {\n          this.resolvedProperty[this.propertyIndex] = buffer[offset];\n          this.targetObject.matrixWorldNeedsUpdate = true;\n        },\n      ],\n      [\n        // HasToFromArray\n\n        function setValue_fromArray(buffer, offset) {\n          this.resolvedProperty.fromArray(buffer, offset);\n        },\n\n        function setValue_fromArray_setNeedsUpdate(buffer, offset) {\n          this.resolvedProperty.fromArray(buffer, offset);\n          this.targetObject.needsUpdate = true;\n        },\n\n        function setValue_fromArray_setMatrixWorldNeedsUpdate(buffer, offset) {\n          this.resolvedProperty.fromArray(buffer, offset);\n          this.targetObject.matrixWorldNeedsUpdate = true;\n        },\n      ],\n    ],\n\n    getValue: function getValue_unbound(targetArray, offset) {\n      this.bind();\n      this.getValue(targetArray, offset);\n\n      // Note: This class uses a State pattern on a per-method basis:\n      // 'bind' sets 'this.getValue' / 'setValue' and shadows the\n      // prototype version of these methods with one that represents\n      // the bound state. When the property is not found, the methods\n      // become no-ops.\n    },\n\n    setValue: function getValue_unbound(sourceArray, offset) {\n      this.bind();\n      this.setValue(sourceArray, offset);\n    },\n\n    // create getter / setter pair for a property in the scene graph\n    bind: function () {\n      var targetObject = this.node,\n        parsedPath = this.parsedPath,\n        objectName = parsedPath.objectName,\n        propertyName = parsedPath.propertyName,\n        propertyIndex = parsedPath.propertyIndex;\n\n      if (!targetObject) {\n        targetObject =\n          PropertyBinding.findNode(this.rootNode, parsedPath.nodeName) ||\n          this.rootNode;\n\n        this.node = targetObject;\n      }\n\n      // set fail state so we can just 'return' on error\n      this.getValue = this._getValue_unavailable;\n      this.setValue = this._setValue_unavailable;\n\n      // ensure there is a value node\n      if (!targetObject) {\n        console.error(\n          \"THREE.PropertyBinding: Trying to update node for track: \" +\n            this.path +\n            \" but it wasn't found.\"\n        );\n        return;\n      }\n\n      if (objectName) {\n        var objectIndex = parsedPath.objectIndex;\n\n        // special cases were we need to reach deeper into the hierarchy to get the face materials....\n        switch (objectName) {\n          case \"materials\":\n            if (!targetObject.material) {\n              console.error(\n                \"THREE.PropertyBinding: Can not bind to material as node does not have a material.\",\n                this\n              );\n              return;\n            }\n\n            if (!targetObject.material.materials) {\n              console.error(\n                \"THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.\",\n                this\n              );\n              return;\n            }\n\n            targetObject = targetObject.material.materials;\n\n            break;\n\n          case \"bones\":\n            if (!targetObject.skeleton) {\n              console.error(\n                \"THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.\",\n                this\n              );\n              return;\n            }\n\n            // potential future optimization: skip this if propertyIndex is already an integer\n            // and convert the integer string to a true integer.\n\n            targetObject = targetObject.skeleton.bones;\n\n            // support resolving morphTarget names into indices.\n            for (var i = 0; i < targetObject.length; i++) {\n              if (targetObject[i].name === objectIndex) {\n                objectIndex = i;\n                break;\n              }\n            }\n\n            break;\n\n          default:\n            if (targetObject[objectName] === undefined) {\n              console.error(\n                \"THREE.PropertyBinding: Can not bind to objectName of node undefined.\",\n                this\n              );\n              return;\n            }\n\n            targetObject = targetObject[objectName];\n        }\n\n        if (objectIndex !== undefined) {\n          if (targetObject[objectIndex] === undefined) {\n            console.error(\n              \"THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.\",\n              this,\n              targetObject\n            );\n            return;\n          }\n\n          targetObject = targetObject[objectIndex];\n        }\n      }\n\n      // resolve property\n      var nodeProperty = targetObject[propertyName];\n\n      if (nodeProperty === undefined) {\n        var nodeName = parsedPath.nodeName;\n\n        console.error(\n          \"THREE.PropertyBinding: Trying to update property for track: \" +\n            nodeName +\n            \".\" +\n            propertyName +\n            \" but it wasn't found.\",\n          targetObject\n        );\n        return;\n      }\n\n      // determine versioning scheme\n      var versioning = this.Versioning.None;\n\n      this.targetObject = targetObject;\n\n      if (targetObject.needsUpdate !== undefined) {\n        // material\n\n        versioning = this.Versioning.NeedsUpdate;\n      } else if (targetObject.matrixWorldNeedsUpdate !== undefined) {\n        // node transform\n\n        versioning = this.Versioning.MatrixWorldNeedsUpdate;\n      }\n\n      // determine how the property gets bound\n      var bindingType = this.BindingType.Direct;\n\n      if (propertyIndex !== undefined) {\n        // access a sub element of the property array (only primitives are supported right now)\n\n        if (propertyName === \"morphTargetInfluences\") {\n          // potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n          // support resolving morphTarget names into indices.\n          if (!targetObject.geometry) {\n            console.error(\n              \"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.\",\n              this\n            );\n            return;\n          }\n\n          if (targetObject.geometry.isBufferGeometry) {\n            if (!targetObject.geometry.morphAttributes) {\n              console.error(\n                \"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.\",\n                this\n              );\n              return;\n            }\n\n            for (\n              var i = 0;\n              i < this.node.geometry.morphAttributes.position.length;\n              i++\n            ) {\n              if (\n                targetObject.geometry.morphAttributes.position[i].name ===\n                propertyIndex\n              ) {\n                propertyIndex = i;\n                break;\n              }\n            }\n          } else {\n            if (!targetObject.geometry.morphTargets) {\n              console.error(\n                \"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.\",\n                this\n              );\n              return;\n            }\n\n            for (var i = 0; i < this.node.geometry.morphTargets.length; i++) {\n              if (\n                targetObject.geometry.morphTargets[i].name === propertyIndex\n              ) {\n                propertyIndex = i;\n                break;\n              }\n            }\n          }\n        }\n\n        bindingType = this.BindingType.ArrayElement;\n\n        this.resolvedProperty = nodeProperty;\n        this.propertyIndex = propertyIndex;\n      } else if (\n        nodeProperty.fromArray !== undefined &&\n        nodeProperty.toArray !== undefined\n      ) {\n        // must use copy for Object3D.Euler/Quaternion\n\n        bindingType = this.BindingType.HasFromToArray;\n\n        this.resolvedProperty = nodeProperty;\n      } else if (Array.isArray(nodeProperty)) {\n        bindingType = this.BindingType.EntireArray;\n\n        this.resolvedProperty = nodeProperty;\n      } else {\n        this.propertyName = propertyName;\n      }\n\n      // select getter / setter\n      this.getValue = this.GetterByBindingType[bindingType];\n      this.setValue =\n        this.SetterByBindingTypeAndVersioning[bindingType][versioning];\n    },\n\n    unbind: function () {\n      this.node = null;\n\n      // back to the prototype version of getValue / setValue\n      // note: avoiding to mutate the shape of 'this' via 'delete'\n      this.getValue = this._getValue_unbound;\n      this.setValue = this._setValue_unbound;\n    },\n  });\n\n  //!\\ DECLARE ALIAS AFTER assign prototype !\n  Object.assign(PropertyBinding.prototype, {\n    // initial state of these methods that calls 'bind'\n    _getValue_unbound: PropertyBinding.prototype.getValue,\n    _setValue_unbound: PropertyBinding.prototype.setValue,\n  });\n\n  /**\n   *\n   * A group of objects that receives a shared animation state.\n   *\n   * Usage:\n   *\n   *  - Add objects you would otherwise pass as 'root' to the\n   *    constructor or the .clipAction method of AnimationMixer.\n   *\n   *  - Instead pass this object as 'root'.\n   *\n   *  - You can also add and remove objects later when the mixer\n   *    is running.\n   *\n   * Note:\n   *\n   *    Objects of this class appear as one object to the mixer,\n   *    so cache control of the individual objects must be done\n   *    on the group.\n   *\n   * Limitation:\n   *\n   *  - The animated properties must be compatible among the\n   *    all objects in the group.\n   *\n   *  - A single property can either be controlled through a\n   *    target group or directly, but not both.\n   *\n   * @author tschw\n   */\n\n  function AnimationObjectGroup() {\n    this.uuid = _Math.generateUUID();\n\n    // cached objects followed by the active ones\n    this._objects = Array.prototype.slice.call(arguments);\n\n    this.nCachedObjects_ = 0; // threshold\n    // note: read by PropertyBinding.Composite\n\n    var indices = {};\n    this._indicesByUUID = indices; // for bookkeeping\n\n    for (var i = 0, n = arguments.length; i !== n; ++i) {\n      indices[arguments[i].uuid] = i;\n    }\n\n    this._paths = []; // inside: string\n    this._parsedPaths = []; // inside: { we don't care, here }\n    this._bindings = []; // inside: Array< PropertyBinding >\n    this._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n    var scope = this;\n\n    this.stats = {\n      objects: {\n        get total() {\n          return scope._objects.length;\n        },\n        get inUse() {\n          return this.total - scope.nCachedObjects_;\n        },\n      },\n      get bindingsPerObject() {\n        return scope._bindings.length;\n      },\n    };\n  }\n\n  Object.assign(AnimationObjectGroup.prototype, {\n    isAnimationObjectGroup: true,\n\n    add: function () {\n      var objects = this._objects,\n        nObjects = objects.length,\n        nCachedObjects = this.nCachedObjects_,\n        indicesByUUID = this._indicesByUUID,\n        paths = this._paths,\n        parsedPaths = this._parsedPaths,\n        bindings = this._bindings,\n        nBindings = bindings.length,\n        knownObject = undefined;\n\n      for (var i = 0, n = arguments.length; i !== n; ++i) {\n        var object = arguments[i],\n          uuid = object.uuid,\n          index = indicesByUUID[uuid];\n\n        if (index === undefined) {\n          // unknown object -> add it to the ACTIVE region\n\n          index = nObjects++;\n          indicesByUUID[uuid] = index;\n          objects.push(object);\n\n          // accounting is done, now do the same for all bindings\n\n          for (var j = 0, m = nBindings; j !== m; ++j) {\n            bindings[j].push(\n              new PropertyBinding(object, paths[j], parsedPaths[j])\n            );\n          }\n        } else if (index < nCachedObjects) {\n          knownObject = objects[index];\n\n          // move existing object to the ACTIVE region\n\n          var firstActiveIndex = --nCachedObjects,\n            lastCachedObject = objects[firstActiveIndex];\n\n          indicesByUUID[lastCachedObject.uuid] = index;\n          objects[index] = lastCachedObject;\n\n          indicesByUUID[uuid] = firstActiveIndex;\n          objects[firstActiveIndex] = object;\n\n          // accounting is done, now do the same for all bindings\n\n          for (var j = 0, m = nBindings; j !== m; ++j) {\n            var bindingsForPath = bindings[j],\n              lastCached = bindingsForPath[firstActiveIndex],\n              binding = bindingsForPath[index];\n\n            bindingsForPath[index] = lastCached;\n\n            if (binding === undefined) {\n              // since we do not bother to create new bindings\n              // for objects that are cached, the binding may\n              // or may not exist\n\n              binding = new PropertyBinding(object, paths[j], parsedPaths[j]);\n            }\n\n            bindingsForPath[firstActiveIndex] = binding;\n          }\n        } else if (objects[index] !== knownObject) {\n          console.error(\n            \"THREE.AnimationObjectGroup: Different objects with the same UUID \" +\n              \"detected. Clean the caches or recreate your infrastructure when reloading scenes.\"\n          );\n        } // else the object is already where we want it to be\n      } // for arguments\n\n      this.nCachedObjects_ = nCachedObjects;\n    },\n\n    remove: function () {\n      var objects = this._objects,\n        nCachedObjects = this.nCachedObjects_,\n        indicesByUUID = this._indicesByUUID,\n        bindings = this._bindings,\n        nBindings = bindings.length;\n\n      for (var i = 0, n = arguments.length; i !== n; ++i) {\n        var object = arguments[i],\n          uuid = object.uuid,\n          index = indicesByUUID[uuid];\n\n        if (index !== undefined && index >= nCachedObjects) {\n          // move existing object into the CACHED region\n\n          var lastCachedIndex = nCachedObjects++,\n            firstActiveObject = objects[lastCachedIndex];\n\n          indicesByUUID[firstActiveObject.uuid] = index;\n          objects[index] = firstActiveObject;\n\n          indicesByUUID[uuid] = lastCachedIndex;\n          objects[lastCachedIndex] = object;\n\n          // accounting is done, now do the same for all bindings\n\n          for (var j = 0, m = nBindings; j !== m; ++j) {\n            var bindingsForPath = bindings[j],\n              firstActive = bindingsForPath[lastCachedIndex],\n              binding = bindingsForPath[index];\n\n            bindingsForPath[index] = firstActive;\n            bindingsForPath[lastCachedIndex] = binding;\n          }\n        }\n      } // for arguments\n\n      this.nCachedObjects_ = nCachedObjects;\n    },\n\n    // remove & forget\n    uncache: function () {\n      var objects = this._objects,\n        nObjects = objects.length,\n        nCachedObjects = this.nCachedObjects_,\n        indicesByUUID = this._indicesByUUID,\n        bindings = this._bindings,\n        nBindings = bindings.length;\n\n      for (var i = 0, n = arguments.length; i !== n; ++i) {\n        var object = arguments[i],\n          uuid = object.uuid,\n          index = indicesByUUID[uuid];\n\n        if (index !== undefined) {\n          delete indicesByUUID[uuid];\n\n          if (index < nCachedObjects) {\n            // object is cached, shrink the CACHED region\n\n            var firstActiveIndex = --nCachedObjects,\n              lastCachedObject = objects[firstActiveIndex],\n              lastIndex = --nObjects,\n              lastObject = objects[lastIndex];\n\n            // last cached object takes this object's place\n            indicesByUUID[lastCachedObject.uuid] = index;\n            objects[index] = lastCachedObject;\n\n            // last object goes to the activated slot and pop\n            indicesByUUID[lastObject.uuid] = firstActiveIndex;\n            objects[firstActiveIndex] = lastObject;\n            objects.pop();\n\n            // accounting is done, now do the same for all bindings\n\n            for (var j = 0, m = nBindings; j !== m; ++j) {\n              var bindingsForPath = bindings[j],\n                lastCached = bindingsForPath[firstActiveIndex],\n                last = bindingsForPath[lastIndex];\n\n              bindingsForPath[index] = lastCached;\n              bindingsForPath[firstActiveIndex] = last;\n              bindingsForPath.pop();\n            }\n          } else {\n            // object is active, just swap with the last and pop\n\n            var lastIndex = --nObjects,\n              lastObject = objects[lastIndex];\n\n            indicesByUUID[lastObject.uuid] = index;\n            objects[index] = lastObject;\n            objects.pop();\n\n            // accounting is done, now do the same for all bindings\n\n            for (var j = 0, m = nBindings; j !== m; ++j) {\n              var bindingsForPath = bindings[j];\n\n              bindingsForPath[index] = bindingsForPath[lastIndex];\n              bindingsForPath.pop();\n            }\n          } // cached or active\n        } // if object is known\n      } // for arguments\n\n      this.nCachedObjects_ = nCachedObjects;\n    },\n\n    // Internal interface used by befriended PropertyBinding.Composite:\n\n    subscribe_: function (path, parsedPath) {\n      // returns an array of bindings for the given path that is changed\n      // according to the contained objects in the group\n\n      var indicesByPath = this._bindingsIndicesByPath,\n        index = indicesByPath[path],\n        bindings = this._bindings;\n\n      if (index !== undefined) {\n        return bindings[index];\n      }\n\n      var paths = this._paths,\n        parsedPaths = this._parsedPaths,\n        objects = this._objects,\n        nObjects = objects.length,\n        nCachedObjects = this.nCachedObjects_,\n        bindingsForPath = new Array(nObjects);\n\n      index = bindings.length;\n\n      indicesByPath[path] = index;\n\n      paths.push(path);\n      parsedPaths.push(parsedPath);\n      bindings.push(bindingsForPath);\n\n      for (var i = nCachedObjects, n = objects.length; i !== n; ++i) {\n        var object = objects[i];\n        bindingsForPath[i] = new PropertyBinding(object, path, parsedPath);\n      }\n\n      return bindingsForPath;\n    },\n\n    unsubscribe_: function (path) {\n      // tells the group to forget about a property path and no longer\n      // update the array previously obtained with 'subscribe_'\n\n      var indicesByPath = this._bindingsIndicesByPath,\n        index = indicesByPath[path];\n\n      if (index !== undefined) {\n        var paths = this._paths,\n          parsedPaths = this._parsedPaths,\n          bindings = this._bindings,\n          lastBindingsIndex = bindings.length - 1,\n          lastBindings = bindings[lastBindingsIndex],\n          lastBindingsPath = path[lastBindingsIndex];\n\n        indicesByPath[lastBindingsPath] = index;\n\n        bindings[index] = lastBindings;\n        bindings.pop();\n\n        parsedPaths[index] = parsedPaths[lastBindingsIndex];\n        parsedPaths.pop();\n\n        paths[index] = paths[lastBindingsIndex];\n        paths.pop();\n      }\n    },\n  });\n\n  /**\n   *\n   * Action provided by AnimationMixer for scheduling clip playback on specific\n   * objects.\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   *\n   */\n\n  function AnimationAction(mixer, clip, localRoot) {\n    this._mixer = mixer;\n    this._clip = clip;\n    this._localRoot = localRoot || null;\n\n    var tracks = clip.tracks,\n      nTracks = tracks.length,\n      interpolants = new Array(nTracks);\n\n    var interpolantSettings = {\n      endingStart: ZeroCurvatureEnding,\n      endingEnd: ZeroCurvatureEnding,\n    };\n\n    for (var i = 0; i !== nTracks; ++i) {\n      var interpolant = tracks[i].createInterpolant(null);\n      interpolants[i] = interpolant;\n      interpolant.settings = interpolantSettings;\n    }\n\n    this._interpolantSettings = interpolantSettings;\n\n    this._interpolants = interpolants; // bound by the mixer\n\n    // inside: PropertyMixer (managed by the mixer)\n    this._propertyBindings = new Array(nTracks);\n\n    this._cacheIndex = null; // for the memory manager\n    this._byClipCacheIndex = null; // for the memory manager\n\n    this._timeScaleInterpolant = null;\n    this._weightInterpolant = null;\n\n    this.loop = LoopRepeat;\n    this._loopCount = -1;\n\n    // global mixer time when the action is to be started\n    // it's set back to 'null' upon start of the action\n    this._startTime = null;\n\n    // scaled local time of the action\n    // gets clamped or wrapped to 0..clip.duration according to loop\n    this.time = 0;\n\n    this.timeScale = 1;\n    this._effectiveTimeScale = 1;\n\n    this.weight = 1;\n    this._effectiveWeight = 1;\n\n    this.repetitions = Infinity; // no. of repetitions when looping\n\n    this.paused = false; // true -> zero effective time scale\n    this.enabled = true; // false -> zero effective weight\n\n    this.clampWhenFinished = false; // keep feeding the last frame?\n\n    this.zeroSlopeAtStart = true; // for smooth interpolation w/o separate\n    this.zeroSlopeAtEnd = true; // clips for start, loop and end\n  }\n\n  Object.assign(AnimationAction.prototype, {\n    // State & Scheduling\n\n    play: function () {\n      this._mixer._activateAction(this);\n\n      return this;\n    },\n\n    stop: function () {\n      this._mixer._deactivateAction(this);\n\n      return this.reset();\n    },\n\n    reset: function () {\n      this.paused = false;\n      this.enabled = true;\n\n      this.time = 0; // restart clip\n      this._loopCount = -1; // forget previous loops\n      this._startTime = null; // forget scheduling\n\n      return this.stopFading().stopWarping();\n    },\n\n    isRunning: function () {\n      return (\n        this.enabled &&\n        !this.paused &&\n        this.timeScale !== 0 &&\n        this._startTime === null &&\n        this._mixer._isActiveAction(this)\n      );\n    },\n\n    // return true when play has been called\n    isScheduled: function () {\n      return this._mixer._isActiveAction(this);\n    },\n\n    startAt: function (time) {\n      this._startTime = time;\n\n      return this;\n    },\n\n    setLoop: function (mode, repetitions) {\n      this.loop = mode;\n      this.repetitions = repetitions;\n\n      return this;\n    },\n\n    // Weight\n\n    // set the weight stopping any scheduled fading\n    // although .enabled = false yields an effective weight of zero, this\n    // method does *not* change .enabled, because it would be confusing\n    setEffectiveWeight: function (weight) {\n      this.weight = weight;\n\n      // note: same logic as when updated at runtime\n      this._effectiveWeight = this.enabled ? weight : 0;\n\n      return this.stopFading();\n    },\n\n    // return the weight considering fading and .enabled\n    getEffectiveWeight: function () {\n      return this._effectiveWeight;\n    },\n\n    fadeIn: function (duration) {\n      return this._scheduleFading(duration, 0, 1);\n    },\n\n    fadeOut: function (duration) {\n      return this._scheduleFading(duration, 1, 0);\n    },\n\n    crossFadeFrom: function (fadeOutAction, duration, warp) {\n      fadeOutAction.fadeOut(duration);\n      this.fadeIn(duration);\n\n      if (warp) {\n        var fadeInDuration = this._clip.duration,\n          fadeOutDuration = fadeOutAction._clip.duration,\n          startEndRatio = fadeOutDuration / fadeInDuration,\n          endStartRatio = fadeInDuration / fadeOutDuration;\n\n        fadeOutAction.warp(1.0, startEndRatio, duration);\n        this.warp(endStartRatio, 1.0, duration);\n      }\n\n      return this;\n    },\n\n    crossFadeTo: function (fadeInAction, duration, warp) {\n      return fadeInAction.crossFadeFrom(this, duration, warp);\n    },\n\n    stopFading: function () {\n      var weightInterpolant = this._weightInterpolant;\n\n      if (weightInterpolant !== null) {\n        this._weightInterpolant = null;\n        this._mixer._takeBackControlInterpolant(weightInterpolant);\n      }\n\n      return this;\n    },\n\n    // Time Scale Control\n\n    // set the time scale stopping any scheduled warping\n    // although .paused = true yields an effective time scale of zero, this\n    // method does *not* change .paused, because it would be confusing\n    setEffectiveTimeScale: function (timeScale) {\n      this.timeScale = timeScale;\n      this._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n      return this.stopWarping();\n    },\n\n    // return the time scale considering warping and .paused\n    getEffectiveTimeScale: function () {\n      return this._effectiveTimeScale;\n    },\n\n    setDuration: function (duration) {\n      this.timeScale = this._clip.duration / duration;\n\n      return this.stopWarping();\n    },\n\n    syncWith: function (action) {\n      this.time = action.time;\n      this.timeScale = action.timeScale;\n\n      return this.stopWarping();\n    },\n\n    halt: function (duration) {\n      return this.warp(this._effectiveTimeScale, 0, duration);\n    },\n\n    warp: function (startTimeScale, endTimeScale, duration) {\n      var mixer = this._mixer,\n        now = mixer.time,\n        interpolant = this._timeScaleInterpolant,\n        timeScale = this.timeScale;\n\n      if (interpolant === null) {\n        interpolant = mixer._lendControlInterpolant();\n        this._timeScaleInterpolant = interpolant;\n      }\n\n      var times = interpolant.parameterPositions,\n        values = interpolant.sampleValues;\n\n      times[0] = now;\n      times[1] = now + duration;\n\n      values[0] = startTimeScale / timeScale;\n      values[1] = endTimeScale / timeScale;\n\n      return this;\n    },\n\n    stopWarping: function () {\n      var timeScaleInterpolant = this._timeScaleInterpolant;\n\n      if (timeScaleInterpolant !== null) {\n        this._timeScaleInterpolant = null;\n        this._mixer._takeBackControlInterpolant(timeScaleInterpolant);\n      }\n\n      return this;\n    },\n\n    // Object Accessors\n\n    getMixer: function () {\n      return this._mixer;\n    },\n\n    getClip: function () {\n      return this._clip;\n    },\n\n    getRoot: function () {\n      return this._localRoot || this._mixer._root;\n    },\n\n    // Interna\n\n    _update: function (time, deltaTime, timeDirection, accuIndex) {\n      // called by the mixer\n\n      if (!this.enabled) {\n        // call ._updateWeight() to update ._effectiveWeight\n\n        this._updateWeight(time);\n        return;\n      }\n\n      var startTime = this._startTime;\n\n      if (startTime !== null) {\n        // check for scheduled start of action\n\n        var timeRunning = (time - startTime) * timeDirection;\n        if (timeRunning < 0 || timeDirection === 0) {\n          return; // yet to come / don't decide when delta = 0\n        }\n\n        // start\n\n        this._startTime = null; // unschedule\n        deltaTime = timeDirection * timeRunning;\n      }\n\n      // apply time scale and advance time\n\n      deltaTime *= this._updateTimeScale(time);\n      var clipTime = this._updateTime(deltaTime);\n\n      // note: _updateTime may disable the action resulting in\n      // an effective weight of 0\n\n      var weight = this._updateWeight(time);\n\n      if (weight > 0) {\n        var interpolants = this._interpolants;\n        var propertyMixers = this._propertyBindings;\n\n        for (var j = 0, m = interpolants.length; j !== m; ++j) {\n          interpolants[j].evaluate(clipTime);\n          propertyMixers[j].accumulate(accuIndex, weight);\n        }\n      }\n    },\n\n    _updateWeight: function (time) {\n      var weight = 0;\n\n      if (this.enabled) {\n        weight = this.weight;\n        var interpolant = this._weightInterpolant;\n\n        if (interpolant !== null) {\n          var interpolantValue = interpolant.evaluate(time)[0];\n\n          weight *= interpolantValue;\n\n          if (time > interpolant.parameterPositions[1]) {\n            this.stopFading();\n\n            if (interpolantValue === 0) {\n              // faded out, disable\n              this.enabled = false;\n            }\n          }\n        }\n      }\n\n      this._effectiveWeight = weight;\n      return weight;\n    },\n\n    _updateTimeScale: function (time) {\n      var timeScale = 0;\n\n      if (!this.paused) {\n        timeScale = this.timeScale;\n\n        var interpolant = this._timeScaleInterpolant;\n\n        if (interpolant !== null) {\n          var interpolantValue = interpolant.evaluate(time)[0];\n\n          timeScale *= interpolantValue;\n\n          if (time > interpolant.parameterPositions[1]) {\n            this.stopWarping();\n\n            if (timeScale === 0) {\n              // motion has halted, pause\n              this.paused = true;\n            } else {\n              // warp done - apply final time scale\n              this.timeScale = timeScale;\n            }\n          }\n        }\n      }\n\n      this._effectiveTimeScale = timeScale;\n      return timeScale;\n    },\n\n    _updateTime: function (deltaTime) {\n      var time = this.time + deltaTime;\n      var duration = this._clip.duration;\n      var loop = this.loop;\n      var loopCount = this._loopCount;\n\n      var pingPong = loop === LoopPingPong;\n\n      if (deltaTime === 0) {\n        if (loopCount === -1) {\n          return time;\n        }\n\n        return pingPong && (loopCount & 1) === 1 ? duration - time : time;\n      }\n\n      if (loop === LoopOnce) {\n        if (loopCount === -1) {\n          // just started\n\n          this._loopCount = 0;\n          this._setEndings(true, true, false);\n        }\n\n        handle_stop: {\n          if (time >= duration) {\n            time = duration;\n          } else if (time < 0) {\n            time = 0;\n          } else {\n            this.time = time;\n\n            break handle_stop;\n          }\n\n          if (this.clampWhenFinished) {\n            this.paused = true;\n          } else {\n            this.enabled = false;\n          }\n\n          this.time = time;\n\n          this._mixer.dispatchEvent({\n            type: \"finished\",\n            action: this,\n            direction: deltaTime < 0 ? -1 : 1,\n          });\n        }\n      } else {\n        // repetitive Repeat or PingPong\n\n        if (loopCount === -1) {\n          // just started\n\n          if (deltaTime >= 0) {\n            loopCount = 0;\n\n            this._setEndings(true, this.repetitions === 0, pingPong);\n          } else {\n            // when looping in reverse direction, the initial\n            // transition through zero counts as a repetition,\n            // so leave loopCount at -1\n\n            this._setEndings(this.repetitions === 0, true, pingPong);\n          }\n        }\n\n        if (time >= duration || time < 0) {\n          // wrap around\n\n          var loopDelta = Math.floor(time / duration); // signed\n          time -= duration * loopDelta;\n\n          loopCount += Math.abs(loopDelta);\n\n          var pending = this.repetitions - loopCount;\n\n          if (pending <= 0) {\n            // have to stop (switch state, clamp time, fire event)\n\n            if (this.clampWhenFinished) {\n              this.paused = true;\n            } else {\n              this.enabled = false;\n            }\n\n            time = deltaTime > 0 ? duration : 0;\n\n            this.time = time;\n\n            this._mixer.dispatchEvent({\n              type: \"finished\",\n              action: this,\n              direction: deltaTime > 0 ? 1 : -1,\n            });\n          } else {\n            // keep running\n\n            if (pending === 1) {\n              // entering the last round\n\n              var atStart = deltaTime < 0;\n              this._setEndings(atStart, !atStart, pingPong);\n            } else {\n              this._setEndings(false, false, pingPong);\n            }\n\n            this._loopCount = loopCount;\n\n            this.time = time;\n\n            this._mixer.dispatchEvent({\n              type: \"loop\",\n              action: this,\n              loopDelta: loopDelta,\n            });\n          }\n        } else {\n          this.time = time;\n        }\n\n        if (pingPong && (loopCount & 1) === 1) {\n          // invert time for the \"pong round\"\n\n          return duration - time;\n        }\n      }\n\n      return time;\n    },\n\n    _setEndings: function (atStart, atEnd, pingPong) {\n      var settings = this._interpolantSettings;\n\n      if (pingPong) {\n        settings.endingStart = ZeroSlopeEnding;\n        settings.endingEnd = ZeroSlopeEnding;\n      } else {\n        // assuming for LoopOnce atStart == atEnd == true\n\n        if (atStart) {\n          settings.endingStart = this.zeroSlopeAtStart\n            ? ZeroSlopeEnding\n            : ZeroCurvatureEnding;\n        } else {\n          settings.endingStart = WrapAroundEnding;\n        }\n\n        if (atEnd) {\n          settings.endingEnd = this.zeroSlopeAtEnd\n            ? ZeroSlopeEnding\n            : ZeroCurvatureEnding;\n        } else {\n          settings.endingEnd = WrapAroundEnding;\n        }\n      }\n    },\n\n    _scheduleFading: function (duration, weightNow, weightThen) {\n      var mixer = this._mixer,\n        now = mixer.time,\n        interpolant = this._weightInterpolant;\n\n      if (interpolant === null) {\n        interpolant = mixer._lendControlInterpolant();\n        this._weightInterpolant = interpolant;\n      }\n\n      var times = interpolant.parameterPositions,\n        values = interpolant.sampleValues;\n\n      times[0] = now;\n      values[0] = weightNow;\n      times[1] = now + duration;\n      values[1] = weightThen;\n\n      return this;\n    },\n  });\n\n  /**\n   *\n   * Player for AnimationClips.\n   *\n   *\n   * @author Ben Houston / http://clara.io/\n   * @author David Sarno / http://lighthaus.us/\n   * @author tschw\n   */\n\n  function AnimationMixer(root) {\n    this._root = root;\n    this._initMemoryManager();\n    this._accuIndex = 0;\n\n    this.time = 0;\n\n    this.timeScale = 1.0;\n  }\n\n  AnimationMixer.prototype = Object.assign(\n    Object.create(EventDispatcher.prototype),\n    {\n      constructor: AnimationMixer,\n\n      _bindAction: function (action, prototypeAction) {\n        var root = action._localRoot || this._root,\n          tracks = action._clip.tracks,\n          nTracks = tracks.length,\n          bindings = action._propertyBindings,\n          interpolants = action._interpolants,\n          rootUuid = root.uuid,\n          bindingsByRoot = this._bindingsByRootAndName,\n          bindingsByName = bindingsByRoot[rootUuid];\n\n        if (bindingsByName === undefined) {\n          bindingsByName = {};\n          bindingsByRoot[rootUuid] = bindingsByName;\n        }\n\n        for (var i = 0; i !== nTracks; ++i) {\n          var track = tracks[i],\n            trackName = track.name,\n            binding = bindingsByName[trackName];\n\n          if (binding !== undefined) {\n            bindings[i] = binding;\n          } else {\n            binding = bindings[i];\n\n            if (binding !== undefined) {\n              // existing binding, make sure the cache knows\n\n              if (binding._cacheIndex === null) {\n                ++binding.referenceCount;\n                this._addInactiveBinding(binding, rootUuid, trackName);\n              }\n\n              continue;\n            }\n\n            var path =\n              prototypeAction &&\n              prototypeAction._propertyBindings[i].binding.parsedPath;\n\n            binding = new PropertyMixer(\n              PropertyBinding.create(root, trackName, path),\n              track.ValueTypeName,\n              track.getValueSize()\n            );\n\n            ++binding.referenceCount;\n            this._addInactiveBinding(binding, rootUuid, trackName);\n\n            bindings[i] = binding;\n          }\n\n          interpolants[i].resultBuffer = binding.buffer;\n        }\n      },\n\n      _activateAction: function (action) {\n        if (!this._isActiveAction(action)) {\n          if (action._cacheIndex === null) {\n            // this action has been forgotten by the cache, but the user\n            // appears to be still using it -> rebind\n\n            var rootUuid = (action._localRoot || this._root).uuid,\n              clipUuid = action._clip.uuid,\n              actionsForClip = this._actionsByClip[clipUuid];\n\n            this._bindAction(\n              action,\n              actionsForClip && actionsForClip.knownActions[0]\n            );\n\n            this._addInactiveAction(action, clipUuid, rootUuid);\n          }\n\n          var bindings = action._propertyBindings;\n\n          // increment reference counts / sort out state\n          for (var i = 0, n = bindings.length; i !== n; ++i) {\n            var binding = bindings[i];\n\n            if (binding.useCount++ === 0) {\n              this._lendBinding(binding);\n              binding.saveOriginalState();\n            }\n          }\n\n          this._lendAction(action);\n        }\n      },\n\n      _deactivateAction: function (action) {\n        if (this._isActiveAction(action)) {\n          var bindings = action._propertyBindings;\n\n          // decrement reference counts / sort out state\n          for (var i = 0, n = bindings.length; i !== n; ++i) {\n            var binding = bindings[i];\n\n            if (--binding.useCount === 0) {\n              binding.restoreOriginalState();\n              this._takeBackBinding(binding);\n            }\n          }\n\n          this._takeBackAction(action);\n        }\n      },\n\n      // Memory manager\n\n      _initMemoryManager: function () {\n        this._actions = []; // 'nActiveActions' followed by inactive ones\n        this._nActiveActions = 0;\n\n        this._actionsByClip = {};\n        // inside:\n        // {\n        // \tknownActions: Array< AnimationAction > - used as prototypes\n        // \tactionByRoot: AnimationAction - lookup\n        // }\n\n        this._bindings = []; // 'nActiveBindings' followed by inactive ones\n        this._nActiveBindings = 0;\n\n        this._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n        this._controlInterpolants = []; // same game as above\n        this._nActiveControlInterpolants = 0;\n\n        var scope = this;\n\n        this.stats = {\n          actions: {\n            get total() {\n              return scope._actions.length;\n            },\n            get inUse() {\n              return scope._nActiveActions;\n            },\n          },\n          bindings: {\n            get total() {\n              return scope._bindings.length;\n            },\n            get inUse() {\n              return scope._nActiveBindings;\n            },\n          },\n          controlInterpolants: {\n            get total() {\n              return scope._controlInterpolants.length;\n            },\n            get inUse() {\n              return scope._nActiveControlInterpolants;\n            },\n          },\n        };\n      },\n\n      // Memory management for AnimationAction objects\n\n      _isActiveAction: function (action) {\n        var index = action._cacheIndex;\n        return index !== null && index < this._nActiveActions;\n      },\n\n      _addInactiveAction: function (action, clipUuid, rootUuid) {\n        var actions = this._actions,\n          actionsByClip = this._actionsByClip,\n          actionsForClip = actionsByClip[clipUuid];\n\n        if (actionsForClip === undefined) {\n          actionsForClip = {\n            knownActions: [action],\n            actionByRoot: {},\n          };\n\n          action._byClipCacheIndex = 0;\n\n          actionsByClip[clipUuid] = actionsForClip;\n        } else {\n          var knownActions = actionsForClip.knownActions;\n\n          action._byClipCacheIndex = knownActions.length;\n          knownActions.push(action);\n        }\n\n        action._cacheIndex = actions.length;\n        actions.push(action);\n\n        actionsForClip.actionByRoot[rootUuid] = action;\n      },\n\n      _removeInactiveAction: function (action) {\n        var actions = this._actions,\n          lastInactiveAction = actions[actions.length - 1],\n          cacheIndex = action._cacheIndex;\n\n        lastInactiveAction._cacheIndex = cacheIndex;\n        actions[cacheIndex] = lastInactiveAction;\n        actions.pop();\n\n        action._cacheIndex = null;\n\n        var clipUuid = action._clip.uuid,\n          actionsByClip = this._actionsByClip,\n          actionsForClip = actionsByClip[clipUuid],\n          knownActionsForClip = actionsForClip.knownActions,\n          lastKnownAction = knownActionsForClip[knownActionsForClip.length - 1],\n          byClipCacheIndex = action._byClipCacheIndex;\n\n        lastKnownAction._byClipCacheIndex = byClipCacheIndex;\n        knownActionsForClip[byClipCacheIndex] = lastKnownAction;\n        knownActionsForClip.pop();\n\n        action._byClipCacheIndex = null;\n\n        var actionByRoot = actionsForClip.actionByRoot,\n          rootUuid = (action._localRoot || this._root).uuid;\n\n        delete actionByRoot[rootUuid];\n\n        if (knownActionsForClip.length === 0) {\n          delete actionsByClip[clipUuid];\n        }\n\n        this._removeInactiveBindingsForAction(action);\n      },\n\n      _removeInactiveBindingsForAction: function (action) {\n        var bindings = action._propertyBindings;\n        for (var i = 0, n = bindings.length; i !== n; ++i) {\n          var binding = bindings[i];\n\n          if (--binding.referenceCount === 0) {\n            this._removeInactiveBinding(binding);\n          }\n        }\n      },\n\n      _lendAction: function (action) {\n        // [ active actions |  inactive actions  ]\n        // [  active actions >| inactive actions ]\n        //                 s        a\n        //                  <-swap->\n        //                 a        s\n\n        var actions = this._actions,\n          prevIndex = action._cacheIndex,\n          lastActiveIndex = this._nActiveActions++,\n          firstInactiveAction = actions[lastActiveIndex];\n\n        action._cacheIndex = lastActiveIndex;\n        actions[lastActiveIndex] = action;\n\n        firstInactiveAction._cacheIndex = prevIndex;\n        actions[prevIndex] = firstInactiveAction;\n      },\n\n      _takeBackAction: function (action) {\n        // [  active actions  | inactive actions ]\n        // [ active actions |< inactive actions  ]\n        //        a        s\n        //         <-swap->\n        //        s        a\n\n        var actions = this._actions,\n          prevIndex = action._cacheIndex,\n          firstInactiveIndex = --this._nActiveActions,\n          lastActiveAction = actions[firstInactiveIndex];\n\n        action._cacheIndex = firstInactiveIndex;\n        actions[firstInactiveIndex] = action;\n\n        lastActiveAction._cacheIndex = prevIndex;\n        actions[prevIndex] = lastActiveAction;\n      },\n\n      // Memory management for PropertyMixer objects\n\n      _addInactiveBinding: function (binding, rootUuid, trackName) {\n        var bindingsByRoot = this._bindingsByRootAndName,\n          bindingByName = bindingsByRoot[rootUuid],\n          bindings = this._bindings;\n\n        if (bindingByName === undefined) {\n          bindingByName = {};\n          bindingsByRoot[rootUuid] = bindingByName;\n        }\n\n        bindingByName[trackName] = binding;\n\n        binding._cacheIndex = bindings.length;\n        bindings.push(binding);\n      },\n\n      _removeInactiveBinding: function (binding) {\n        var bindings = this._bindings,\n          propBinding = binding.binding,\n          rootUuid = propBinding.rootNode.uuid,\n          trackName = propBinding.path,\n          bindingsByRoot = this._bindingsByRootAndName,\n          bindingByName = bindingsByRoot[rootUuid],\n          lastInactiveBinding = bindings[bindings.length - 1],\n          cacheIndex = binding._cacheIndex;\n\n        lastInactiveBinding._cacheIndex = cacheIndex;\n        bindings[cacheIndex] = lastInactiveBinding;\n        bindings.pop();\n\n        delete bindingByName[trackName];\n\n        if (Object.keys(bindingByName).length === 0) {\n          delete bindingsByRoot[rootUuid];\n        }\n      },\n\n      _lendBinding: function (binding) {\n        var bindings = this._bindings,\n          prevIndex = binding._cacheIndex,\n          lastActiveIndex = this._nActiveBindings++,\n          firstInactiveBinding = bindings[lastActiveIndex];\n\n        binding._cacheIndex = lastActiveIndex;\n        bindings[lastActiveIndex] = binding;\n\n        firstInactiveBinding._cacheIndex = prevIndex;\n        bindings[prevIndex] = firstInactiveBinding;\n      },\n\n      _takeBackBinding: function (binding) {\n        var bindings = this._bindings,\n          prevIndex = binding._cacheIndex,\n          firstInactiveIndex = --this._nActiveBindings,\n          lastActiveBinding = bindings[firstInactiveIndex];\n\n        binding._cacheIndex = firstInactiveIndex;\n        bindings[firstInactiveIndex] = binding;\n\n        lastActiveBinding._cacheIndex = prevIndex;\n        bindings[prevIndex] = lastActiveBinding;\n      },\n\n      // Memory management of Interpolants for weight and time scale\n\n      _lendControlInterpolant: function () {\n        var interpolants = this._controlInterpolants,\n          lastActiveIndex = this._nActiveControlInterpolants++,\n          interpolant = interpolants[lastActiveIndex];\n\n        if (interpolant === undefined) {\n          interpolant = new LinearInterpolant(\n            new Float32Array(2),\n            new Float32Array(2),\n            1,\n            this._controlInterpolantsResultBuffer\n          );\n\n          interpolant.__cacheIndex = lastActiveIndex;\n          interpolants[lastActiveIndex] = interpolant;\n        }\n\n        return interpolant;\n      },\n\n      _takeBackControlInterpolant: function (interpolant) {\n        var interpolants = this._controlInterpolants,\n          prevIndex = interpolant.__cacheIndex,\n          firstInactiveIndex = --this._nActiveControlInterpolants,\n          lastActiveInterpolant = interpolants[firstInactiveIndex];\n\n        interpolant.__cacheIndex = firstInactiveIndex;\n        interpolants[firstInactiveIndex] = interpolant;\n\n        lastActiveInterpolant.__cacheIndex = prevIndex;\n        interpolants[prevIndex] = lastActiveInterpolant;\n      },\n\n      _controlInterpolantsResultBuffer: new Float32Array(1),\n\n      // return an action for a clip optionally using a custom root target\n      // object (this method allocates a lot of dynamic memory in case a\n      // previously unknown clip/root combination is specified)\n      clipAction: function (clip, optionalRoot) {\n        var root = optionalRoot || this._root,\n          rootUuid = root.uuid,\n          clipObject =\n            typeof clip === \"string\"\n              ? AnimationClip.findByName(root, clip)\n              : clip,\n          clipUuid = clipObject !== null ? clipObject.uuid : clip,\n          actionsForClip = this._actionsByClip[clipUuid],\n          prototypeAction = null;\n\n        if (actionsForClip !== undefined) {\n          var existingAction = actionsForClip.actionByRoot[rootUuid];\n\n          if (existingAction !== undefined) {\n            return existingAction;\n          }\n\n          // we know the clip, so we don't have to parse all\n          // the bindings again but can just copy\n          prototypeAction = actionsForClip.knownActions[0];\n\n          // also, take the clip from the prototype action\n          if (clipObject === null) {\n            clipObject = prototypeAction._clip;\n          }\n        }\n\n        // clip must be known when specified via string\n        if (clipObject === null) {\n          return null;\n        }\n\n        // allocate all resources required to run it\n        var newAction = new AnimationAction(this, clipObject, optionalRoot);\n\n        this._bindAction(newAction, prototypeAction);\n\n        // and make the action known to the memory manager\n        this._addInactiveAction(newAction, clipUuid, rootUuid);\n\n        return newAction;\n      },\n\n      // get an existing action\n      existingAction: function (clip, optionalRoot) {\n        var root = optionalRoot || this._root,\n          rootUuid = root.uuid,\n          clipObject =\n            typeof clip === \"string\"\n              ? AnimationClip.findByName(root, clip)\n              : clip,\n          clipUuid = clipObject ? clipObject.uuid : clip,\n          actionsForClip = this._actionsByClip[clipUuid];\n\n        if (actionsForClip !== undefined) {\n          return actionsForClip.actionByRoot[rootUuid] || null;\n        }\n\n        return null;\n      },\n\n      // deactivates all previously scheduled actions\n      stopAllAction: function () {\n        var actions = this._actions,\n          nActions = this._nActiveActions,\n          bindings = this._bindings,\n          nBindings = this._nActiveBindings;\n\n        this._nActiveActions = 0;\n        this._nActiveBindings = 0;\n\n        for (var i = 0; i !== nActions; ++i) {\n          actions[i].reset();\n        }\n\n        for (var i = 0; i !== nBindings; ++i) {\n          bindings[i].useCount = 0;\n        }\n\n        return this;\n      },\n\n      // advance the time and update apply the animation\n      update: function (deltaTime) {\n        deltaTime *= this.timeScale;\n\n        var actions = this._actions,\n          nActions = this._nActiveActions,\n          time = (this.time += deltaTime),\n          timeDirection = Math.sign(deltaTime),\n          accuIndex = (this._accuIndex ^= 1);\n\n        // run active actions\n\n        for (var i = 0; i !== nActions; ++i) {\n          var action = actions[i];\n\n          action._update(time, deltaTime, timeDirection, accuIndex);\n        }\n\n        // update scene graph\n\n        var bindings = this._bindings,\n          nBindings = this._nActiveBindings;\n\n        for (var i = 0; i !== nBindings; ++i) {\n          bindings[i].apply(accuIndex);\n        }\n\n        return this;\n      },\n\n      // Allows you to seek to a specific time in an animation.\n      setTime: function (timeInSeconds) {\n        this.time = 0; // Zero out time attribute for AnimationMixer object;\n        for (var i = 0; i < this._actions.length; i++) {\n          this._actions[i].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n        }\n\n        return this.update(timeInSeconds); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n      },\n\n      // return this mixer's root target object\n      getRoot: function () {\n        return this._root;\n      },\n\n      // free all resources specific to a particular clip\n      uncacheClip: function (clip) {\n        var actions = this._actions,\n          clipUuid = clip.uuid,\n          actionsByClip = this._actionsByClip,\n          actionsForClip = actionsByClip[clipUuid];\n\n        if (actionsForClip !== undefined) {\n          // note: just calling _removeInactiveAction would mess up the\n          // iteration state and also require updating the state we can\n          // just throw away\n\n          var actionsToRemove = actionsForClip.knownActions;\n\n          for (var i = 0, n = actionsToRemove.length; i !== n; ++i) {\n            var action = actionsToRemove[i];\n\n            this._deactivateAction(action);\n\n            var cacheIndex = action._cacheIndex,\n              lastInactiveAction = actions[actions.length - 1];\n\n            action._cacheIndex = null;\n            action._byClipCacheIndex = null;\n\n            lastInactiveAction._cacheIndex = cacheIndex;\n            actions[cacheIndex] = lastInactiveAction;\n            actions.pop();\n\n            this._removeInactiveBindingsForAction(action);\n          }\n\n          delete actionsByClip[clipUuid];\n        }\n      },\n\n      // free all resources specific to a particular root target object\n      uncacheRoot: function (root) {\n        var rootUuid = root.uuid,\n          actionsByClip = this._actionsByClip;\n\n        for (var clipUuid in actionsByClip) {\n          var actionByRoot = actionsByClip[clipUuid].actionByRoot,\n            action = actionByRoot[rootUuid];\n\n          if (action !== undefined) {\n            this._deactivateAction(action);\n            this._removeInactiveAction(action);\n          }\n        }\n\n        var bindingsByRoot = this._bindingsByRootAndName,\n          bindingByName = bindingsByRoot[rootUuid];\n\n        if (bindingByName !== undefined) {\n          for (var trackName in bindingByName) {\n            var binding = bindingByName[trackName];\n            binding.restoreOriginalState();\n            this._removeInactiveBinding(binding);\n          }\n        }\n      },\n\n      // remove a targeted clip from the cache\n      uncacheAction: function (clip, optionalRoot) {\n        var action = this.existingAction(clip, optionalRoot);\n\n        if (action !== null) {\n          this._deactivateAction(action);\n          this._removeInactiveAction(action);\n        }\n      },\n    }\n  );\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Uniform(value) {\n    if (typeof value === \"string\") {\n      console.warn(\"THREE.Uniform: Type parameter is no longer needed.\");\n      value = arguments[1];\n    }\n\n    this.value = value;\n  }\n\n  Uniform.prototype.clone = function () {\n    return new Uniform(\n      this.value.clone === undefined ? this.value : this.value.clone()\n    );\n  };\n\n  /**\n   * @author benaadams / https://twitter.com/ben_a_adams\n   */\n\n  function InstancedInterleavedBuffer(array, stride, meshPerAttribute) {\n    InterleavedBuffer.call(this, array, stride);\n\n    this.meshPerAttribute = meshPerAttribute || 1;\n  }\n\n  InstancedInterleavedBuffer.prototype = Object.assign(\n    Object.create(InterleavedBuffer.prototype),\n    {\n      constructor: InstancedInterleavedBuffer,\n\n      isInstancedInterleavedBuffer: true,\n\n      copy: function (source) {\n        InterleavedBuffer.prototype.copy.call(this, source);\n\n        this.meshPerAttribute = source.meshPerAttribute;\n\n        return this;\n      },\n    }\n  );\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author bhouston / http://clara.io/\n   * @author stephomi / http://stephaneginier.com/\n   */\n\n  function Raycaster(origin, direction, near, far) {\n    this.ray = new Ray(origin, direction);\n    // direction is assumed to be normalized (for accurate distance calculations)\n\n    this.near = near || 0;\n    this.far = far || Infinity;\n    this.camera = null;\n\n    this.params = {\n      Mesh: {},\n      Line: {},\n      LOD: {},\n      Points: {\n        threshold: 1,\n      },\n      Sprite: {},\n    };\n\n    Object.defineProperties(this.params, {\n      PointCloud: {\n        get: function () {\n          console.warn(\n            \"THREE.Raycaster: params.PointCloud has been renamed to params.Points.\"\n          );\n          return this.Points;\n        },\n      },\n    });\n  }\n\n  function ascSort(a, b) {\n    return a.distance - b.distance;\n  }\n\n  function intersectObject(object, raycaster, intersects, recursive) {\n    if (object.visible === false) {\n      return;\n    }\n\n    object.raycast(raycaster, intersects);\n\n    if (recursive === true) {\n      var children = object.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        intersectObject(children[i], raycaster, intersects, true);\n      }\n    }\n  }\n\n  Object.assign(Raycaster.prototype, {\n    linePrecision: 1,\n\n    set: function (origin, direction) {\n      // direction is assumed to be normalized (for accurate distance calculations)\n\n      this.ray.set(origin, direction);\n    },\n\n    setFromCamera: function (coords, camera) {\n      if (camera && camera.isPerspectiveCamera) {\n        this.ray.origin.setFromMatrixPosition(camera.matrixWorld);\n        this.ray.direction\n          .set(coords.x, coords.y, 0.5)\n          .unproject(camera)\n          .sub(this.ray.origin)\n          .normalize();\n        this.camera = camera;\n      } else if (camera && camera.isOrthographicCamera) {\n        this.ray.origin\n          .set(\n            coords.x,\n            coords.y,\n            (camera.near + camera.far) / (camera.near - camera.far)\n          )\n          .unproject(camera); // set origin in plane of camera\n        this.ray.direction.set(0, 0, -1).transformDirection(camera.matrixWorld);\n        this.camera = camera;\n      } else {\n        console.error(\"THREE.Raycaster: Unsupported camera type.\");\n      }\n    },\n\n    intersectObject: function (object, recursive, optionalTarget) {\n      var intersects = optionalTarget || [];\n\n      intersectObject(object, this, intersects, recursive);\n\n      intersects.sort(ascSort);\n\n      return intersects;\n    },\n\n    intersectObjects: function (objects, recursive, optionalTarget) {\n      var intersects = optionalTarget || [];\n\n      if (Array.isArray(objects) === false) {\n        console.warn(\n          \"THREE.Raycaster.intersectObjects: objects is not an Array.\"\n        );\n        return intersects;\n      }\n\n      for (var i = 0, l = objects.length; i < l; i++) {\n        intersectObject(objects[i], this, intersects, recursive);\n      }\n\n      intersects.sort(ascSort);\n\n      return intersects;\n    },\n  });\n\n  /**\n   * @author bhouston / http://clara.io\n   * @author WestLangley / http://github.com/WestLangley\n   *\n   * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n   *\n   * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n   * The azimuthal angle (theta) is measured from the positive z-axis.\n   */\n\n  function Spherical(radius, phi, theta) {\n    this.radius = radius !== undefined ? radius : 1.0;\n    this.phi = phi !== undefined ? phi : 0; // polar angle\n    this.theta = theta !== undefined ? theta : 0; // azimuthal angle\n\n    return this;\n  }\n\n  Object.assign(Spherical.prototype, {\n    set: function (radius, phi, theta) {\n      this.radius = radius;\n      this.phi = phi;\n      this.theta = theta;\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (other) {\n      this.radius = other.radius;\n      this.phi = other.phi;\n      this.theta = other.theta;\n\n      return this;\n    },\n\n    // restrict phi to be betwee EPS and PI-EPS\n    makeSafe: function () {\n      var EPS = 0.000001;\n      this.phi = Math.max(EPS, Math.min(Math.PI - EPS, this.phi));\n\n      return this;\n    },\n\n    setFromVector3: function (v) {\n      return this.setFromCartesianCoords(v.x, v.y, v.z);\n    },\n\n    setFromCartesianCoords: function (x, y, z) {\n      this.radius = Math.sqrt(x * x + y * y + z * z);\n\n      if (this.radius === 0) {\n        this.theta = 0;\n        this.phi = 0;\n      } else {\n        this.theta = Math.atan2(x, z);\n        this.phi = Math.acos(_Math.clamp(y / this.radius, -1, 1));\n      }\n\n      return this;\n    },\n  });\n\n  /**\n   * @author Mugen87 / https://github.com/Mugen87\n   *\n   * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n   *\n   */\n\n  function Cylindrical(radius, theta, y) {\n    this.radius = radius !== undefined ? radius : 1.0; // distance from the origin to a point in the x-z plane\n    this.theta = theta !== undefined ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n    this.y = y !== undefined ? y : 0; // height above the x-z plane\n\n    return this;\n  }\n\n  Object.assign(Cylindrical.prototype, {\n    set: function (radius, theta, y) {\n      this.radius = radius;\n      this.theta = theta;\n      this.y = y;\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (other) {\n      this.radius = other.radius;\n      this.theta = other.theta;\n      this.y = other.y;\n\n      return this;\n    },\n\n    setFromVector3: function (v) {\n      return this.setFromCartesianCoords(v.x, v.y, v.z);\n    },\n\n    setFromCartesianCoords: function (x, y, z) {\n      this.radius = Math.sqrt(x * x + z * z);\n      this.theta = Math.atan2(x, z);\n      this.y = y;\n\n      return this;\n    },\n  });\n\n  /**\n   * @author bhouston / http://clara.io\n   */\n\n  var _vector$8 = new Vector2();\n\n  function Box2(min, max) {\n    this.min = min !== undefined ? min : new Vector2(+Infinity, +Infinity);\n    this.max = max !== undefined ? max : new Vector2(-Infinity, -Infinity);\n  }\n\n  Object.assign(Box2.prototype, {\n    set: function (min, max) {\n      this.min.copy(min);\n      this.max.copy(max);\n\n      return this;\n    },\n\n    setFromPoints: function (points) {\n      this.makeEmpty();\n\n      for (var i = 0, il = points.length; i < il; i++) {\n        this.expandByPoint(points[i]);\n      }\n\n      return this;\n    },\n\n    setFromCenterAndSize: function (center, size) {\n      var halfSize = _vector$8.copy(size).multiplyScalar(0.5);\n      this.min.copy(center).sub(halfSize);\n      this.max.copy(center).add(halfSize);\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (box) {\n      this.min.copy(box.min);\n      this.max.copy(box.max);\n\n      return this;\n    },\n\n    makeEmpty: function () {\n      this.min.x = this.min.y = +Infinity;\n      this.max.x = this.max.y = -Infinity;\n\n      return this;\n    },\n\n    isEmpty: function () {\n      // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n      return this.max.x < this.min.x || this.max.y < this.min.y;\n    },\n\n    getCenter: function (target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Box2: .getCenter() target is now required\");\n        target = new Vector2();\n      }\n\n      return this.isEmpty()\n        ? target.set(0, 0)\n        : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n    },\n\n    getSize: function (target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Box2: .getSize() target is now required\");\n        target = new Vector2();\n      }\n\n      return this.isEmpty()\n        ? target.set(0, 0)\n        : target.subVectors(this.max, this.min);\n    },\n\n    expandByPoint: function (point) {\n      this.min.min(point);\n      this.max.max(point);\n\n      return this;\n    },\n\n    expandByVector: function (vector) {\n      this.min.sub(vector);\n      this.max.add(vector);\n\n      return this;\n    },\n\n    expandByScalar: function (scalar) {\n      this.min.addScalar(-scalar);\n      this.max.addScalar(scalar);\n\n      return this;\n    },\n\n    containsPoint: function (point) {\n      return point.x < this.min.x ||\n        point.x > this.max.x ||\n        point.y < this.min.y ||\n        point.y > this.max.y\n        ? false\n        : true;\n    },\n\n    containsBox: function (box) {\n      return (\n        this.min.x <= box.min.x &&\n        box.max.x <= this.max.x &&\n        this.min.y <= box.min.y &&\n        box.max.y <= this.max.y\n      );\n    },\n\n    getParameter: function (point, target) {\n      // This can potentially have a divide by zero if the box\n      // has a size dimension of 0.\n\n      if (target === undefined) {\n        console.warn(\"THREE.Box2: .getParameter() target is now required\");\n        target = new Vector2();\n      }\n\n      return target.set(\n        (point.x - this.min.x) / (this.max.x - this.min.x),\n        (point.y - this.min.y) / (this.max.y - this.min.y)\n      );\n    },\n\n    intersectsBox: function (box) {\n      // using 4 splitting planes to rule out intersections\n\n      return box.max.x < this.min.x ||\n        box.min.x > this.max.x ||\n        box.max.y < this.min.y ||\n        box.min.y > this.max.y\n        ? false\n        : true;\n    },\n\n    clampPoint: function (point, target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Box2: .clampPoint() target is now required\");\n        target = new Vector2();\n      }\n\n      return target.copy(point).clamp(this.min, this.max);\n    },\n\n    distanceToPoint: function (point) {\n      var clampedPoint = _vector$8.copy(point).clamp(this.min, this.max);\n      return clampedPoint.sub(point).length();\n    },\n\n    intersect: function (box) {\n      this.min.max(box.min);\n      this.max.min(box.max);\n\n      return this;\n    },\n\n    union: function (box) {\n      this.min.min(box.min);\n      this.max.max(box.max);\n\n      return this;\n    },\n\n    translate: function (offset) {\n      this.min.add(offset);\n      this.max.add(offset);\n\n      return this;\n    },\n\n    equals: function (box) {\n      return box.min.equals(this.min) && box.max.equals(this.max);\n    },\n  });\n\n  /**\n   * @author bhouston / http://clara.io\n   */\n\n  var _startP = new Vector3();\n  var _startEnd = new Vector3();\n\n  function Line3(start, end) {\n    this.start = start !== undefined ? start : new Vector3();\n    this.end = end !== undefined ? end : new Vector3();\n  }\n\n  Object.assign(Line3.prototype, {\n    set: function (start, end) {\n      this.start.copy(start);\n      this.end.copy(end);\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n\n    copy: function (line) {\n      this.start.copy(line.start);\n      this.end.copy(line.end);\n\n      return this;\n    },\n\n    getCenter: function (target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Line3: .getCenter() target is now required\");\n        target = new Vector3();\n      }\n\n      return target.addVectors(this.start, this.end).multiplyScalar(0.5);\n    },\n\n    delta: function (target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Line3: .delta() target is now required\");\n        target = new Vector3();\n      }\n\n      return target.subVectors(this.end, this.start);\n    },\n\n    distanceSq: function () {\n      return this.start.distanceToSquared(this.end);\n    },\n\n    distance: function () {\n      return this.start.distanceTo(this.end);\n    },\n\n    at: function (t, target) {\n      if (target === undefined) {\n        console.warn(\"THREE.Line3: .at() target is now required\");\n        target = new Vector3();\n      }\n\n      return this.delta(target).multiplyScalar(t).add(this.start);\n    },\n\n    closestPointToPointParameter: function (point, clampToLine) {\n      _startP.subVectors(point, this.start);\n      _startEnd.subVectors(this.end, this.start);\n\n      var startEnd2 = _startEnd.dot(_startEnd);\n      var startEnd_startP = _startEnd.dot(_startP);\n\n      var t = startEnd_startP / startEnd2;\n\n      if (clampToLine) {\n        t = _Math.clamp(t, 0, 1);\n      }\n\n      return t;\n    },\n\n    closestPointToPoint: function (point, clampToLine, target) {\n      var t = this.closestPointToPointParameter(point, clampToLine);\n\n      if (target === undefined) {\n        console.warn(\n          \"THREE.Line3: .closestPointToPoint() target is now required\"\n        );\n        target = new Vector3();\n      }\n\n      return this.delta(target).multiplyScalar(t).add(this.start);\n    },\n\n    applyMatrix4: function (matrix) {\n      this.start.applyMatrix4(matrix);\n      this.end.applyMatrix4(matrix);\n\n      return this;\n    },\n\n    equals: function (line) {\n      return line.start.equals(this.start) && line.end.equals(this.end);\n    },\n  });\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\n  function ImmediateRenderObject(material) {\n    Object3D.call(this);\n\n    this.material = material;\n    this.render = function (/* renderCallback */) {};\n  }\n\n  ImmediateRenderObject.prototype = Object.create(Object3D.prototype);\n  ImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\n  ImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  var _vector$9 = new Vector3();\n\n  function SpotLightHelper(light, color) {\n    Object3D.call(this);\n\n    this.light = light;\n    this.light.updateMatrixWorld();\n\n    this.matrix = light.matrixWorld;\n    this.matrixAutoUpdate = false;\n\n    this.color = color;\n\n    var geometry = new BufferGeometry();\n\n    var positions = [\n      0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1,\n      0, 0, 0, 0, -1, 1,\n    ];\n\n    for (var i = 0, j = 1, l = 32; i < l; i++, j++) {\n      var p1 = (i / l) * Math.PI * 2;\n      var p2 = (j / l) * Math.PI * 2;\n\n      positions.push(\n        Math.cos(p1),\n        Math.sin(p1),\n        1,\n        Math.cos(p2),\n        Math.sin(p2),\n        1\n      );\n    }\n\n    geometry.setAttribute(\"position\", new Float32BufferAttribute(positions, 3));\n\n    var material = new LineBasicMaterial({\n      fog: false,\n    });\n\n    this.cone = new LineSegments(geometry, material);\n    this.add(this.cone);\n\n    this.update();\n  }\n\n  SpotLightHelper.prototype = Object.create(Object3D.prototype);\n  SpotLightHelper.prototype.constructor = SpotLightHelper;\n\n  SpotLightHelper.prototype.dispose = function () {\n    this.cone.geometry.dispose();\n    this.cone.material.dispose();\n  };\n\n  SpotLightHelper.prototype.update = function () {\n    this.light.updateMatrixWorld();\n\n    var coneLength = this.light.distance ? this.light.distance : 1000;\n    var coneWidth = coneLength * Math.tan(this.light.angle);\n\n    this.cone.scale.set(coneWidth, coneWidth, coneLength);\n\n    _vector$9.setFromMatrixPosition(this.light.target.matrixWorld);\n\n    this.cone.lookAt(_vector$9);\n\n    if (this.color !== undefined) {\n      this.cone.material.color.set(this.color);\n    } else {\n      this.cone.material.color.copy(this.light.color);\n    }\n  };\n\n  /**\n   * @author Sean Griffin / http://twitter.com/sgrif\n   * @author Michael Guerrero / http://realitymeltdown.com\n   * @author mrdoob / http://mrdoob.com/\n   * @author ikerr / http://verold.com\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  var _vector$a = new Vector3();\n  var _boneMatrix = new Matrix4();\n  var _matrixWorldInv = new Matrix4();\n\n  function getBoneList(object) {\n    var boneList = [];\n\n    if (object && object.isBone) {\n      boneList.push(object);\n    }\n\n    for (var i = 0; i < object.children.length; i++) {\n      boneList.push.apply(boneList, getBoneList(object.children[i]));\n    }\n\n    return boneList;\n  }\n\n  function SkeletonHelper(object) {\n    var bones = getBoneList(object);\n\n    var geometry = new BufferGeometry();\n\n    var vertices = [];\n    var colors = [];\n\n    var color1 = new Color(0, 0, 1);\n    var color2 = new Color(0, 1, 0);\n\n    for (var i = 0; i < bones.length; i++) {\n      var bone = bones[i];\n\n      if (bone.parent && bone.parent.isBone) {\n        vertices.push(0, 0, 0);\n        vertices.push(0, 0, 0);\n        colors.push(color1.r, color1.g, color1.b);\n        colors.push(color2.r, color2.g, color2.b);\n      }\n    }\n\n    geometry.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    geometry.setAttribute(\"color\", new Float32BufferAttribute(colors, 3));\n\n    var material = new LineBasicMaterial({\n      vertexColors: VertexColors,\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n    });\n\n    LineSegments.call(this, geometry, material);\n\n    this.root = object;\n    this.bones = bones;\n\n    this.matrix = object.matrixWorld;\n    this.matrixAutoUpdate = false;\n  }\n\n  SkeletonHelper.prototype = Object.create(LineSegments.prototype);\n  SkeletonHelper.prototype.constructor = SkeletonHelper;\n\n  SkeletonHelper.prototype.updateMatrixWorld = function (force) {\n    var bones = this.bones;\n\n    var geometry = this.geometry;\n    var position = geometry.getAttribute(\"position\");\n\n    _matrixWorldInv.getInverse(this.root.matrixWorld);\n\n    for (var i = 0, j = 0; i < bones.length; i++) {\n      var bone = bones[i];\n\n      if (bone.parent && bone.parent.isBone) {\n        _boneMatrix.multiplyMatrices(_matrixWorldInv, bone.matrixWorld);\n        _vector$a.setFromMatrixPosition(_boneMatrix);\n        position.setXYZ(j, _vector$a.x, _vector$a.y, _vector$a.z);\n\n        _boneMatrix.multiplyMatrices(_matrixWorldInv, bone.parent.matrixWorld);\n        _vector$a.setFromMatrixPosition(_boneMatrix);\n        position.setXYZ(j + 1, _vector$a.x, _vector$a.y, _vector$a.z);\n\n        j += 2;\n      }\n    }\n\n    geometry.getAttribute(\"position\").needsUpdate = true;\n\n    Object3D.prototype.updateMatrixWorld.call(this, force);\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function PointLightHelper(light, sphereSize, color) {\n    this.light = light;\n    this.light.updateMatrixWorld();\n\n    this.color = color;\n\n    var geometry = new SphereBufferGeometry(sphereSize, 4, 2);\n    var material = new MeshBasicMaterial({\n      wireframe: true,\n      fog: false,\n    });\n\n    Mesh.call(this, geometry, material);\n\n    this.matrix = this.light.matrixWorld;\n    this.matrixAutoUpdate = false;\n\n    this.update();\n\n    /*\n    var distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n    var distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n    this.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n    this.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n    var d = light.distance;\n\n    if ( d === 0.0 ) {\n\n    \tthis.lightDistance.visible = false;\n\n    } else {\n\n    \tthis.lightDistance.scale.set( d, d, d );\n\n    }\n\n    this.add( this.lightDistance );\n    */\n  }\n\n  PointLightHelper.prototype = Object.create(Mesh.prototype);\n  PointLightHelper.prototype.constructor = PointLightHelper;\n\n  PointLightHelper.prototype.dispose = function () {\n    this.geometry.dispose();\n    this.material.dispose();\n  };\n\n  PointLightHelper.prototype.update = function () {\n    if (this.color !== undefined) {\n      this.material.color.set(this.color);\n    } else {\n      this.material.color.copy(this.light.color);\n    }\n\n    /*\n    var d = this.light.distance;\n\n    if ( d === 0.0 ) {\n\n    \tthis.lightDistance.visible = false;\n\n    } else {\n\n    \tthis.lightDistance.visible = true;\n    \tthis.lightDistance.scale.set( d, d, d );\n\n    }\n    */\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   */\n\n  var _vector$b = new Vector3();\n  var _color1 = new Color();\n  var _color2 = new Color();\n\n  function HemisphereLightHelper(light, size, color) {\n    Object3D.call(this);\n\n    this.light = light;\n    this.light.updateMatrixWorld();\n\n    this.matrix = light.matrixWorld;\n    this.matrixAutoUpdate = false;\n\n    this.color = color;\n\n    var geometry = new OctahedronBufferGeometry(size);\n    geometry.rotateY(Math.PI * 0.5);\n\n    this.material = new MeshBasicMaterial({\n      wireframe: true,\n      fog: false,\n    });\n    if (this.color === undefined) {\n      this.material.vertexColors = VertexColors;\n    }\n\n    var position = geometry.getAttribute(\"position\");\n    var colors = new Float32Array(position.count * 3);\n\n    geometry.setAttribute(\"color\", new BufferAttribute(colors, 3));\n\n    this.add(new Mesh(geometry, this.material));\n\n    this.update();\n  }\n\n  HemisphereLightHelper.prototype = Object.create(Object3D.prototype);\n  HemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\n  HemisphereLightHelper.prototype.dispose = function () {\n    this.children[0].geometry.dispose();\n    this.children[0].material.dispose();\n  };\n\n  HemisphereLightHelper.prototype.update = function () {\n    var mesh = this.children[0];\n\n    if (this.color !== undefined) {\n      this.material.color.set(this.color);\n    } else {\n      var colors = mesh.geometry.getAttribute(\"color\");\n\n      _color1.copy(this.light.color);\n      _color2.copy(this.light.groundColor);\n\n      for (var i = 0, l = colors.count; i < l; i++) {\n        var color = i < l / 2 ? _color1 : _color2;\n\n        colors.setXYZ(i, color.r, color.g, color.b);\n      }\n\n      colors.needsUpdate = true;\n    }\n\n    mesh.lookAt(\n      _vector$b.setFromMatrixPosition(this.light.matrixWorld).negate()\n    );\n  };\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function GridHelper(size, divisions, color1, color2) {\n    size = size || 10;\n    divisions = divisions || 10;\n    color1 = new Color(color1 !== undefined ? color1 : 0x444444);\n    color2 = new Color(color2 !== undefined ? color2 : 0x888888);\n\n    var center = divisions / 2;\n    var step = size / divisions;\n    var halfSize = size / 2;\n\n    var vertices = [],\n      colors = [];\n\n    for (var i = 0, j = 0, k = -halfSize; i <= divisions; i++, k += step) {\n      vertices.push(-halfSize, 0, k, halfSize, 0, k);\n      vertices.push(k, 0, -halfSize, k, 0, halfSize);\n\n      var color = i === center ? color1 : color2;\n\n      color.toArray(colors, j);\n      j += 3;\n      color.toArray(colors, j);\n      j += 3;\n      color.toArray(colors, j);\n      j += 3;\n      color.toArray(colors, j);\n      j += 3;\n    }\n\n    var geometry = new BufferGeometry();\n    geometry.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    geometry.setAttribute(\"color\", new Float32BufferAttribute(colors, 3));\n\n    var material = new LineBasicMaterial({\n      vertexColors: VertexColors,\n    });\n\n    LineSegments.call(this, geometry, material);\n  }\n\n  GridHelper.prototype = Object.assign(Object.create(LineSegments.prototype), {\n    constructor: GridHelper,\n\n    copy: function (source) {\n      LineSegments.prototype.copy.call(this, source);\n\n      this.geometry.copy(source.geometry);\n      this.material.copy(source.material);\n\n      return this;\n    },\n\n    clone: function () {\n      return new this.constructor().copy(this);\n    },\n  });\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / http://github.com/Mugen87\n   * @author Hectate / http://www.github.com/Hectate\n   */\n\n  function PolarGridHelper(\n    radius,\n    radials,\n    circles,\n    divisions,\n    color1,\n    color2\n  ) {\n    radius = radius || 10;\n    radials = radials || 16;\n    circles = circles || 8;\n    divisions = divisions || 64;\n    color1 = new Color(color1 !== undefined ? color1 : 0x444444);\n    color2 = new Color(color2 !== undefined ? color2 : 0x888888);\n\n    var vertices = [];\n    var colors = [];\n\n    var x, z;\n    var v, i, j, r, color;\n\n    // create the radials\n\n    for (i = 0; i <= radials; i++) {\n      v = (i / radials) * (Math.PI * 2);\n\n      x = Math.sin(v) * radius;\n      z = Math.cos(v) * radius;\n\n      vertices.push(0, 0, 0);\n      vertices.push(x, 0, z);\n\n      color = i & 1 ? color1 : color2;\n\n      colors.push(color.r, color.g, color.b);\n      colors.push(color.r, color.g, color.b);\n    }\n\n    // create the circles\n\n    for (i = 0; i <= circles; i++) {\n      color = i & 1 ? color1 : color2;\n\n      r = radius - (radius / circles) * i;\n\n      for (j = 0; j < divisions; j++) {\n        // first vertex\n\n        v = (j / divisions) * (Math.PI * 2);\n\n        x = Math.sin(v) * r;\n        z = Math.cos(v) * r;\n\n        vertices.push(x, 0, z);\n        colors.push(color.r, color.g, color.b);\n\n        // second vertex\n\n        v = ((j + 1) / divisions) * (Math.PI * 2);\n\n        x = Math.sin(v) * r;\n        z = Math.cos(v) * r;\n\n        vertices.push(x, 0, z);\n        colors.push(color.r, color.g, color.b);\n      }\n    }\n\n    var geometry = new BufferGeometry();\n    geometry.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    geometry.setAttribute(\"color\", new Float32BufferAttribute(colors, 3));\n\n    var material = new LineBasicMaterial({\n      vertexColors: VertexColors,\n    });\n\n    LineSegments.call(this, geometry, material);\n  }\n\n  PolarGridHelper.prototype = Object.create(LineSegments.prototype);\n  PolarGridHelper.prototype.constructor = PolarGridHelper;\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author mrdoob / http://mrdoob.com/\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  var _v1$5 = new Vector3();\n  var _v2$3 = new Vector3();\n  var _v3$1 = new Vector3();\n\n  function DirectionalLightHelper(light, size, color) {\n    Object3D.call(this);\n\n    this.light = light;\n    this.light.updateMatrixWorld();\n\n    this.matrix = light.matrixWorld;\n    this.matrixAutoUpdate = false;\n\n    this.color = color;\n\n    if (size === undefined) {\n      size = 1;\n    }\n\n    var geometry = new BufferGeometry();\n    geometry.setAttribute(\n      \"position\",\n      new Float32BufferAttribute(\n        [\n          -size,\n          size,\n          0,\n          size,\n          size,\n          0,\n          size,\n          -size,\n          0,\n          -size,\n          -size,\n          0,\n          -size,\n          size,\n          0,\n        ],\n        3\n      )\n    );\n\n    var material = new LineBasicMaterial({\n      fog: false,\n    });\n\n    this.lightPlane = new Line(geometry, material);\n    this.add(this.lightPlane);\n\n    geometry = new BufferGeometry();\n    geometry.setAttribute(\n      \"position\",\n      new Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3)\n    );\n\n    this.targetLine = new Line(geometry, material);\n    this.add(this.targetLine);\n\n    this.update();\n  }\n\n  DirectionalLightHelper.prototype = Object.create(Object3D.prototype);\n  DirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\n  DirectionalLightHelper.prototype.dispose = function () {\n    this.lightPlane.geometry.dispose();\n    this.lightPlane.material.dispose();\n    this.targetLine.geometry.dispose();\n    this.targetLine.material.dispose();\n  };\n\n  DirectionalLightHelper.prototype.update = function () {\n    _v1$5.setFromMatrixPosition(this.light.matrixWorld);\n    _v2$3.setFromMatrixPosition(this.light.target.matrixWorld);\n    _v3$1.subVectors(_v2$3, _v1$5);\n\n    this.lightPlane.lookAt(_v2$3);\n\n    if (this.color !== undefined) {\n      this.lightPlane.material.color.set(this.color);\n      this.targetLine.material.color.set(this.color);\n    } else {\n      this.lightPlane.material.color.copy(this.light.color);\n      this.targetLine.material.color.copy(this.light.color);\n    }\n\n    this.targetLine.lookAt(_v2$3);\n    this.targetLine.scale.z = _v3$1.length();\n  };\n\n  /**\n   * @author alteredq / http://alteredqualia.com/\n   * @author Mugen87 / https://github.com/Mugen87\n   *\n   *\t- shows frustum, line of sight and up of the camera\n   *\t- suitable for fast updates\n   * \t- based on frustum visualization in lightgl.js shadowmap example\n   *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n   */\n\n  var _vector$c = new Vector3();\n  var _camera = new Camera();\n\n  function CameraHelper(camera) {\n    var geometry = new BufferGeometry();\n    var material = new LineBasicMaterial({\n      color: 0xffffff,\n      vertexColors: FaceColors,\n    });\n\n    var vertices = [];\n    var colors = [];\n\n    var pointMap = {};\n\n    // colors\n\n    var colorFrustum = new Color(0xffaa00);\n    var colorCone = new Color(0xff0000);\n    var colorUp = new Color(0x00aaff);\n    var colorTarget = new Color(0xffffff);\n    var colorCross = new Color(0x333333);\n\n    // near\n\n    addLine(\"n1\", \"n2\", colorFrustum);\n    addLine(\"n2\", \"n4\", colorFrustum);\n    addLine(\"n4\", \"n3\", colorFrustum);\n    addLine(\"n3\", \"n1\", colorFrustum);\n\n    // far\n\n    addLine(\"f1\", \"f2\", colorFrustum);\n    addLine(\"f2\", \"f4\", colorFrustum);\n    addLine(\"f4\", \"f3\", colorFrustum);\n    addLine(\"f3\", \"f1\", colorFrustum);\n\n    // sides\n\n    addLine(\"n1\", \"f1\", colorFrustum);\n    addLine(\"n2\", \"f2\", colorFrustum);\n    addLine(\"n3\", \"f3\", colorFrustum);\n    addLine(\"n4\", \"f4\", colorFrustum);\n\n    // cone\n\n    addLine(\"p\", \"n1\", colorCone);\n    addLine(\"p\", \"n2\", colorCone);\n    addLine(\"p\", \"n3\", colorCone);\n    addLine(\"p\", \"n4\", colorCone);\n\n    // up\n\n    addLine(\"u1\", \"u2\", colorUp);\n    addLine(\"u2\", \"u3\", colorUp);\n    addLine(\"u3\", \"u1\", colorUp);\n\n    // target\n\n    addLine(\"c\", \"t\", colorTarget);\n    addLine(\"p\", \"c\", colorCross);\n\n    // cross\n\n    addLine(\"cn1\", \"cn2\", colorCross);\n    addLine(\"cn3\", \"cn4\", colorCross);\n\n    addLine(\"cf1\", \"cf2\", colorCross);\n    addLine(\"cf3\", \"cf4\", colorCross);\n\n    function addLine(a, b, color) {\n      addPoint(a, color);\n      addPoint(b, color);\n    }\n\n    function addPoint(id, color) {\n      vertices.push(0, 0, 0);\n      colors.push(color.r, color.g, color.b);\n\n      if (pointMap[id] === undefined) {\n        pointMap[id] = [];\n      }\n\n      pointMap[id].push(vertices.length / 3 - 1);\n    }\n\n    geometry.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    geometry.setAttribute(\"color\", new Float32BufferAttribute(colors, 3));\n\n    LineSegments.call(this, geometry, material);\n\n    this.camera = camera;\n    if (this.camera.updateProjectionMatrix) {\n      this.camera.updateProjectionMatrix();\n    }\n\n    this.matrix = camera.matrixWorld;\n    this.matrixAutoUpdate = false;\n\n    this.pointMap = pointMap;\n\n    this.update();\n  }\n\n  CameraHelper.prototype = Object.create(LineSegments.prototype);\n  CameraHelper.prototype.constructor = CameraHelper;\n\n  CameraHelper.prototype.update = function () {\n    var geometry = this.geometry;\n    var pointMap = this.pointMap;\n\n    var w = 1,\n      h = 1;\n\n    // we need just camera projection matrix inverse\n    // world matrix must be identity\n\n    _camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);\n\n    // center / target\n\n    setPoint(\"c\", pointMap, geometry, _camera, 0, 0, -1);\n    setPoint(\"t\", pointMap, geometry, _camera, 0, 0, 1);\n\n    // near\n\n    setPoint(\"n1\", pointMap, geometry, _camera, -w, -h, -1);\n    setPoint(\"n2\", pointMap, geometry, _camera, w, -h, -1);\n    setPoint(\"n3\", pointMap, geometry, _camera, -w, h, -1);\n    setPoint(\"n4\", pointMap, geometry, _camera, w, h, -1);\n\n    // far\n\n    setPoint(\"f1\", pointMap, geometry, _camera, -w, -h, 1);\n    setPoint(\"f2\", pointMap, geometry, _camera, w, -h, 1);\n    setPoint(\"f3\", pointMap, geometry, _camera, -w, h, 1);\n    setPoint(\"f4\", pointMap, geometry, _camera, w, h, 1);\n\n    // up\n\n    setPoint(\"u1\", pointMap, geometry, _camera, w * 0.7, h * 1.1, -1);\n    setPoint(\"u2\", pointMap, geometry, _camera, -w * 0.7, h * 1.1, -1);\n    setPoint(\"u3\", pointMap, geometry, _camera, 0, h * 2, -1);\n\n    // cross\n\n    setPoint(\"cf1\", pointMap, geometry, _camera, -w, 0, 1);\n    setPoint(\"cf2\", pointMap, geometry, _camera, w, 0, 1);\n    setPoint(\"cf3\", pointMap, geometry, _camera, 0, -h, 1);\n    setPoint(\"cf4\", pointMap, geometry, _camera, 0, h, 1);\n\n    setPoint(\"cn1\", pointMap, geometry, _camera, -w, 0, -1);\n    setPoint(\"cn2\", pointMap, geometry, _camera, w, 0, -1);\n    setPoint(\"cn3\", pointMap, geometry, _camera, 0, -h, -1);\n    setPoint(\"cn4\", pointMap, geometry, _camera, 0, h, -1);\n\n    geometry.getAttribute(\"position\").needsUpdate = true;\n  };\n\n  function setPoint(point, pointMap, geometry, camera, x, y, z) {\n    _vector$c.set(x, y, z).unproject(camera);\n\n    var points = pointMap[point];\n\n    if (points !== undefined) {\n      var position = geometry.getAttribute(\"position\");\n\n      for (var i = 0, l = points.length; i < l; i++) {\n        position.setXYZ(points[i], _vector$c.x, _vector$c.y, _vector$c.z);\n      }\n    }\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   * @author Mugen87 / http://github.com/Mugen87\n   */\n\n  var _box$3 = new Box3();\n\n  function BoxHelper(object, color) {\n    this.object = object;\n\n    if (color === undefined) {\n      color = 0xffff00;\n    }\n\n    var indices = new Uint16Array([\n      0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7,\n    ]);\n    var positions = new Float32Array(8 * 3);\n\n    var geometry = new BufferGeometry();\n    geometry.setIndex(new BufferAttribute(indices, 1));\n    geometry.setAttribute(\"position\", new BufferAttribute(positions, 3));\n\n    LineSegments.call(\n      this,\n      geometry,\n      new LineBasicMaterial({\n        color: color,\n      })\n    );\n\n    this.matrixAutoUpdate = false;\n\n    this.update();\n  }\n\n  BoxHelper.prototype = Object.create(LineSegments.prototype);\n  BoxHelper.prototype.constructor = BoxHelper;\n\n  BoxHelper.prototype.update = function (object) {\n    if (object !== undefined) {\n      console.warn(\"THREE.BoxHelper: .update() has no longer arguments.\");\n    }\n\n    if (this.object !== undefined) {\n      _box$3.setFromObject(this.object);\n    }\n\n    if (_box$3.isEmpty()) {\n      return;\n    }\n\n    var min = _box$3.min;\n    var max = _box$3.max;\n\n    /*\n      5____4\n    1/___0/|\n    | 6__|_7\n    2/___3/\n\n    0: max.x, max.y, max.z\n    1: min.x, max.y, max.z\n    2: min.x, min.y, max.z\n    3: max.x, min.y, max.z\n    4: max.x, max.y, min.z\n    5: min.x, max.y, min.z\n    6: min.x, min.y, min.z\n    7: max.x, min.y, min.z\n    */\n\n    var position = this.geometry.attributes.position;\n    var array = position.array;\n\n    array[0] = max.x;\n    array[1] = max.y;\n    array[2] = max.z;\n    array[3] = min.x;\n    array[4] = max.y;\n    array[5] = max.z;\n    array[6] = min.x;\n    array[7] = min.y;\n    array[8] = max.z;\n    array[9] = max.x;\n    array[10] = min.y;\n    array[11] = max.z;\n    array[12] = max.x;\n    array[13] = max.y;\n    array[14] = min.z;\n    array[15] = min.x;\n    array[16] = max.y;\n    array[17] = min.z;\n    array[18] = min.x;\n    array[19] = min.y;\n    array[20] = min.z;\n    array[21] = max.x;\n    array[22] = min.y;\n    array[23] = min.z;\n\n    position.needsUpdate = true;\n\n    this.geometry.computeBoundingSphere();\n  };\n\n  BoxHelper.prototype.setFromObject = function (object) {\n    this.object = object;\n    this.update();\n\n    return this;\n  };\n\n  BoxHelper.prototype.copy = function (source) {\n    LineSegments.prototype.copy.call(this, source);\n\n    this.object = source.object;\n\n    return this;\n  };\n\n  BoxHelper.prototype.clone = function () {\n    return new this.constructor().copy(this);\n  };\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function Box3Helper(box, color) {\n    this.type = \"Box3Helper\";\n\n    this.box = box;\n\n    color = color || 0xffff00;\n\n    var indices = new Uint16Array([\n      0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7,\n    ]);\n\n    var positions = [\n      1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1,\n      1, -1, -1,\n    ];\n\n    var geometry = new BufferGeometry();\n\n    geometry.setIndex(new BufferAttribute(indices, 1));\n\n    geometry.setAttribute(\"position\", new Float32BufferAttribute(positions, 3));\n\n    LineSegments.call(\n      this,\n      geometry,\n      new LineBasicMaterial({\n        color: color,\n      })\n    );\n\n    this.geometry.computeBoundingSphere();\n  }\n\n  Box3Helper.prototype = Object.create(LineSegments.prototype);\n  Box3Helper.prototype.constructor = Box3Helper;\n\n  Box3Helper.prototype.updateMatrixWorld = function (force) {\n    var box = this.box;\n\n    if (box.isEmpty()) {\n      return;\n    }\n\n    box.getCenter(this.position);\n\n    box.getSize(this.scale);\n\n    this.scale.multiplyScalar(0.5);\n\n    Object3D.prototype.updateMatrixWorld.call(this, force);\n  };\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   */\n\n  function PlaneHelper(plane, size, hex) {\n    this.type = \"PlaneHelper\";\n\n    this.plane = plane;\n\n    this.size = size === undefined ? 1 : size;\n\n    var color = hex !== undefined ? hex : 0xffff00;\n\n    var positions = [\n      1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1,\n      1, 1, 0, 0, 1, 0, 0, 0,\n    ];\n\n    var geometry = new BufferGeometry();\n    geometry.setAttribute(\"position\", new Float32BufferAttribute(positions, 3));\n    geometry.computeBoundingSphere();\n\n    Line.call(\n      this,\n      geometry,\n      new LineBasicMaterial({\n        color: color,\n      })\n    );\n\n    //\n\n    var positions2 = [\n      1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1,\n    ];\n\n    var geometry2 = new BufferGeometry();\n    geometry2.setAttribute(\n      \"position\",\n      new Float32BufferAttribute(positions2, 3)\n    );\n    geometry2.computeBoundingSphere();\n\n    this.add(\n      new Mesh(\n        geometry2,\n        new MeshBasicMaterial({\n          color: color,\n          opacity: 0.2,\n          transparent: true,\n          depthWrite: false,\n        })\n      )\n    );\n  }\n\n  PlaneHelper.prototype = Object.create(Line.prototype);\n  PlaneHelper.prototype.constructor = PlaneHelper;\n\n  PlaneHelper.prototype.updateMatrixWorld = function (force) {\n    var scale = -this.plane.constant;\n\n    if (Math.abs(scale) < 1e-8) {\n      scale = 1e-8;\n    } // sign does not matter\n\n    this.scale.set(0.5 * this.size, 0.5 * this.size, scale);\n\n    this.children[0].material.side = scale < 0 ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n    this.lookAt(this.plane.normal);\n\n    Object3D.prototype.updateMatrixWorld.call(this, force);\n  };\n\n  /**\n   * @author WestLangley / http://github.com/WestLangley\n   * @author zz85 / http://github.com/zz85\n   * @author bhouston / http://clara.io\n   *\n   * Creates an arrow for visualizing directions\n   *\n   * Parameters:\n   *  dir - Vector3\n   *  origin - Vector3\n   *  length - Number\n   *  color - color in hex value\n   *  headLength - Number\n   *  headWidth - Number\n   */\n\n  var _axis = new Vector3();\n  var _lineGeometry, _coneGeometry;\n\n  function ArrowHelper(dir, origin, length, color, headLength, headWidth) {\n    // dir is assumed to be normalized\n\n    Object3D.call(this);\n\n    if (dir === undefined) {\n      dir = new Vector3(0, 0, 1);\n    }\n    if (origin === undefined) {\n      origin = new Vector3(0, 0, 0);\n    }\n    if (length === undefined) {\n      length = 1;\n    }\n    if (color === undefined) {\n      color = 0xffff00;\n    }\n    if (headLength === undefined) {\n      headLength = 0.2 * length;\n    }\n    if (headWidth === undefined) {\n      headWidth = 0.2 * headLength;\n    }\n\n    if (_lineGeometry === undefined) {\n      _lineGeometry = new BufferGeometry();\n      _lineGeometry.setAttribute(\n        \"position\",\n        new Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3)\n      );\n\n      _coneGeometry = new CylinderBufferGeometry(0, 0.5, 1, 5, 1);\n      _coneGeometry.translate(0, -0.5, 0);\n    }\n\n    this.position.copy(origin);\n\n    this.line = new Line(\n      _lineGeometry,\n      new LineBasicMaterial({\n        color: color,\n      })\n    );\n    this.line.matrixAutoUpdate = false;\n    this.add(this.line);\n\n    this.cone = new Mesh(\n      _coneGeometry,\n      new MeshBasicMaterial({\n        color: color,\n      })\n    );\n    this.cone.matrixAutoUpdate = false;\n    this.add(this.cone);\n\n    this.setDirection(dir);\n    this.setLength(length, headLength, headWidth);\n  }\n\n  ArrowHelper.prototype = Object.create(Object3D.prototype);\n  ArrowHelper.prototype.constructor = ArrowHelper;\n\n  ArrowHelper.prototype.setDirection = function (dir) {\n    // dir is assumed to be normalized\n\n    if (dir.y > 0.99999) {\n      this.quaternion.set(0, 0, 0, 1);\n    } else if (dir.y < -0.99999) {\n      this.quaternion.set(1, 0, 0, 0);\n    } else {\n      _axis.set(dir.z, 0, -dir.x).normalize();\n\n      var radians = Math.acos(dir.y);\n\n      this.quaternion.setFromAxisAngle(_axis, radians);\n    }\n  };\n\n  ArrowHelper.prototype.setLength = function (length, headLength, headWidth) {\n    if (headLength === undefined) {\n      headLength = 0.2 * length;\n    }\n    if (headWidth === undefined) {\n      headWidth = 0.2 * headLength;\n    }\n\n    this.line.scale.set(1, Math.max(0.0001, length - headLength), 1); // see #17458\n    this.line.updateMatrix();\n\n    this.cone.scale.set(headWidth, headLength, headWidth);\n    this.cone.position.y = length;\n    this.cone.updateMatrix();\n  };\n\n  ArrowHelper.prototype.setColor = function (color) {\n    this.line.material.color.set(color);\n    this.cone.material.color.set(color);\n  };\n\n  ArrowHelper.prototype.copy = function (source) {\n    Object3D.prototype.copy.call(this, source, false);\n\n    this.line.copy(source.line);\n    this.cone.copy(source.cone);\n\n    return this;\n  };\n\n  ArrowHelper.prototype.clone = function () {\n    return new this.constructor().copy(this);\n  };\n\n  /**\n   * @author sroucheray / http://sroucheray.org/\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function AxesHelper(size) {\n    size = size || 1;\n\n    var vertices = [\n      0,\n      0,\n      0,\n      size,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      size,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      size,\n    ];\n\n    var colors = [1, 0, 0, 1, 0.6, 0, 0, 1, 0, 0.6, 1, 0, 0, 0, 1, 0, 0.6, 1];\n\n    var geometry = new BufferGeometry();\n    geometry.setAttribute(\"position\", new Float32BufferAttribute(vertices, 3));\n    geometry.setAttribute(\"color\", new Float32BufferAttribute(colors, 3));\n\n    var material = new LineBasicMaterial({\n      vertexColors: VertexColors,\n    });\n\n    LineSegments.call(this, geometry, material);\n  }\n\n  AxesHelper.prototype = Object.create(LineSegments.prototype);\n  AxesHelper.prototype.constructor = AxesHelper;\n\n  /**\n   * @author Emmett Lalish / elalish\n   *\n   * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n   * (PMREM) from a cubeMap environment texture. This allows different levels of\n   * blur to be quickly accessed based on material roughness. It is packed into a\n   * special CubeUV format that allows us to perform custom interpolation so that\n   * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n   * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n   * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n   * higher roughness levels. In this way we maintain resolution to smoothly\n   * interpolate diffuse lighting while limiting sampling computation.\n   */\n\n  var LOD_MIN = 4;\n  var LOD_MAX = 8;\n  var SIZE_MAX = Math.pow(2, LOD_MAX);\n  // The standard deviations (radians) associated with the extra mips. These are\n  // chosen to approximate a Trowbridge-Reitz distribution function times the\n  // geometric shadowing function. These sigma values squared must match the\n  // variance #defines in cube_uv_reflection_fragment.glsl.js.\n  var EXTRA_LOD_SIGMA = [0.125, 0.215, 0.35, 0.446, 0.526, 0.582];\n  var TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n  // The maximum length of the blur for loop. Smaller sigmas will use fewer\n  // samples and exit early, but not recompile the shader.\n  var MAX_SAMPLES = 20;\n  var ENCODINGS = {};\n  ENCODINGS[LinearEncoding] = 0;\n  ENCODINGS[sRGBEncoding] = 1;\n  ENCODINGS[RGBEEncoding] = 2;\n  ENCODINGS[RGBM7Encoding] = 3;\n  ENCODINGS[RGBM16Encoding] = 4;\n  ENCODINGS[RGBDEncoding] = 5;\n  ENCODINGS[GammaEncoding] = 6;\n\n  var _flatCamera = new OrthographicCamera();\n  var _blurMaterial = _getBlurShader(MAX_SAMPLES);\n  var _equirectShader = null;\n  var _cubemapShader = null;\n\n  var ref = _createPlanes();\n  var _lodPlanes = ref._lodPlanes;\n  var _sizeLods = ref._sizeLods;\n  var _sigmas = ref._sigmas;\n  var _pingPongRenderTarget = null;\n  var _renderer = null;\n\n  // Golden Ratio\n  var PHI = (1 + Math.sqrt(5)) / 2;\n  var INV_PHI = 1 / PHI;\n  // Vertices of a dodecahedron (except the opposites, which represent the\n  // same axis), used as axis directions evenly spread on a sphere.\n  var _axisDirections = [\n    new Vector3(1, 1, 1),\n    new Vector3(-1, 1, 1),\n    new Vector3(1, 1, -1),\n    new Vector3(-1, 1, -1),\n    new Vector3(0, PHI, INV_PHI),\n    new Vector3(0, PHI, -INV_PHI),\n    new Vector3(INV_PHI, 0, PHI),\n    new Vector3(-INV_PHI, 0, PHI),\n    new Vector3(PHI, INV_PHI, 0),\n    new Vector3(-PHI, INV_PHI, 0),\n  ];\n\n  function PMREMGenerator(renderer) {\n    _renderer = renderer;\n    _compileMaterial(_blurMaterial);\n  }\n\n  PMREMGenerator.prototype = {\n    constructor: PMREMGenerator,\n\n    /**\n     * Generates a PMREM from a supplied Scene, which can be faster than using an\n     * image if networking bandwidth is low. Optional sigma specifies a blur radius\n     * in radians to be applied to the scene before PMREM generation. Optional near\n     * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n     * is placed at the origin).\n     */\n    fromScene: function (scene, sigma, near, far) {\n      if (sigma === void 0) sigma = 0;\n      if (near === void 0) near = 0.1;\n      if (far === void 0) far = 100;\n\n      var cubeUVRenderTarget = _allocateTargets();\n      _sceneToCubeUV(scene, near, far, cubeUVRenderTarget);\n      if (sigma > 0) {\n        _blur(cubeUVRenderTarget, 0, 0, sigma);\n      }\n      _applyPMREM(cubeUVRenderTarget);\n      _cleanup();\n      cubeUVRenderTarget.scissorTest = false;\n\n      return cubeUVRenderTarget;\n    },\n\n    /**\n     * Generates a PMREM from an equirectangular texture, which can be either LDR\n     * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n     * as this matches best with the 256 x 256 cubemap output.\n     */\n    fromEquirectangular: function (equirectangular) {\n      equirectangular.magFilter = NearestFilter;\n      equirectangular.minFilter = NearestFilter;\n      equirectangular.generateMipmaps = false;\n\n      return this.fromCubemap(equirectangular);\n    },\n\n    /**\n     * Generates a PMREM from an cubemap texture, which can be either LDR\n     * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n     * as this matches best with the 256 x 256 cubemap output.\n     */\n    fromCubemap: function (cubemap) {\n      var cubeUVRenderTarget = _allocateTargets(cubemap);\n      _textureToCubeUV(cubemap, cubeUVRenderTarget);\n      _applyPMREM(cubeUVRenderTarget);\n      _cleanup();\n      cubeUVRenderTarget.scissorTest = false;\n\n      return cubeUVRenderTarget;\n    },\n\n    /**\n     * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n     * your texture's network fetch for increased concurrency.\n     */\n    compileCubemapShader: function () {\n      if (_cubemapShader == null) {\n        _cubemapShader = _getCubemapShader();\n        _compileMaterial(_cubemapShader);\n      }\n    },\n\n    /**\n     * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n     * your texture's network fetch for increased concurrency.\n     */\n    compileEquirectangularShader: function () {\n      if (_equirectShader == null) {\n        _equirectShader = _getEquirectShader();\n        _compileMaterial(_equirectShader);\n      }\n    },\n\n    /**\n     * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n     * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n     * one of them will cause any others to also become unusable.\n     */\n    dispose: function () {\n      _blurMaterial.dispose();\n\n      if (_cubemapShader != null) {\n        _cubemapShader.dispose();\n      }\n      if (_equirectShader != null) {\n        _equirectShader.dispose();\n      }\n\n      for (var i = 0; i < _lodPlanes.length; i++) {\n        _lodPlanes[i].dispose();\n      }\n    },\n  };\n\n  function _createPlanes() {\n    var _lodPlanes = [];\n    var _sizeLods = [];\n    var _sigmas = [];\n\n    var lod = LOD_MAX;\n    for (var i = 0; i < TOTAL_LODS; i++) {\n      var sizeLod = Math.pow(2, lod);\n      _sizeLods.push(sizeLod);\n      var sigma = 1.0 / sizeLod;\n      if (i > LOD_MAX - LOD_MIN) {\n        sigma = EXTRA_LOD_SIGMA[i - LOD_MAX + LOD_MIN - 1];\n      } else if (i == 0) {\n        sigma = 0;\n      }\n      _sigmas.push(sigma);\n\n      var texelSize = 1.0 / (sizeLod - 1);\n      var min = -texelSize / 2;\n      var max = 1 + texelSize / 2;\n      var uv1 = [min, min, max, min, max, max, min, min, max, max, min, max];\n\n      var cubeFaces = 6;\n      var vertices = 6;\n      var positionSize = 3;\n      var uvSize = 2;\n      var faceIndexSize = 1;\n\n      var position = new Float32Array(positionSize * vertices * cubeFaces);\n      var uv = new Float32Array(uvSize * vertices * cubeFaces);\n      var faceIndex = new Float32Array(faceIndexSize * vertices * cubeFaces);\n\n      for (var face = 0; face < cubeFaces; face++) {\n        var x = ((face % 3) * 2) / 3 - 1;\n        var y = face > 2 ? 0 : -1;\n        var coordinates = [\n          x,\n          y,\n          0,\n          x + 2 / 3,\n          y,\n          0,\n          x + 2 / 3,\n          y + 1,\n          0,\n          x,\n          y,\n          0,\n          x + 2 / 3,\n          y + 1,\n          0,\n          x,\n          y + 1,\n          0,\n        ];\n        position.set(coordinates, positionSize * vertices * face);\n        uv.set(uv1, uvSize * vertices * face);\n        var fill = [face, face, face, face, face, face];\n        faceIndex.set(fill, faceIndexSize * vertices * face);\n      }\n      var planes = new BufferGeometry();\n      planes.setAttribute(\n        \"position\",\n        new BufferAttribute(position, positionSize)\n      );\n      planes.setAttribute(\"uv\", new BufferAttribute(uv, uvSize));\n      planes.setAttribute(\n        \"faceIndex\",\n        new BufferAttribute(faceIndex, faceIndexSize)\n      );\n      _lodPlanes.push(planes);\n\n      if (lod > LOD_MIN) {\n        lod--;\n      }\n    }\n    return {\n      _lodPlanes: _lodPlanes,\n      _sizeLods: _sizeLods,\n      _sigmas: _sigmas,\n    };\n  }\n\n  function _allocateTargets(equirectangular) {\n    var params = {\n      magFilter: NearestFilter,\n      minFilter: NearestFilter,\n      generateMipmaps: false,\n      type: equirectangular ? equirectangular.type : UnsignedByteType,\n      format: equirectangular ? equirectangular.format : RGBEFormat,\n      encoding: equirectangular ? equirectangular.encoding : RGBEEncoding,\n      depthBuffer: false,\n      stencilBuffer: false,\n    };\n    var cubeUVRenderTarget = _createRenderTarget(params);\n    cubeUVRenderTarget.depthBuffer = equirectangular ? false : true;\n    _pingPongRenderTarget = _createRenderTarget(params);\n    return cubeUVRenderTarget;\n  }\n\n  function _cleanup() {\n    _pingPongRenderTarget.dispose();\n    _renderer.setRenderTarget(null);\n    var size = _renderer.getSize(new Vector2());\n    _renderer.setViewport(0, 0, size.x, size.y);\n  }\n\n  function _sceneToCubeUV(scene, near, far, cubeUVRenderTarget) {\n    var fov = 90;\n    var aspect = 1;\n    var cubeCamera = new PerspectiveCamera(fov, aspect, near, far);\n    var upSign = [1, 1, 1, 1, -1, 1];\n    var forwardSign = [1, 1, -1, -1, -1, 1];\n\n    var outputEncoding = _renderer.outputEncoding;\n    var toneMapping = _renderer.toneMapping;\n    var toneMappingExposure = _renderer.toneMappingExposure;\n    var clearColor = _renderer.getClearColor();\n    var clearAlpha = _renderer.getClearAlpha();\n\n    _renderer.toneMapping = LinearToneMapping;\n    _renderer.toneMappingExposure = 1.0;\n    _renderer.outputEncoding = LinearEncoding;\n    scene.scale.z *= -1;\n\n    var background = scene.background;\n    if (background && background.isColor) {\n      background.convertSRGBToLinear();\n      // Convert linear to RGBE\n      var maxComponent = Math.max(background.r, background.g, background.b);\n      var fExp = Math.min(\n        Math.max(Math.ceil(Math.log2(maxComponent)), -128.0),\n        127.0\n      );\n      background = background.multiplyScalar(Math.pow(2.0, -fExp));\n      var alpha = (fExp + 128.0) / 255.0;\n      _renderer.setClearColor(background, alpha);\n      scene.background = null;\n    }\n\n    _renderer.setRenderTarget(cubeUVRenderTarget);\n    for (var i = 0; i < 6; i++) {\n      var col = i % 3;\n      if (col == 0) {\n        cubeCamera.up.set(0, upSign[i], 0);\n        cubeCamera.lookAt(forwardSign[i], 0, 0);\n      } else if (col == 1) {\n        cubeCamera.up.set(0, 0, upSign[i]);\n        cubeCamera.lookAt(0, forwardSign[i], 0);\n      } else {\n        cubeCamera.up.set(0, upSign[i], 0);\n        cubeCamera.lookAt(0, 0, forwardSign[i]);\n      }\n      _setViewport(col * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX);\n      _renderer.render(scene, cubeCamera);\n    }\n\n    _renderer.toneMapping = toneMapping;\n    _renderer.toneMappingExposure = toneMappingExposure;\n    _renderer.outputEncoding = outputEncoding;\n    _renderer.setClearColor(clearColor, clearAlpha);\n    scene.scale.z *= -1;\n  }\n\n  function _textureToCubeUV(texture, cubeUVRenderTarget) {\n    var scene = new Scene();\n    if (texture.isCubeTexture) {\n      if (_cubemapShader == null) {\n        _cubemapShader = _getCubemapShader();\n      }\n    } else {\n      if (_equirectShader == null) {\n        _equirectShader = _getEquirectShader();\n      }\n    }\n    var material = texture.isCubeTexture ? _cubemapShader : _equirectShader;\n    scene.add(new Mesh(_lodPlanes[0], material));\n    var uniforms = material.uniforms;\n\n    uniforms[\"envMap\"].value = texture;\n    if (!texture.isCubeTexture) {\n      uniforms[\"texelSize\"].value.set(\n        1.0 / texture.image.width,\n        1.0 / texture.image.height\n      );\n    }\n    uniforms[\"inputEncoding\"].value = ENCODINGS[texture.encoding];\n    uniforms[\"outputEncoding\"].value = ENCODINGS[texture.encoding];\n\n    _renderer.setRenderTarget(cubeUVRenderTarget);\n    _setViewport(0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX);\n    _renderer.render(scene, _flatCamera);\n  }\n\n  function _compileMaterial(material) {\n    var tmpScene = new Scene();\n    tmpScene.add(new Mesh(_lodPlanes[0], material));\n    _renderer.compile(tmpScene, _flatCamera);\n  }\n\n  function _createRenderTarget(params) {\n    var cubeUVRenderTarget = new WebGLRenderTarget(\n      3 * SIZE_MAX,\n      3 * SIZE_MAX,\n      params\n    );\n    cubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n    cubeUVRenderTarget.texture.name = \"PMREM.cubeUv\";\n    cubeUVRenderTarget.scissorTest = true;\n    return cubeUVRenderTarget;\n  }\n\n  function _setViewport(x, y, width, height) {\n    var invDpr = 1.0 / _renderer.getPixelRatio();\n    x *= invDpr;\n    y *= invDpr;\n    width *= invDpr;\n    height *= invDpr;\n    _renderer.setViewport(x, y, width, height);\n    _renderer.setScissor(x, y, width, height);\n  }\n\n  function _applyPMREM(cubeUVRenderTarget) {\n    var autoClear = _renderer.autoClear;\n    _renderer.autoClear = false;\n\n    for (var i = 1; i < TOTAL_LODS; i++) {\n      var sigma = Math.sqrt(\n        _sigmas[i] * _sigmas[i] - _sigmas[i - 1] * _sigmas[i - 1]\n      );\n      var poleAxis = _axisDirections[(i - 1) % _axisDirections.length];\n      _blur(cubeUVRenderTarget, i - 1, i, sigma, poleAxis);\n    }\n\n    _renderer.autoClear = autoClear;\n  }\n\n  /**\n   * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n   * vertically and horizontally, but this breaks down on a cube. Here we apply\n   * the blur latitudinally (around the poles), and then longitudinally (towards\n   * the poles) to approximate the orthogonally-separable blur. It is least\n   * accurate at the poles, but still does a decent job.\n   */\n  function _blur(cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis) {\n    _halfBlur(\n      cubeUVRenderTarget,\n      _pingPongRenderTarget,\n      lodIn,\n      lodOut,\n      sigma,\n      \"latitudinal\",\n      poleAxis\n    );\n\n    _halfBlur(\n      _pingPongRenderTarget,\n      cubeUVRenderTarget,\n      lodOut,\n      lodOut,\n      sigma,\n      \"longitudinal\",\n      poleAxis\n    );\n  }\n\n  function _halfBlur(\n    targetIn,\n    targetOut,\n    lodIn,\n    lodOut,\n    sigmaRadians,\n    direction,\n    poleAxis\n  ) {\n    if (direction !== \"latitudinal\" && direction !== \"longitudinal\") {\n      console.error(\n        \"blur direction must be either latitudinal or longitudinal!\"\n      );\n    }\n\n    // Number of standard deviations at which to cut off the discrete approximation.\n    var STANDARD_DEVIATIONS = 3;\n\n    var blurScene = new Scene();\n    blurScene.add(new Mesh(_lodPlanes[lodOut], _blurMaterial));\n    var blurUniforms = _blurMaterial.uniforms;\n\n    var pixels = _sizeLods[lodIn] - 1;\n    var radiansPerPixel = isFinite(sigmaRadians)\n      ? Math.PI / (2 * pixels)\n      : (2 * Math.PI) / (2 * MAX_SAMPLES - 1);\n    var sigmaPixels = sigmaRadians / radiansPerPixel;\n    var samples = isFinite(sigmaRadians)\n      ? 1 + Math.floor(STANDARD_DEVIATIONS * sigmaPixels)\n      : MAX_SAMPLES;\n\n    if (samples > MAX_SAMPLES) {\n      console.warn(\n        \"sigmaRadians, \" +\n          sigmaRadians +\n          \", is too large and will clip, as it requested \" +\n          samples +\n          \" samples when the maximum is set to \" +\n          MAX_SAMPLES\n      );\n    }\n\n    var weights = [];\n    var sum = 0;\n\n    for (var i = 0; i < MAX_SAMPLES; ++i) {\n      var x = i / sigmaPixels;\n      var weight = Math.exp((-x * x) / 2);\n      weights.push(weight);\n\n      if (i == 0) {\n        sum += weight;\n      } else if (i < samples) {\n        sum += 2 * weight;\n      }\n    }\n\n    for (var i = 0; i < weights.length; i++) {\n      weights[i] = weights[i] / sum;\n    }\n\n    blurUniforms[\"envMap\"].value = targetIn.texture;\n    blurUniforms[\"samples\"].value = samples;\n    blurUniforms[\"weights\"].value = weights;\n    blurUniforms[\"latitudinal\"].value = direction === \"latitudinal\";\n    if (poleAxis) {\n      blurUniforms[\"poleAxis\"].value = poleAxis;\n    }\n    blurUniforms[\"dTheta\"].value = radiansPerPixel;\n    blurUniforms[\"mipInt\"].value = LOD_MAX - lodIn;\n    blurUniforms[\"inputEncoding\"].value = ENCODINGS[targetIn.texture.encoding];\n    blurUniforms[\"outputEncoding\"].value = ENCODINGS[targetIn.texture.encoding];\n\n    var outputSize = _sizeLods[lodOut];\n    var x = 3 * Math.max(0, SIZE_MAX - 2 * outputSize);\n    var y =\n      (lodOut === 0 ? 0 : 2 * SIZE_MAX) +\n      2 *\n        outputSize *\n        (lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0);\n\n    _renderer.setRenderTarget(targetOut);\n    _setViewport(x, y, 3 * outputSize, 2 * outputSize);\n    _renderer.render(blurScene, _flatCamera);\n  }\n\n  function _getBlurShader(maxSamples) {\n    var weights = new Float32Array(maxSamples);\n    var poleAxis = new Vector3(0, 1, 0);\n    var shaderMaterial = new RawShaderMaterial({\n      defines: {\n        n: maxSamples,\n      },\n\n      uniforms: {\n        envMap: {\n          value: null,\n        },\n        samples: {\n          value: 1,\n        },\n        weights: {\n          value: weights,\n        },\n        latitudinal: {\n          value: false,\n        },\n        dTheta: {\n          value: 0,\n        },\n        mipInt: {\n          value: 0,\n        },\n        poleAxis: {\n          value: poleAxis,\n        },\n        inputEncoding: {\n          value: ENCODINGS[LinearEncoding],\n        },\n        outputEncoding: {\n          value: ENCODINGS[LinearEncoding],\n        },\n      },\n\n      vertexShader: _getCommonVertexShader(),\n\n      fragmentShader:\n        \"\\nprecision mediump float;\\nprecision mediump int;\\nvarying vec3 vOutputDirection;\\nuniform sampler2D envMap;\\nuniform int samples;\\nuniform float weights[n];\\nuniform bool latitudinal;\\nuniform float dTheta;\\nuniform float mipInt;\\nuniform vec3 poleAxis;\\n\\n\" +\n        _getEncodings() +\n        \"\\n\\n#define ENVMAP_TYPE_CUBE_UV\\n#include <cube_uv_reflection_fragment>\\n\\nvoid main() {\\n\\tgl_FragColor = vec4(0.0);\\n\\tfor (int i = 0; i < n; i++) {\\n\\t\\tif (i >= samples)\\n\\t\\t\\tbreak;\\n\\t\\tfor (int dir = -1; dir < 2; dir += 2) {\\n\\t\\t\\tif (i == 0 && dir == 1)\\n\\t\\t\\t\\tcontinue;\\n\\t\\t\\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\\n\\t\\t\\tif (all(equal(axis, vec3(0.0))))\\n\\t\\t\\t\\taxis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);\\n\\t\\t\\taxis = normalize(axis);\\n\\t\\t\\tfloat theta = dTheta * float(dir * i);\\n\\t\\t\\tfloat cosTheta = cos(theta);\\n\\t\\t\\t// Rodrigues' axis-angle rotation\\n\\t\\t\\tvec3 sampleDirection = vOutputDirection * cosTheta\\n\\t\\t\\t\\t\\t+ cross(axis, vOutputDirection) * sin(theta)\\n\\t\\t\\t\\t\\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\\n\\t\\t\\tgl_FragColor.rgb +=\\n\\t\\t\\t\\t\\tweights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);\\n\\t\\t}\\n\\t}\\n\\tgl_FragColor = linearToOutputTexel(gl_FragColor);\\n}\\n\\t\\t\",\n\n      blending: NoBlending,\n      depthTest: false,\n      depthWrite: false,\n    });\n\n    shaderMaterial.type = \"SphericalGaussianBlur\";\n\n    return shaderMaterial;\n  }\n\n  function _getEquirectShader() {\n    var texelSize = new Vector2(1, 1);\n    var shaderMaterial = new RawShaderMaterial({\n      uniforms: {\n        envMap: {\n          value: null,\n        },\n        texelSize: {\n          value: texelSize,\n        },\n        inputEncoding: {\n          value: ENCODINGS[LinearEncoding],\n        },\n        outputEncoding: {\n          value: ENCODINGS[LinearEncoding],\n        },\n      },\n\n      vertexShader: _getCommonVertexShader(),\n\n      fragmentShader:\n        \"\\nprecision mediump float;\\nprecision mediump int;\\nvarying vec3 vOutputDirection;\\nuniform sampler2D envMap;\\nuniform vec2 texelSize;\\n\\n\" +\n        _getEncodings() +\n        \"\\n\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n\\nvoid main() {\\n\\tgl_FragColor = vec4(0.0);\\n\\tvec3 outputDirection = normalize(vOutputDirection);\\n\\tvec2 uv;\\n\\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\\n\\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\\n\\tvec2 f = fract(uv / texelSize - 0.5);\\n\\tuv -= f * texelSize;\\n\\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n\\tuv.x += texelSize.x;\\n\\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n\\tuv.y += texelSize.y;\\n\\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n\\tuv.x -= texelSize.x;\\n\\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n\\tvec3 tm = mix(tl, tr, f.x);\\n\\tvec3 bm = mix(bl, br, f.x);\\n\\tgl_FragColor.rgb = mix(tm, bm, f.y);\\n\\tgl_FragColor = linearToOutputTexel(gl_FragColor);\\n}\\n\\t\\t\",\n\n      blending: NoBlending,\n      depthTest: false,\n      depthWrite: false,\n    });\n\n    shaderMaterial.type = \"EquirectangularToCubeUV\";\n\n    return shaderMaterial;\n  }\n\n  function _getCubemapShader() {\n    var shaderMaterial = new RawShaderMaterial({\n      uniforms: {\n        envMap: {\n          value: null,\n        },\n        inputEncoding: {\n          value: ENCODINGS[LinearEncoding],\n        },\n        outputEncoding: {\n          value: ENCODINGS[LinearEncoding],\n        },\n      },\n\n      vertexShader: _getCommonVertexShader(),\n\n      fragmentShader:\n        \"\\nprecision mediump float;\\nprecision mediump int;\\nvarying vec3 vOutputDirection;\\nuniform samplerCube envMap;\\n\\n\" +\n        _getEncodings() +\n        \"\\n\\nvoid main() {\\n\\tgl_FragColor = vec4(0.0);\\n\\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\\n\\tgl_FragColor = linearToOutputTexel(gl_FragColor);\\n}\\n\\t\\t\",\n\n      blending: NoBlending,\n      depthTest: false,\n      depthWrite: false,\n    });\n\n    shaderMaterial.type = \"CubemapToCubeUV\";\n\n    return shaderMaterial;\n  }\n\n  function _getCommonVertexShader() {\n    return \"\\nprecision mediump float;\\nprecision mediump int;\\nattribute vec3 position;\\nattribute vec2 uv;\\nattribute float faceIndex;\\nvarying vec3 vOutputDirection;\\nvec3 getDirection(vec2 uv, float face) {\\n\\tuv = 2.0 * uv - 1.0;\\n\\tvec3 direction = vec3(uv, 1.0);\\n\\tif (face == 0.0) {\\n\\t\\tdirection = direction.zyx;\\n\\t\\tdirection.z *= -1.0;\\n\\t} else if (face == 1.0) {\\n\\t\\tdirection = direction.xzy;\\n\\t\\tdirection.z *= -1.0;\\n\\t} else if (face == 3.0) {\\n\\t\\tdirection = direction.zyx;\\n\\t\\tdirection.x *= -1.0;\\n\\t} else if (face == 4.0) {\\n\\t\\tdirection = direction.xzy;\\n\\t\\tdirection.y *= -1.0;\\n\\t} else if (face == 5.0) {\\n\\t\\tdirection.xz *= -1.0;\\n\\t}\\n\\treturn direction;\\n}\\nvoid main() {\\n\\tvOutputDirection = getDirection(uv, faceIndex);\\n\\tgl_Position = vec4( position, 1.0 );\\n}\\n\\t\";\n  }\n\n  function _getEncodings() {\n    return \"\\nuniform int inputEncoding;\\nuniform int outputEncoding;\\n\\n#include <encodings_pars_fragment>\\n\\nvec4 inputTexelToLinear(vec4 value){\\n\\tif(inputEncoding == 0){\\n\\t\\treturn value;\\n\\t}else if(inputEncoding == 1){\\n\\t\\treturn sRGBToLinear(value);\\n\\t}else if(inputEncoding == 2){\\n\\t\\treturn RGBEToLinear(value);\\n\\t}else if(inputEncoding == 3){\\n\\t\\treturn RGBMToLinear(value, 7.0);\\n\\t}else if(inputEncoding == 4){\\n\\t\\treturn RGBMToLinear(value, 16.0);\\n\\t}else if(inputEncoding == 5){\\n\\t\\treturn RGBDToLinear(value, 256.0);\\n\\t}else{\\n\\t\\treturn GammaToLinear(value, 2.2);\\n\\t}\\n}\\n\\nvec4 linearToOutputTexel(vec4 value){\\n\\tif(outputEncoding == 0){\\n\\t\\treturn value;\\n\\t}else if(outputEncoding == 1){\\n\\t\\treturn LinearTosRGB(value);\\n\\t}else if(outputEncoding == 2){\\n\\t\\treturn LinearToRGBE(value);\\n\\t}else if(outputEncoding == 3){\\n\\t\\treturn LinearToRGBM(value, 7.0);\\n\\t}else if(outputEncoding == 4){\\n\\t\\treturn LinearToRGBM(value, 16.0);\\n\\t}else if(outputEncoding == 5){\\n\\t\\treturn LinearToRGBD(value, 256.0);\\n\\t}else{\\n\\t\\treturn LinearToGamma(value, 2.2);\\n\\t}\\n}\\n\\nvec4 envMapTexelToLinear(vec4 color) {\\n\\treturn inputTexelToLinear(color);\\n}\\n\\t\";\n  }\n\n  /**\n   * @author mrdoob / http://mrdoob.com/\n   */\n\n  function Face4(a, b, c, d, normal, color, materialIndex) {\n    console.warn(\n      \"THREE.Face4 has been removed. A THREE.Face3 will be created instead.\"\n    );\n    return new Face3(a, b, c, normal, color, materialIndex);\n  }\n\n  var LineStrip = 0;\n\n  var LinePieces = 1;\n\n  function MeshFaceMaterial(materials) {\n    console.warn(\n      \"THREE.MeshFaceMaterial has been removed. Use an Array instead.\"\n    );\n    return materials;\n  }\n\n  function MultiMaterial(materials) {\n    if (materials === undefined) {\n      materials = [];\n    }\n\n    console.warn(\"THREE.MultiMaterial has been removed. Use an Array instead.\");\n    materials.isMultiMaterial = true;\n    materials.materials = materials;\n    materials.clone = function () {\n      return materials.slice();\n    };\n    return materials;\n  }\n\n  function PointCloud(geometry, material) {\n    console.warn(\"THREE.PointCloud has been renamed to THREE.Points.\");\n    return new Points(geometry, material);\n  }\n\n  function Particle(material) {\n    console.warn(\"THREE.Particle has been renamed to THREE.Sprite.\");\n    return new Sprite(material);\n  }\n\n  function ParticleSystem(geometry, material) {\n    console.warn(\"THREE.ParticleSystem has been renamed to THREE.Points.\");\n    return new Points(geometry, material);\n  }\n\n  function PointCloudMaterial(parameters) {\n    console.warn(\n      \"THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.\"\n    );\n    return new PointsMaterial(parameters);\n  }\n\n  function ParticleBasicMaterial(parameters) {\n    console.warn(\n      \"THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.\"\n    );\n    return new PointsMaterial(parameters);\n  }\n\n  function ParticleSystemMaterial(parameters) {\n    console.warn(\n      \"THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.\"\n    );\n    return new PointsMaterial(parameters);\n  }\n\n  function Vertex(x, y, z) {\n    console.warn(\"THREE.Vertex has been removed. Use THREE.Vector3 instead.\");\n    return new Vector3(x, y, z);\n  }\n\n  //\n\n  function DynamicBufferAttribute(array, itemSize) {\n    console.warn(\n      \"THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.\"\n    );\n    return new BufferAttribute(array, itemSize).setDynamic(true);\n  }\n\n  function Int8Attribute(array, itemSize) {\n    console.warn(\n      \"THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.\"\n    );\n    return new Int8BufferAttribute(array, itemSize);\n  }\n\n  function Uint8Attribute(array, itemSize) {\n    console.warn(\n      \"THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.\"\n    );\n    return new Uint8BufferAttribute(array, itemSize);\n  }\n\n  function Uint8ClampedAttribute(array, itemSize) {\n    console.warn(\n      \"THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.\"\n    );\n    return new Uint8ClampedBufferAttribute(array, itemSize);\n  }\n\n  function Int16Attribute(array, itemSize) {\n    console.warn(\n      \"THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.\"\n    );\n    return new Int16BufferAttribute(array, itemSize);\n  }\n\n  function Uint16Attribute(array, itemSize) {\n    console.warn(\n      \"THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.\"\n    );\n    return new Uint16BufferAttribute(array, itemSize);\n  }\n\n  function Int32Attribute(array, itemSize) {\n    console.warn(\n      \"THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.\"\n    );\n    return new Int32BufferAttribute(array, itemSize);\n  }\n\n  function Uint32Attribute(array, itemSize) {\n    console.warn(\n      \"THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.\"\n    );\n    return new Uint32BufferAttribute(array, itemSize);\n  }\n\n  function Float32Attribute(array, itemSize) {\n    console.warn(\n      \"THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.\"\n    );\n    return new Float32BufferAttribute(array, itemSize);\n  }\n\n  function Float64Attribute(array, itemSize) {\n    console.warn(\n      \"THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.\"\n    );\n    return new Float64BufferAttribute(array, itemSize);\n  }\n\n  //\n\n  Curve.create = function (construct, getPoint) {\n    console.log(\"THREE.Curve.create() has been deprecated\");\n\n    construct.prototype = Object.create(Curve.prototype);\n    construct.prototype.constructor = construct;\n    construct.prototype.getPoint = getPoint;\n\n    return construct;\n  };\n\n  //\n\n  Object.assign(CurvePath.prototype, {\n    createPointsGeometry: function (divisions) {\n      console.warn(\n        \"THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\"\n      );\n\n      // generate geometry from path points (for Line or Points objects)\n\n      var pts = this.getPoints(divisions);\n      return this.createGeometry(pts);\n    },\n\n    createSpacedPointsGeometry: function (divisions) {\n      console.warn(\n        \"THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\"\n      );\n\n      // generate geometry from equidistant sampling along the path\n\n      var pts = this.getSpacedPoints(divisions);\n      return this.createGeometry(pts);\n    },\n\n    createGeometry: function (points) {\n      console.warn(\n        \"THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\"\n      );\n\n      var geometry = new Geometry();\n\n      for (var i = 0, l = points.length; i < l; i++) {\n        var point = points[i];\n        geometry.vertices.push(new Vector3(point.x, point.y, point.z || 0));\n      }\n\n      return geometry;\n    },\n  });\n\n  //\n\n  Object.assign(Path.prototype, {\n    fromPoints: function (points) {\n      console.warn(\n        \"THREE.Path: .fromPoints() has been renamed to .setFromPoints().\"\n      );\n      return this.setFromPoints(points);\n    },\n  });\n\n  //\n\n  function ClosedSplineCurve3(points) {\n    console.warn(\n      \"THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.\"\n    );\n\n    CatmullRomCurve3.call(this, points);\n    this.type = \"catmullrom\";\n    this.closed = true;\n  }\n\n  ClosedSplineCurve3.prototype = Object.create(CatmullRomCurve3.prototype);\n\n  //\n\n  function SplineCurve3(points) {\n    console.warn(\n      \"THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.\"\n    );\n\n    CatmullRomCurve3.call(this, points);\n    this.type = \"catmullrom\";\n  }\n\n  SplineCurve3.prototype = Object.create(CatmullRomCurve3.prototype);\n\n  //\n\n  function Spline(points) {\n    console.warn(\n      \"THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.\"\n    );\n\n    CatmullRomCurve3.call(this, points);\n    this.type = \"catmullrom\";\n  }\n\n  Spline.prototype = Object.create(CatmullRomCurve3.prototype);\n\n  Object.assign(Spline.prototype, {\n    initFromArray: function (/* a */) {\n      console.error(\"THREE.Spline: .initFromArray() has been removed.\");\n    },\n    getControlPointsArray: function (/* optionalTarget */) {\n      console.error(\"THREE.Spline: .getControlPointsArray() has been removed.\");\n    },\n    reparametrizeByArcLength: function (/* samplingCoef */) {\n      console.error(\n        \"THREE.Spline: .reparametrizeByArcLength() has been removed.\"\n      );\n    },\n  });\n\n  //\n\n  function AxisHelper(size) {\n    console.warn(\"THREE.AxisHelper has been renamed to THREE.AxesHelper.\");\n    return new AxesHelper(size);\n  }\n\n  function BoundingBoxHelper(object, color) {\n    console.warn(\n      \"THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.\"\n    );\n    return new BoxHelper(object, color);\n  }\n\n  function EdgesHelper(object, hex) {\n    console.warn(\n      \"THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.\"\n    );\n    return new LineSegments(\n      new EdgesGeometry(object.geometry),\n      new LineBasicMaterial({\n        color: hex !== undefined ? hex : 0xffffff,\n      })\n    );\n  }\n\n  GridHelper.prototype.setColors = function () {\n    console.error(\n      \"THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.\"\n    );\n  };\n\n  SkeletonHelper.prototype.update = function () {\n    console.error(\n      \"THREE.SkeletonHelper: update() no longer needs to be called.\"\n    );\n  };\n\n  function WireframeHelper(object, hex) {\n    console.warn(\n      \"THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.\"\n    );\n    return new LineSegments(\n      new WireframeGeometry(object.geometry),\n      new LineBasicMaterial({\n        color: hex !== undefined ? hex : 0xffffff,\n      })\n    );\n  }\n\n  //\n\n  Object.assign(Loader.prototype, {\n    extractUrlBase: function (url) {\n      console.warn(\n        \"THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.\"\n      );\n      return LoaderUtils.extractUrlBase(url);\n    },\n  });\n\n  Loader.Handlers = {\n    add: function (/* regex, loader */) {\n      console.error(\n        \"THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.\"\n      );\n    },\n\n    get: function (/* file */) {\n      console.error(\n        \"THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.\"\n      );\n    },\n  };\n\n  function XHRLoader(manager) {\n    console.warn(\"THREE.XHRLoader has been renamed to THREE.FileLoader.\");\n    return new FileLoader(manager);\n  }\n\n  function BinaryTextureLoader(manager) {\n    console.warn(\n      \"THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.\"\n    );\n    return new DataTextureLoader(manager);\n  }\n\n  Object.assign(ObjectLoader.prototype, {\n    setTexturePath: function (value) {\n      console.warn(\n        \"THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().\"\n      );\n      return this.setResourcePath(value);\n    },\n  });\n\n  //\n\n  Object.assign(Box2.prototype, {\n    center: function (optionalTarget) {\n      console.warn(\"THREE.Box2: .center() has been renamed to .getCenter().\");\n      return this.getCenter(optionalTarget);\n    },\n    empty: function () {\n      console.warn(\"THREE.Box2: .empty() has been renamed to .isEmpty().\");\n      return this.isEmpty();\n    },\n    isIntersectionBox: function (box) {\n      console.warn(\n        \"THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().\"\n      );\n      return this.intersectsBox(box);\n    },\n    size: function (optionalTarget) {\n      console.warn(\"THREE.Box2: .size() has been renamed to .getSize().\");\n      return this.getSize(optionalTarget);\n    },\n  });\n\n  Object.assign(Box3.prototype, {\n    center: function (optionalTarget) {\n      console.warn(\"THREE.Box3: .center() has been renamed to .getCenter().\");\n      return this.getCenter(optionalTarget);\n    },\n    empty: function () {\n      console.warn(\"THREE.Box3: .empty() has been renamed to .isEmpty().\");\n      return this.isEmpty();\n    },\n    isIntersectionBox: function (box) {\n      console.warn(\n        \"THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().\"\n      );\n      return this.intersectsBox(box);\n    },\n    isIntersectionSphere: function (sphere) {\n      console.warn(\n        \"THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().\"\n      );\n      return this.intersectsSphere(sphere);\n    },\n    size: function (optionalTarget) {\n      console.warn(\"THREE.Box3: .size() has been renamed to .getSize().\");\n      return this.getSize(optionalTarget);\n    },\n  });\n\n  Line3.prototype.center = function (optionalTarget) {\n    console.warn(\"THREE.Line3: .center() has been renamed to .getCenter().\");\n    return this.getCenter(optionalTarget);\n  };\n\n  Object.assign(_Math, {\n    random16: function () {\n      console.warn(\n        \"THREE.Math: .random16() has been deprecated. Use Math.random() instead.\"\n      );\n      return Math.random();\n    },\n\n    nearestPowerOfTwo: function (value) {\n      console.warn(\n        \"THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().\"\n      );\n      return _Math.floorPowerOfTwo(value);\n    },\n\n    nextPowerOfTwo: function (value) {\n      console.warn(\n        \"THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().\"\n      );\n      return _Math.ceilPowerOfTwo(value);\n    },\n  });\n\n  Object.assign(Matrix3.prototype, {\n    flattenToArrayOffset: function (array, offset) {\n      console.warn(\n        \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"\n      );\n      return this.toArray(array, offset);\n    },\n    multiplyVector3: function (vector) {\n      console.warn(\n        \"THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.\"\n      );\n      return vector.applyMatrix3(this);\n    },\n    multiplyVector3Array: function (/* a */) {\n      console.error(\"THREE.Matrix3: .multiplyVector3Array() has been removed.\");\n    },\n    applyToBuffer: function (buffer /*, offset, length */) {\n      console.warn(\n        \"THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.\"\n      );\n      return this.applyToBufferAttribute(buffer);\n    },\n    applyToVector3Array: function (/* array, offset, length */) {\n      console.error(\"THREE.Matrix3: .applyToVector3Array() has been removed.\");\n    },\n  });\n\n  Object.assign(Matrix4.prototype, {\n    extractPosition: function (m) {\n      console.warn(\n        \"THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().\"\n      );\n      return this.copyPosition(m);\n    },\n    flattenToArrayOffset: function (array, offset) {\n      console.warn(\n        \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"\n      );\n      return this.toArray(array, offset);\n    },\n    getPosition: function () {\n      console.warn(\n        \"THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.\"\n      );\n      return new Vector3().setFromMatrixColumn(this, 3);\n    },\n    setRotationFromQuaternion: function (q) {\n      console.warn(\n        \"THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().\"\n      );\n      return this.makeRotationFromQuaternion(q);\n    },\n    multiplyToArray: function () {\n      console.warn(\"THREE.Matrix4: .multiplyToArray() has been removed.\");\n    },\n    multiplyVector3: function (vector) {\n      console.warn(\n        \"THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.\"\n      );\n      return vector.applyMatrix4(this);\n    },\n    multiplyVector4: function (vector) {\n      console.warn(\n        \"THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.\"\n      );\n      return vector.applyMatrix4(this);\n    },\n    multiplyVector3Array: function (/* a */) {\n      console.error(\"THREE.Matrix4: .multiplyVector3Array() has been removed.\");\n    },\n    rotateAxis: function (v) {\n      console.warn(\n        \"THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.\"\n      );\n      v.transformDirection(this);\n    },\n    crossVector: function (vector) {\n      console.warn(\n        \"THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.\"\n      );\n      return vector.applyMatrix4(this);\n    },\n    translate: function () {\n      console.error(\"THREE.Matrix4: .translate() has been removed.\");\n    },\n    rotateX: function () {\n      console.error(\"THREE.Matrix4: .rotateX() has been removed.\");\n    },\n    rotateY: function () {\n      console.error(\"THREE.Matrix4: .rotateY() has been removed.\");\n    },\n    rotateZ: function () {\n      console.error(\"THREE.Matrix4: .rotateZ() has been removed.\");\n    },\n    rotateByAxis: function () {\n      console.error(\"THREE.Matrix4: .rotateByAxis() has been removed.\");\n    },\n    applyToBuffer: function (buffer /*, offset, length */) {\n      console.warn(\n        \"THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.\"\n      );\n      return this.applyToBufferAttribute(buffer);\n    },\n    applyToVector3Array: function (/* array, offset, length */) {\n      console.error(\"THREE.Matrix4: .applyToVector3Array() has been removed.\");\n    },\n    makeFrustum: function (left, right, bottom, top, near, far) {\n      console.warn(\n        \"THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.\"\n      );\n      return this.makePerspective(left, right, top, bottom, near, far);\n    },\n  });\n\n  Plane.prototype.isIntersectionLine = function (line) {\n    console.warn(\n      \"THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().\"\n    );\n    return this.intersectsLine(line);\n  };\n\n  Quaternion.prototype.multiplyVector3 = function (vector) {\n    console.warn(\n      \"THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.\"\n    );\n    return vector.applyQuaternion(this);\n  };\n\n  Object.assign(Ray.prototype, {\n    isIntersectionBox: function (box) {\n      console.warn(\n        \"THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().\"\n      );\n      return this.intersectsBox(box);\n    },\n    isIntersectionPlane: function (plane) {\n      console.warn(\n        \"THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().\"\n      );\n      return this.intersectsPlane(plane);\n    },\n    isIntersectionSphere: function (sphere) {\n      console.warn(\n        \"THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().\"\n      );\n      return this.intersectsSphere(sphere);\n    },\n  });\n\n  Object.assign(Triangle.prototype, {\n    area: function () {\n      console.warn(\"THREE.Triangle: .area() has been renamed to .getArea().\");\n      return this.getArea();\n    },\n    barycoordFromPoint: function (point, target) {\n      console.warn(\n        \"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().\"\n      );\n      return this.getBarycoord(point, target);\n    },\n    midpoint: function (target) {\n      console.warn(\n        \"THREE.Triangle: .midpoint() has been renamed to .getMidpoint().\"\n      );\n      return this.getMidpoint(target);\n    },\n    normal: function (target) {\n      console.warn(\n        \"THREE.Triangle: .normal() has been renamed to .getNormal().\"\n      );\n      return this.getNormal(target);\n    },\n    plane: function (target) {\n      console.warn(\"THREE.Triangle: .plane() has been renamed to .getPlane().\");\n      return this.getPlane(target);\n    },\n  });\n\n  Object.assign(Triangle, {\n    barycoordFromPoint: function (point, a, b, c, target) {\n      console.warn(\n        \"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().\"\n      );\n      return Triangle.getBarycoord(point, a, b, c, target);\n    },\n    normal: function (a, b, c, target) {\n      console.warn(\n        \"THREE.Triangle: .normal() has been renamed to .getNormal().\"\n      );\n      return Triangle.getNormal(a, b, c, target);\n    },\n  });\n\n  Object.assign(Shape.prototype, {\n    extractAllPoints: function (divisions) {\n      console.warn(\n        \"THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.\"\n      );\n      return this.extractPoints(divisions);\n    },\n    extrude: function (options) {\n      console.warn(\n        \"THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.\"\n      );\n      return new ExtrudeGeometry(this, options);\n    },\n    makeGeometry: function (options) {\n      console.warn(\n        \"THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.\"\n      );\n      return new ShapeGeometry(this, options);\n    },\n  });\n\n  Object.assign(Vector2.prototype, {\n    fromAttribute: function (attribute, index, offset) {\n      console.warn(\n        \"THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().\"\n      );\n      return this.fromBufferAttribute(attribute, index, offset);\n    },\n    distanceToManhattan: function (v) {\n      console.warn(\n        \"THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().\"\n      );\n      return this.manhattanDistanceTo(v);\n    },\n    lengthManhattan: function () {\n      console.warn(\n        \"THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().\"\n      );\n      return this.manhattanLength();\n    },\n  });\n\n  Object.assign(Vector3.prototype, {\n    setEulerFromRotationMatrix: function () {\n      console.error(\n        \"THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.\"\n      );\n    },\n    setEulerFromQuaternion: function () {\n      console.error(\n        \"THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.\"\n      );\n    },\n    getPositionFromMatrix: function (m) {\n      console.warn(\n        \"THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().\"\n      );\n      return this.setFromMatrixPosition(m);\n    },\n    getScaleFromMatrix: function (m) {\n      console.warn(\n        \"THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().\"\n      );\n      return this.setFromMatrixScale(m);\n    },\n    getColumnFromMatrix: function (index, matrix) {\n      console.warn(\n        \"THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().\"\n      );\n      return this.setFromMatrixColumn(matrix, index);\n    },\n    applyProjection: function (m) {\n      console.warn(\n        \"THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.\"\n      );\n      return this.applyMatrix4(m);\n    },\n    fromAttribute: function (attribute, index, offset) {\n      console.warn(\n        \"THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().\"\n      );\n      return this.fromBufferAttribute(attribute, index, offset);\n    },\n    distanceToManhattan: function (v) {\n      console.warn(\n        \"THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().\"\n      );\n      return this.manhattanDistanceTo(v);\n    },\n    lengthManhattan: function () {\n      console.warn(\n        \"THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().\"\n      );\n      return this.manhattanLength();\n    },\n  });\n\n  Object.assign(Vector4.prototype, {\n    fromAttribute: function (attribute, index, offset) {\n      console.warn(\n        \"THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().\"\n      );\n      return this.fromBufferAttribute(attribute, index, offset);\n    },\n    lengthManhattan: function () {\n      console.warn(\n        \"THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().\"\n      );\n      return this.manhattanLength();\n    },\n  });\n\n  //\n\n  Object.assign(Geometry.prototype, {\n    computeTangents: function () {\n      console.error(\"THREE.Geometry: .computeTangents() has been removed.\");\n    },\n    computeLineDistances: function () {\n      console.error(\n        \"THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.\"\n      );\n    },\n  });\n\n  Object.assign(Object3D.prototype, {\n    getChildByName: function (name) {\n      console.warn(\n        \"THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().\"\n      );\n      return this.getObjectByName(name);\n    },\n    renderDepth: function () {\n      console.warn(\n        \"THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.\"\n      );\n    },\n    translate: function (distance, axis) {\n      console.warn(\n        \"THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.\"\n      );\n      return this.translateOnAxis(axis, distance);\n    },\n    getWorldRotation: function () {\n      console.error(\n        \"THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.\"\n      );\n    },\n  });\n\n  Object.defineProperties(Object3D.prototype, {\n    eulerOrder: {\n      get: function () {\n        console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\");\n        return this.rotation.order;\n      },\n      set: function (value) {\n        console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\");\n        this.rotation.order = value;\n      },\n    },\n    useQuaternion: {\n      get: function () {\n        console.warn(\n          \"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\"\n        );\n      },\n      set: function () {\n        console.warn(\n          \"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\"\n        );\n      },\n    },\n  });\n\n  Object.assign(Mesh.prototype, {\n    setDrawMode: function () {\n      console.error(\n        \"THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.\"\n      );\n    },\n  });\n\n  Object.defineProperties(Mesh.prototype, {\n    drawMode: {\n      get: function () {\n        console.error(\n          \"THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.\"\n        );\n        return TrianglesDrawMode;\n      },\n      set: function () {\n        console.error(\n          \"THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.\"\n        );\n      },\n    },\n  });\n\n  Object.defineProperties(LOD.prototype, {\n    objects: {\n      get: function () {\n        console.warn(\"THREE.LOD: .objects has been renamed to .levels.\");\n        return this.levels;\n      },\n    },\n  });\n\n  Object.defineProperty(Skeleton.prototype, \"useVertexTexture\", {\n    get: function () {\n      console.warn(\"THREE.Skeleton: useVertexTexture has been removed.\");\n    },\n    set: function () {\n      console.warn(\"THREE.Skeleton: useVertexTexture has been removed.\");\n    },\n  });\n\n  SkinnedMesh.prototype.initBones = function () {\n    console.error(\"THREE.SkinnedMesh: initBones() has been removed.\");\n  };\n\n  Object.defineProperty(Curve.prototype, \"__arcLengthDivisions\", {\n    get: function () {\n      console.warn(\n        \"THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.\"\n      );\n      return this.arcLengthDivisions;\n    },\n    set: function (value) {\n      console.warn(\n        \"THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.\"\n      );\n      this.arcLengthDivisions = value;\n    },\n  });\n\n  //\n\n  PerspectiveCamera.prototype.setLens = function (focalLength, filmGauge) {\n    console.warn(\n      \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n        \"Use .setFocalLength and .filmGauge for a photographic setup.\"\n    );\n\n    if (filmGauge !== undefined) {\n      this.filmGauge = filmGauge;\n    }\n    this.setFocalLength(focalLength);\n  };\n\n  //\n\n  Object.defineProperties(Light.prototype, {\n    onlyShadow: {\n      set: function () {\n        console.warn(\"THREE.Light: .onlyShadow has been removed.\");\n      },\n    },\n    shadowCameraFov: {\n      set: function (value) {\n        console.warn(\n          \"THREE.Light: .shadowCameraFov is now .shadow.camera.fov.\"\n        );\n        this.shadow.camera.fov = value;\n      },\n    },\n    shadowCameraLeft: {\n      set: function (value) {\n        console.warn(\n          \"THREE.Light: .shadowCameraLeft is now .shadow.camera.left.\"\n        );\n        this.shadow.camera.left = value;\n      },\n    },\n    shadowCameraRight: {\n      set: function (value) {\n        console.warn(\n          \"THREE.Light: .shadowCameraRight is now .shadow.camera.right.\"\n        );\n        this.shadow.camera.right = value;\n      },\n    },\n    shadowCameraTop: {\n      set: function (value) {\n        console.warn(\n          \"THREE.Light: .shadowCameraTop is now .shadow.camera.top.\"\n        );\n        this.shadow.camera.top = value;\n      },\n    },\n    shadowCameraBottom: {\n      set: function (value) {\n        console.warn(\n          \"THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.\"\n        );\n        this.shadow.camera.bottom = value;\n      },\n    },\n    shadowCameraNear: {\n      set: function (value) {\n        console.warn(\n          \"THREE.Light: .shadowCameraNear is now .shadow.camera.near.\"\n        );\n        this.shadow.camera.near = value;\n      },\n    },\n    shadowCameraFar: {\n      set: function (value) {\n        console.warn(\n          \"THREE.Light: .shadowCameraFar is now .shadow.camera.far.\"\n        );\n        this.shadow.camera.far = value;\n      },\n    },\n    shadowCameraVisible: {\n      set: function () {\n        console.warn(\n          \"THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.\"\n        );\n      },\n    },\n    shadowBias: {\n      set: function (value) {\n        console.warn(\"THREE.Light: .shadowBias is now .shadow.bias.\");\n        this.shadow.bias = value;\n      },\n    },\n    shadowDarkness: {\n      set: function () {\n        console.warn(\"THREE.Light: .shadowDarkness has been removed.\");\n      },\n    },\n    shadowMapWidth: {\n      set: function (value) {\n        console.warn(\n          \"THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.\"\n        );\n        this.shadow.mapSize.width = value;\n      },\n    },\n    shadowMapHeight: {\n      set: function (value) {\n        console.warn(\n          \"THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.\"\n        );\n        this.shadow.mapSize.height = value;\n      },\n    },\n  });\n\n  //\n\n  Object.defineProperties(BufferAttribute.prototype, {\n    length: {\n      get: function () {\n        console.warn(\n          \"THREE.BufferAttribute: .length has been deprecated. Use .count instead.\"\n        );\n        return this.array.length;\n      },\n    },\n    dynamic: {\n      get: function () {\n        console.warn(\n          \"THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.\"\n        );\n        return this.usage === DynamicDrawUsage;\n      },\n      set: function (/* value */) {\n        console.warn(\n          \"THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.\"\n        );\n        this.setUsage(DynamicDrawUsage);\n      },\n    },\n  });\n\n  Object.assign(BufferAttribute.prototype, {\n    setDynamic: function (value) {\n      console.warn(\n        \"THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.\"\n      );\n      this.setUsage(value === true ? DynamicDrawUsage : StaticDrawUsage);\n      return this;\n    },\n    copyIndicesArray: function (/* indices */) {\n      console.error(\n        \"THREE.BufferAttribute: .copyIndicesArray() has been removed.\"\n      );\n    },\n    setArray: function (/* array */) {\n      console.error(\n        \"THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers\"\n      );\n    },\n  });\n\n  Object.assign(BufferGeometry.prototype, {\n    addIndex: function (index) {\n      console.warn(\n        \"THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().\"\n      );\n      this.setIndex(index);\n    },\n    addAttribute: function (name, attribute) {\n      console.warn(\n        \"THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().\"\n      );\n\n      if (\n        !(attribute && attribute.isBufferAttribute) &&\n        !(attribute && attribute.isInterleavedBufferAttribute)\n      ) {\n        console.warn(\n          \"THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).\"\n        );\n\n        return this.setAttribute(\n          name,\n          new BufferAttribute(arguments[1], arguments[2])\n        );\n      }\n\n      if (name === \"index\") {\n        console.warn(\n          \"THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.\"\n        );\n        this.setIndex(attribute);\n\n        return this;\n      }\n\n      return this.setAttribute(name, attribute);\n    },\n    addDrawCall: function (start, count, indexOffset) {\n      if (indexOffset !== undefined) {\n        console.warn(\n          \"THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.\"\n        );\n      }\n      console.warn(\"THREE.BufferGeometry: .addDrawCall() is now .addGroup().\");\n      this.addGroup(start, count);\n    },\n    clearDrawCalls: function () {\n      console.warn(\n        \"THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().\"\n      );\n      this.clearGroups();\n    },\n    computeTangents: function () {\n      console.warn(\n        \"THREE.BufferGeometry: .computeTangents() has been removed.\"\n      );\n    },\n    computeOffsets: function () {\n      console.warn(\"THREE.BufferGeometry: .computeOffsets() has been removed.\");\n    },\n    removeAttribute: function (name) {\n      console.warn(\n        \"THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().\"\n      );\n\n      return this.deleteAttribute(name);\n    },\n  });\n\n  Object.defineProperties(BufferGeometry.prototype, {\n    drawcalls: {\n      get: function () {\n        console.error(\n          \"THREE.BufferGeometry: .drawcalls has been renamed to .groups.\"\n        );\n        return this.groups;\n      },\n    },\n    offsets: {\n      get: function () {\n        console.warn(\n          \"THREE.BufferGeometry: .offsets has been renamed to .groups.\"\n        );\n        return this.groups;\n      },\n    },\n  });\n\n  Object.defineProperties(InterleavedBuffer.prototype, {\n    dynamic: {\n      get: function () {\n        console.warn(\n          \"THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.\"\n        );\n        return this.usage === DynamicDrawUsage;\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.\"\n        );\n        this.setUsage(value);\n      },\n    },\n  });\n\n  Object.assign(InterleavedBuffer.prototype, {\n    setDynamic: function (value) {\n      console.warn(\n        \"THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.\"\n      );\n      this.setUsage(value === true ? DynamicDrawUsage : StaticDrawUsage);\n      return this;\n    },\n    setArray: function (/* array */) {\n      console.error(\n        \"THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers\"\n      );\n    },\n  });\n\n  //\n\n  Object.assign(ExtrudeBufferGeometry.prototype, {\n    getArrays: function () {\n      console.error(\n        \"THREE.ExtrudeBufferGeometry: .getArrays() has been removed.\"\n      );\n    },\n\n    addShapeList: function () {\n      console.error(\n        \"THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.\"\n      );\n    },\n\n    addShape: function () {\n      console.error(\n        \"THREE.ExtrudeBufferGeometry: .addShape() has been removed.\"\n      );\n    },\n  });\n\n  //\n\n  Object.defineProperties(Uniform.prototype, {\n    dynamic: {\n      set: function () {\n        console.warn(\n          \"THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.\"\n        );\n      },\n    },\n    onUpdate: {\n      value: function () {\n        console.warn(\n          \"THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.\"\n        );\n        return this;\n      },\n    },\n  });\n\n  //\n\n  Object.defineProperties(Material.prototype, {\n    wrapAround: {\n      get: function () {\n        console.warn(\"THREE.Material: .wrapAround has been removed.\");\n      },\n      set: function () {\n        console.warn(\"THREE.Material: .wrapAround has been removed.\");\n      },\n    },\n\n    overdraw: {\n      get: function () {\n        console.warn(\"THREE.Material: .overdraw has been removed.\");\n      },\n      set: function () {\n        console.warn(\"THREE.Material: .overdraw has been removed.\");\n      },\n    },\n\n    wrapRGB: {\n      get: function () {\n        console.warn(\"THREE.Material: .wrapRGB has been removed.\");\n        return new Color();\n      },\n    },\n\n    shading: {\n      get: function () {\n        console.error(\n          \"THREE.\" +\n            this.type +\n            \": .shading has been removed. Use the boolean .flatShading instead.\"\n        );\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE.\" +\n            this.type +\n            \": .shading has been removed. Use the boolean .flatShading instead.\"\n        );\n        this.flatShading = value === FlatShading;\n      },\n    },\n\n    stencilMask: {\n      get: function () {\n        console.warn(\n          \"THREE.\" +\n            this.type +\n            \": .stencilMask has been removed. Use .stencilFuncMask instead.\"\n        );\n        return this.stencilFuncMask;\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE.\" +\n            this.type +\n            \": .stencilMask has been removed. Use .stencilFuncMask instead.\"\n        );\n        this.stencilFuncMask = value;\n      },\n    },\n  });\n\n  Object.defineProperties(MeshPhongMaterial.prototype, {\n    metal: {\n      get: function () {\n        console.warn(\n          \"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.\"\n        );\n        return false;\n      },\n      set: function () {\n        console.warn(\n          \"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead\"\n        );\n      },\n    },\n  });\n\n  Object.defineProperties(ShaderMaterial.prototype, {\n    derivatives: {\n      get: function () {\n        console.warn(\n          \"THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"\n        );\n        return this.extensions.derivatives;\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"\n        );\n        this.extensions.derivatives = value;\n      },\n    },\n  });\n\n  //\n\n  Object.assign(WebGLRenderer.prototype, {\n    clearTarget: function (renderTarget, color, depth, stencil) {\n      console.warn(\n        \"THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.\"\n      );\n      this.setRenderTarget(renderTarget);\n      this.clear(color, depth, stencil);\n    },\n    animate: function (callback) {\n      console.warn(\n        \"THREE.WebGLRenderer: .animate() is now .setAnimationLoop().\"\n      );\n      this.setAnimationLoop(callback);\n    },\n    getCurrentRenderTarget: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().\"\n      );\n      return this.getRenderTarget();\n    },\n    getMaxAnisotropy: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().\"\n      );\n      return this.capabilities.getMaxAnisotropy();\n    },\n    getPrecision: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.\"\n      );\n      return this.capabilities.precision;\n    },\n    resetGLState: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .resetGLState() is now .state.reset().\"\n      );\n      return this.state.reset();\n    },\n    supportsFloatTextures: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).\"\n      );\n      return this.extensions.get(\"OES_texture_float\");\n    },\n    supportsHalfFloatTextures: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).\"\n      );\n      return this.extensions.get(\"OES_texture_half_float\");\n    },\n    supportsStandardDerivatives: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).\"\n      );\n      return this.extensions.get(\"OES_standard_derivatives\");\n    },\n    supportsCompressedTextureS3TC: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).\"\n      );\n      return this.extensions.get(\"WEBGL_compressed_texture_s3tc\");\n    },\n    supportsCompressedTexturePVRTC: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).\"\n      );\n      return this.extensions.get(\"WEBGL_compressed_texture_pvrtc\");\n    },\n    supportsBlendMinMax: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).\"\n      );\n      return this.extensions.get(\"EXT_blend_minmax\");\n    },\n    supportsVertexTextures: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.\"\n      );\n      return this.capabilities.vertexTextures;\n    },\n    supportsInstancedArrays: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).\"\n      );\n      return this.extensions.get(\"ANGLE_instanced_arrays\");\n    },\n    enableScissorTest: function (boolean) {\n      console.warn(\n        \"THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().\"\n      );\n      this.setScissorTest(boolean);\n    },\n    initMaterial: function () {\n      console.warn(\"THREE.WebGLRenderer: .initMaterial() has been removed.\");\n    },\n    addPrePlugin: function () {\n      console.warn(\"THREE.WebGLRenderer: .addPrePlugin() has been removed.\");\n    },\n    addPostPlugin: function () {\n      console.warn(\"THREE.WebGLRenderer: .addPostPlugin() has been removed.\");\n    },\n    updateShadowMap: function () {\n      console.warn(\"THREE.WebGLRenderer: .updateShadowMap() has been removed.\");\n    },\n    setFaceCulling: function () {\n      console.warn(\"THREE.WebGLRenderer: .setFaceCulling() has been removed.\");\n    },\n    allocTextureUnit: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .allocTextureUnit() has been removed.\"\n      );\n    },\n    setTexture: function () {\n      console.warn(\"THREE.WebGLRenderer: .setTexture() has been removed.\");\n    },\n    setTexture2D: function () {\n      console.warn(\"THREE.WebGLRenderer: .setTexture2D() has been removed.\");\n    },\n    setTextureCube: function () {\n      console.warn(\"THREE.WebGLRenderer: .setTextureCube() has been removed.\");\n    },\n    getActiveMipMapLevel: function () {\n      console.warn(\n        \"THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().\"\n      );\n      return this.getActiveMipmapLevel();\n    },\n  });\n\n  Object.defineProperties(WebGLRenderer.prototype, {\n    shadowMapEnabled: {\n      get: function () {\n        return this.shadowMap.enabled;\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.\"\n        );\n        this.shadowMap.enabled = value;\n      },\n    },\n    shadowMapType: {\n      get: function () {\n        return this.shadowMap.type;\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.\"\n        );\n        this.shadowMap.type = value;\n      },\n    },\n    shadowMapCullFace: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.\"\n        );\n        return undefined;\n      },\n      set: function (/* value */) {\n        console.warn(\n          \"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.\"\n        );\n      },\n    },\n    context: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.\"\n        );\n        return this.getContext();\n      },\n    },\n    vr: {\n      get: function () {\n        console.warn(\"THREE.WebGLRenderer: .vr has been renamed to .xr\");\n        return this.xr;\n      },\n    },\n    gammaInput: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.\"\n        );\n        return false;\n      },\n      set: function () {\n        console.warn(\n          \"THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.\"\n        );\n      },\n    },\n    gammaOutput: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.\"\n        );\n        return false;\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.\"\n        );\n        this.outputEncoding = value === true ? sRGBEncoding : LinearEncoding;\n      },\n    },\n  });\n\n  Object.defineProperties(WebGLShadowMap.prototype, {\n    cullFace: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.\"\n        );\n        return undefined;\n      },\n      set: function (/* cullFace */) {\n        console.warn(\n          \"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.\"\n        );\n      },\n    },\n    renderReverseSided: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.\"\n        );\n        return undefined;\n      },\n      set: function () {\n        console.warn(\n          \"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.\"\n        );\n      },\n    },\n    renderSingleSided: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.\"\n        );\n        return undefined;\n      },\n      set: function () {\n        console.warn(\n          \"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.\"\n        );\n      },\n    },\n  });\n\n  //\n\n  Object.defineProperties(WebGLRenderTargetCube.prototype, {\n    activeCubeFace: {\n      set: function (/* value */) {\n        console.warn(\n          \"THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().\"\n        );\n      },\n    },\n    activeMipMapLevel: {\n      set: function (/* value */) {\n        console.warn(\n          \"THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().\"\n        );\n      },\n    },\n  });\n\n  //\n\n  Object.defineProperties(WebGLRenderTarget.prototype, {\n    wrapS: {\n      get: function () {\n        console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\");\n        return this.texture.wrapS;\n      },\n      set: function (value) {\n        console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\");\n        this.texture.wrapS = value;\n      },\n    },\n    wrapT: {\n      get: function () {\n        console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\");\n        return this.texture.wrapT;\n      },\n      set: function (value) {\n        console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\");\n        this.texture.wrapT = value;\n      },\n    },\n    magFilter: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"\n        );\n        return this.texture.magFilter;\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"\n        );\n        this.texture.magFilter = value;\n      },\n    },\n    minFilter: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"\n        );\n        return this.texture.minFilter;\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"\n        );\n        this.texture.minFilter = value;\n      },\n    },\n    anisotropy: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"\n        );\n        return this.texture.anisotropy;\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"\n        );\n        this.texture.anisotropy = value;\n      },\n    },\n    offset: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"\n        );\n        return this.texture.offset;\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"\n        );\n        this.texture.offset = value;\n      },\n    },\n    repeat: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"\n        );\n        return this.texture.repeat;\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"\n        );\n        this.texture.repeat = value;\n      },\n    },\n    format: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .format is now .texture.format.\"\n        );\n        return this.texture.format;\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .format is now .texture.format.\"\n        );\n        this.texture.format = value;\n      },\n    },\n    type: {\n      get: function () {\n        console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\");\n        return this.texture.type;\n      },\n      set: function (value) {\n        console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\");\n        this.texture.type = value;\n      },\n    },\n    generateMipmaps: {\n      get: function () {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"\n        );\n        return this.texture.generateMipmaps;\n      },\n      set: function (value) {\n        console.warn(\n          \"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"\n        );\n        this.texture.generateMipmaps = value;\n      },\n    },\n  });\n\n  //\n\n  Object.defineProperties(Audio.prototype, {\n    load: {\n      value: function (file) {\n        console.warn(\n          \"THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.\"\n        );\n        var scope = this;\n        var audioLoader = new AudioLoader();\n        audioLoader.load(file, function (buffer) {\n          scope.setBuffer(buffer);\n        });\n        return this;\n      },\n    },\n    startTime: {\n      set: function () {\n        console.warn(\"THREE.Audio: .startTime is now .play( delay ).\");\n      },\n    },\n  });\n\n  AudioAnalyser.prototype.getData = function () {\n    console.warn(\"THREE.AudioAnalyser: .getData() is now .getFrequencyData().\");\n    return this.getFrequencyData();\n  };\n\n  //\n\n  CubeCamera.prototype.updateCubeMap = function (renderer, scene) {\n    console.warn(\"THREE.CubeCamera: .updateCubeMap() is now .update().\");\n    return this.update(renderer, scene);\n  };\n\n  //\n\n  var GeometryUtils = {\n    merge: function (geometry1, geometry2, materialIndexOffset) {\n      console.warn(\n        \"THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.\"\n      );\n      var matrix;\n\n      if (geometry2.isMesh) {\n        geometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n        matrix = geometry2.matrix;\n        geometry2 = geometry2.geometry;\n      }\n\n      geometry1.merge(geometry2, matrix, materialIndexOffset);\n    },\n\n    center: function (geometry) {\n      console.warn(\n        \"THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.\"\n      );\n      return geometry.center();\n    },\n  };\n\n  ImageUtils.crossOrigin = undefined;\n\n  ImageUtils.loadTexture = function (url, mapping, onLoad, onError) {\n    console.warn(\n      \"THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.\"\n    );\n\n    var loader = new TextureLoader();\n    loader.setCrossOrigin(this.crossOrigin);\n\n    var texture = loader.load(url, onLoad, undefined, onError);\n\n    if (mapping) {\n      texture.mapping = mapping;\n    }\n\n    return texture;\n  };\n\n  ImageUtils.loadTextureCube = function (urls, mapping, onLoad, onError) {\n    console.warn(\n      \"THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.\"\n    );\n\n    var loader = new CubeTextureLoader();\n    loader.setCrossOrigin(this.crossOrigin);\n\n    var texture = loader.load(urls, onLoad, undefined, onError);\n\n    if (mapping) {\n      texture.mapping = mapping;\n    }\n\n    return texture;\n  };\n\n  ImageUtils.loadCompressedTexture = function () {\n    console.error(\n      \"THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.\"\n    );\n  };\n\n  ImageUtils.loadCompressedTextureCube = function () {\n    console.error(\n      \"THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.\"\n    );\n  };\n\n  //\n\n  function CanvasRenderer() {\n    console.error(\"THREE.CanvasRenderer has been removed\");\n  }\n\n  //\n\n  function JSONLoader() {\n    console.error(\"THREE.JSONLoader has been removed.\");\n  }\n\n  //\n\n  var SceneUtils = {\n    createMultiMaterialObject: function (/* geometry, materials */) {\n      console.error(\n        \"THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js\"\n      );\n    },\n\n    detach: function (/* child, parent, scene */) {\n      console.error(\n        \"THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js\"\n      );\n    },\n\n    attach: function (/* child, scene, parent */) {\n      console.error(\n        \"THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js\"\n      );\n    },\n  };\n\n  //\n\n  function LensFlare() {\n    console.error(\n      \"THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js\"\n    );\n  }\n\n  if (typeof __THREE_DEVTOOLS__ !== \"undefined\") {\n    /* eslint-disable no-undef */\n    __THREE_DEVTOOLS__.dispatchEvent(\n      new CustomEvent(\"register\", {\n        detail: {\n          revision: REVISION,\n        },\n      })\n    );\n    /* eslint-enable no-undef */\n  }\n\n  exports.ACESFilmicToneMapping = ACESFilmicToneMapping;\n  exports.AddEquation = AddEquation;\n  exports.AddOperation = AddOperation;\n  exports.AdditiveBlending = AdditiveBlending;\n  exports.AlphaFormat = AlphaFormat;\n  exports.AlwaysDepth = AlwaysDepth;\n  exports.AlwaysStencilFunc = AlwaysStencilFunc;\n  exports.AmbientLight = AmbientLight;\n  exports.AmbientLightProbe = AmbientLightProbe;\n  exports.AnimationClip = AnimationClip;\n  exports.AnimationLoader = AnimationLoader;\n  exports.AnimationMixer = AnimationMixer;\n  exports.AnimationObjectGroup = AnimationObjectGroup;\n  exports.AnimationUtils = AnimationUtils;\n  exports.ArcCurve = ArcCurve;\n  exports.ArrayCamera = ArrayCamera;\n  exports.ArrowHelper = ArrowHelper;\n  exports.Audio = Audio;\n  exports.AudioAnalyser = AudioAnalyser;\n  exports.AudioContext = AudioContext;\n  exports.AudioListener = AudioListener;\n  exports.AudioLoader = AudioLoader;\n  exports.AxesHelper = AxesHelper;\n  exports.AxisHelper = AxisHelper;\n  exports.BackSide = BackSide;\n  exports.BasicDepthPacking = BasicDepthPacking;\n  exports.BasicShadowMap = BasicShadowMap;\n  exports.BinaryTextureLoader = BinaryTextureLoader;\n  exports.Bone = Bone;\n  exports.BooleanKeyframeTrack = BooleanKeyframeTrack;\n  exports.BoundingBoxHelper = BoundingBoxHelper;\n  exports.Box2 = Box2;\n  exports.Box3 = Box3;\n  exports.Box3Helper = Box3Helper;\n  exports.BoxBufferGeometry = BoxBufferGeometry;\n  exports.BoxGeometry = BoxGeometry;\n  exports.BoxHelper = BoxHelper;\n  exports.BufferAttribute = BufferAttribute;\n  exports.BufferGeometry = BufferGeometry;\n  exports.BufferGeometryLoader = BufferGeometryLoader;\n  exports.ByteType = ByteType;\n  exports.Cache = Cache;\n  exports.Camera = Camera;\n  exports.CameraHelper = CameraHelper;\n  exports.CanvasRenderer = CanvasRenderer;\n  exports.CanvasTexture = CanvasTexture;\n  exports.CatmullRomCurve3 = CatmullRomCurve3;\n  exports.CineonToneMapping = CineonToneMapping;\n  exports.CircleBufferGeometry = CircleBufferGeometry;\n  exports.CircleGeometry = CircleGeometry;\n  exports.ClampToEdgeWrapping = ClampToEdgeWrapping;\n  exports.Clock = Clock;\n  exports.ClosedSplineCurve3 = ClosedSplineCurve3;\n  exports.Color = Color;\n  exports.ColorKeyframeTrack = ColorKeyframeTrack;\n  exports.CompressedTexture = CompressedTexture;\n  exports.CompressedTextureLoader = CompressedTextureLoader;\n  exports.ConeBufferGeometry = ConeBufferGeometry;\n  exports.ConeGeometry = ConeGeometry;\n  exports.CubeCamera = CubeCamera;\n  exports.CubeGeometry = BoxGeometry;\n  exports.CubeReflectionMapping = CubeReflectionMapping;\n  exports.CubeRefractionMapping = CubeRefractionMapping;\n  exports.CubeTexture = CubeTexture;\n  exports.CubeTextureLoader = CubeTextureLoader;\n  exports.CubeUVReflectionMapping = CubeUVReflectionMapping;\n  exports.CubeUVRefractionMapping = CubeUVRefractionMapping;\n  exports.CubicBezierCurve = CubicBezierCurve;\n  exports.CubicBezierCurve3 = CubicBezierCurve3;\n  exports.CubicInterpolant = CubicInterpolant;\n  exports.CullFaceBack = CullFaceBack;\n  exports.CullFaceFront = CullFaceFront;\n  exports.CullFaceFrontBack = CullFaceFrontBack;\n  exports.CullFaceNone = CullFaceNone;\n  exports.Curve = Curve;\n  exports.CurvePath = CurvePath;\n  exports.CustomBlending = CustomBlending;\n  exports.CylinderBufferGeometry = CylinderBufferGeometry;\n  exports.CylinderGeometry = CylinderGeometry;\n  exports.Cylindrical = Cylindrical;\n  exports.DataTexture = DataTexture;\n  exports.DataTexture2DArray = DataTexture2DArray;\n  exports.DataTexture3D = DataTexture3D;\n  exports.DataTextureLoader = DataTextureLoader;\n  exports.DecrementStencilOp = DecrementStencilOp;\n  exports.DecrementWrapStencilOp = DecrementWrapStencilOp;\n  exports.DefaultLoadingManager = DefaultLoadingManager;\n  exports.DepthFormat = DepthFormat;\n  exports.DepthStencilFormat = DepthStencilFormat;\n  exports.DepthTexture = DepthTexture;\n  exports.DirectionalLight = DirectionalLight;\n  exports.DirectionalLightHelper = DirectionalLightHelper;\n  exports.DirectionalLightShadow = DirectionalLightShadow;\n  exports.DiscreteInterpolant = DiscreteInterpolant;\n  exports.DodecahedronBufferGeometry = DodecahedronBufferGeometry;\n  exports.DodecahedronGeometry = DodecahedronGeometry;\n  exports.DoubleSide = DoubleSide;\n  exports.DstAlphaFactor = DstAlphaFactor;\n  exports.DstColorFactor = DstColorFactor;\n  exports.DynamicBufferAttribute = DynamicBufferAttribute;\n  exports.DynamicCopyUsage = DynamicCopyUsage;\n  exports.DynamicDrawUsage = DynamicDrawUsage;\n  exports.DynamicReadUsage = DynamicReadUsage;\n  exports.EdgesGeometry = EdgesGeometry;\n  exports.EdgesHelper = EdgesHelper;\n  exports.EllipseCurve = EllipseCurve;\n  exports.EqualDepth = EqualDepth;\n  exports.EqualStencilFunc = EqualStencilFunc;\n  exports.EquirectangularReflectionMapping = EquirectangularReflectionMapping;\n  exports.EquirectangularRefractionMapping = EquirectangularRefractionMapping;\n  exports.Euler = Euler;\n  exports.EventDispatcher = EventDispatcher;\n  exports.ExtrudeBufferGeometry = ExtrudeBufferGeometry;\n  exports.ExtrudeGeometry = ExtrudeGeometry;\n  exports.Face3 = Face3;\n  exports.Face4 = Face4;\n  exports.FaceColors = FaceColors;\n  exports.FileLoader = FileLoader;\n  exports.FlatShading = FlatShading;\n  exports.Float32Attribute = Float32Attribute;\n  exports.Float32BufferAttribute = Float32BufferAttribute;\n  exports.Float64Attribute = Float64Attribute;\n  exports.Float64BufferAttribute = Float64BufferAttribute;\n  exports.FloatType = FloatType;\n  exports.Fog = Fog;\n  exports.FogExp2 = FogExp2;\n  exports.Font = Font;\n  exports.FontLoader = FontLoader;\n  exports.FrontFaceDirectionCCW = FrontFaceDirectionCCW;\n  exports.FrontFaceDirectionCW = FrontFaceDirectionCW;\n  exports.FrontSide = FrontSide;\n  exports.Frustum = Frustum;\n  exports.GammaEncoding = GammaEncoding;\n  exports.Geometry = Geometry;\n  exports.GeometryUtils = GeometryUtils;\n  exports.GreaterDepth = GreaterDepth;\n  exports.GreaterEqualDepth = GreaterEqualDepth;\n  exports.GreaterEqualStencilFunc = GreaterEqualStencilFunc;\n  exports.GreaterStencilFunc = GreaterStencilFunc;\n  exports.GridHelper = GridHelper;\n  exports.Group = Group;\n  exports.HalfFloatType = HalfFloatType;\n  exports.HemisphereLight = HemisphereLight;\n  exports.HemisphereLightHelper = HemisphereLightHelper;\n  exports.HemisphereLightProbe = HemisphereLightProbe;\n  exports.IcosahedronBufferGeometry = IcosahedronBufferGeometry;\n  exports.IcosahedronGeometry = IcosahedronGeometry;\n  exports.ImageBitmapLoader = ImageBitmapLoader;\n  exports.ImageLoader = ImageLoader;\n  exports.ImageUtils = ImageUtils;\n  exports.ImmediateRenderObject = ImmediateRenderObject;\n  exports.IncrementStencilOp = IncrementStencilOp;\n  exports.IncrementWrapStencilOp = IncrementWrapStencilOp;\n  exports.InstancedBufferAttribute = InstancedBufferAttribute;\n  exports.InstancedBufferGeometry = InstancedBufferGeometry;\n  exports.InstancedInterleavedBuffer = InstancedInterleavedBuffer;\n  exports.InstancedMesh = InstancedMesh;\n  exports.Int16Attribute = Int16Attribute;\n  exports.Int16BufferAttribute = Int16BufferAttribute;\n  exports.Int32Attribute = Int32Attribute;\n  exports.Int32BufferAttribute = Int32BufferAttribute;\n  exports.Int8Attribute = Int8Attribute;\n  exports.Int8BufferAttribute = Int8BufferAttribute;\n  exports.IntType = IntType;\n  exports.InterleavedBuffer = InterleavedBuffer;\n  exports.InterleavedBufferAttribute = InterleavedBufferAttribute;\n  exports.Interpolant = Interpolant;\n  exports.InterpolateDiscrete = InterpolateDiscrete;\n  exports.InterpolateLinear = InterpolateLinear;\n  exports.InterpolateSmooth = InterpolateSmooth;\n  exports.InvertStencilOp = InvertStencilOp;\n  exports.JSONLoader = JSONLoader;\n  exports.KeepStencilOp = KeepStencilOp;\n  exports.KeyframeTrack = KeyframeTrack;\n  exports.LOD = LOD;\n  exports.LatheBufferGeometry = LatheBufferGeometry;\n  exports.LatheGeometry = LatheGeometry;\n  exports.Layers = Layers;\n  exports.LensFlare = LensFlare;\n  exports.LessDepth = LessDepth;\n  exports.LessEqualDepth = LessEqualDepth;\n  exports.LessEqualStencilFunc = LessEqualStencilFunc;\n  exports.LessStencilFunc = LessStencilFunc;\n  exports.Light = Light;\n  exports.LightProbe = LightProbe;\n  exports.LightShadow = LightShadow;\n  exports.Line = Line;\n  exports.Line3 = Line3;\n  exports.LineBasicMaterial = LineBasicMaterial;\n  exports.LineCurve = LineCurve;\n  exports.LineCurve3 = LineCurve3;\n  exports.LineDashedMaterial = LineDashedMaterial;\n  exports.LineLoop = LineLoop;\n  exports.LinePieces = LinePieces;\n  exports.LineSegments = LineSegments;\n  exports.LineStrip = LineStrip;\n  exports.LinearEncoding = LinearEncoding;\n  exports.LinearFilter = LinearFilter;\n  exports.LinearInterpolant = LinearInterpolant;\n  exports.LinearMipMapLinearFilter = LinearMipMapLinearFilter;\n  exports.LinearMipMapNearestFilter = LinearMipMapNearestFilter;\n  exports.LinearMipmapLinearFilter = LinearMipmapLinearFilter;\n  exports.LinearMipmapNearestFilter = LinearMipmapNearestFilter;\n  exports.LinearToneMapping = LinearToneMapping;\n  exports.Loader = Loader;\n  exports.LoaderUtils = LoaderUtils;\n  exports.LoadingManager = LoadingManager;\n  exports.LogLuvEncoding = LogLuvEncoding;\n  exports.LoopOnce = LoopOnce;\n  exports.LoopPingPong = LoopPingPong;\n  exports.LoopRepeat = LoopRepeat;\n  exports.LuminanceAlphaFormat = LuminanceAlphaFormat;\n  exports.LuminanceFormat = LuminanceFormat;\n  exports.MOUSE = MOUSE;\n  exports.Material = Material;\n  exports.MaterialLoader = MaterialLoader;\n  exports.Math = _Math;\n  exports.Matrix3 = Matrix3;\n  exports.Matrix4 = Matrix4;\n  exports.MaxEquation = MaxEquation;\n  exports.Mesh = Mesh;\n  exports.MeshBasicMaterial = MeshBasicMaterial;\n  exports.MeshDepthMaterial = MeshDepthMaterial;\n  exports.MeshDistanceMaterial = MeshDistanceMaterial;\n  exports.MeshFaceMaterial = MeshFaceMaterial;\n  exports.MeshLambertMaterial = MeshLambertMaterial;\n  exports.MeshMatcapMaterial = MeshMatcapMaterial;\n  exports.MeshNormalMaterial = MeshNormalMaterial;\n  exports.MeshPhongMaterial = MeshPhongMaterial;\n  exports.MeshPhysicalMaterial = MeshPhysicalMaterial;\n  exports.MeshStandardMaterial = MeshStandardMaterial;\n  exports.MeshToonMaterial = MeshToonMaterial;\n  exports.MinEquation = MinEquation;\n  exports.MirroredRepeatWrapping = MirroredRepeatWrapping;\n  exports.MixOperation = MixOperation;\n  exports.MultiMaterial = MultiMaterial;\n  exports.MultiplyBlending = MultiplyBlending;\n  exports.MultiplyOperation = MultiplyOperation;\n  exports.NearestFilter = NearestFilter;\n  exports.NearestMipMapLinearFilter = NearestMipMapLinearFilter;\n  exports.NearestMipMapNearestFilter = NearestMipMapNearestFilter;\n  exports.NearestMipmapLinearFilter = NearestMipmapLinearFilter;\n  exports.NearestMipmapNearestFilter = NearestMipmapNearestFilter;\n  exports.NeverDepth = NeverDepth;\n  exports.NeverStencilFunc = NeverStencilFunc;\n  exports.NoBlending = NoBlending;\n  exports.NoColors = NoColors;\n  exports.NoToneMapping = NoToneMapping;\n  exports.NormalBlending = NormalBlending;\n  exports.NotEqualDepth = NotEqualDepth;\n  exports.NotEqualStencilFunc = NotEqualStencilFunc;\n  exports.NumberKeyframeTrack = NumberKeyframeTrack;\n  exports.Object3D = Object3D;\n  exports.ObjectLoader = ObjectLoader;\n  exports.ObjectSpaceNormalMap = ObjectSpaceNormalMap;\n  exports.OctahedronBufferGeometry = OctahedronBufferGeometry;\n  exports.OctahedronGeometry = OctahedronGeometry;\n  exports.OneFactor = OneFactor;\n  exports.OneMinusDstAlphaFactor = OneMinusDstAlphaFactor;\n  exports.OneMinusDstColorFactor = OneMinusDstColorFactor;\n  exports.OneMinusSrcAlphaFactor = OneMinusSrcAlphaFactor;\n  exports.OneMinusSrcColorFactor = OneMinusSrcColorFactor;\n  exports.OrthographicCamera = OrthographicCamera;\n  exports.PCFShadowMap = PCFShadowMap;\n  exports.PCFSoftShadowMap = PCFSoftShadowMap;\n  exports.PMREMGenerator = PMREMGenerator;\n  exports.ParametricBufferGeometry = ParametricBufferGeometry;\n  exports.ParametricGeometry = ParametricGeometry;\n  exports.Particle = Particle;\n  exports.ParticleBasicMaterial = ParticleBasicMaterial;\n  exports.ParticleSystem = ParticleSystem;\n  exports.ParticleSystemMaterial = ParticleSystemMaterial;\n  exports.Path = Path;\n  exports.PerspectiveCamera = PerspectiveCamera;\n  exports.Plane = Plane;\n  exports.PlaneBufferGeometry = PlaneBufferGeometry;\n  exports.PlaneGeometry = PlaneGeometry;\n  exports.PlaneHelper = PlaneHelper;\n  exports.PointCloud = PointCloud;\n  exports.PointCloudMaterial = PointCloudMaterial;\n  exports.PointLight = PointLight;\n  exports.PointLightHelper = PointLightHelper;\n  exports.Points = Points;\n  exports.PointsMaterial = PointsMaterial;\n  exports.PolarGridHelper = PolarGridHelper;\n  exports.PolyhedronBufferGeometry = PolyhedronBufferGeometry;\n  exports.PolyhedronGeometry = PolyhedronGeometry;\n  exports.PositionalAudio = PositionalAudio;\n  exports.PropertyBinding = PropertyBinding;\n  exports.PropertyMixer = PropertyMixer;\n  exports.QuadraticBezierCurve = QuadraticBezierCurve;\n  exports.QuadraticBezierCurve3 = QuadraticBezierCurve3;\n  exports.Quaternion = Quaternion;\n  exports.QuaternionKeyframeTrack = QuaternionKeyframeTrack;\n  exports.QuaternionLinearInterpolant = QuaternionLinearInterpolant;\n  exports.REVISION = REVISION;\n  exports.RGBADepthPacking = RGBADepthPacking;\n  exports.RGBAFormat = RGBAFormat;\n  exports.RGBAIntegerFormat = RGBAIntegerFormat;\n  exports.RGBA_ASTC_10x10_Format = RGBA_ASTC_10x10_Format;\n  exports.RGBA_ASTC_10x5_Format = RGBA_ASTC_10x5_Format;\n  exports.RGBA_ASTC_10x6_Format = RGBA_ASTC_10x6_Format;\n  exports.RGBA_ASTC_10x8_Format = RGBA_ASTC_10x8_Format;\n  exports.RGBA_ASTC_12x10_Format = RGBA_ASTC_12x10_Format;\n  exports.RGBA_ASTC_12x12_Format = RGBA_ASTC_12x12_Format;\n  exports.RGBA_ASTC_4x4_Format = RGBA_ASTC_4x4_Format;\n  exports.RGBA_ASTC_5x4_Format = RGBA_ASTC_5x4_Format;\n  exports.RGBA_ASTC_5x5_Format = RGBA_ASTC_5x5_Format;\n  exports.RGBA_ASTC_6x5_Format = RGBA_ASTC_6x5_Format;\n  exports.RGBA_ASTC_6x6_Format = RGBA_ASTC_6x6_Format;\n  exports.RGBA_ASTC_8x5_Format = RGBA_ASTC_8x5_Format;\n  exports.RGBA_ASTC_8x6_Format = RGBA_ASTC_8x6_Format;\n  exports.RGBA_ASTC_8x8_Format = RGBA_ASTC_8x8_Format;\n  exports.RGBA_PVRTC_2BPPV1_Format = RGBA_PVRTC_2BPPV1_Format;\n  exports.RGBA_PVRTC_4BPPV1_Format = RGBA_PVRTC_4BPPV1_Format;\n  exports.RGBA_S3TC_DXT1_Format = RGBA_S3TC_DXT1_Format;\n  exports.RGBA_S3TC_DXT3_Format = RGBA_S3TC_DXT3_Format;\n  exports.RGBA_S3TC_DXT5_Format = RGBA_S3TC_DXT5_Format;\n  exports.RGBDEncoding = RGBDEncoding;\n  exports.RGBEEncoding = RGBEEncoding;\n  exports.RGBEFormat = RGBEFormat;\n  exports.RGBFormat = RGBFormat;\n  exports.RGBIntegerFormat = RGBIntegerFormat;\n  exports.RGBM16Encoding = RGBM16Encoding;\n  exports.RGBM7Encoding = RGBM7Encoding;\n  exports.RGB_ETC1_Format = RGB_ETC1_Format;\n  exports.RGB_PVRTC_2BPPV1_Format = RGB_PVRTC_2BPPV1_Format;\n  exports.RGB_PVRTC_4BPPV1_Format = RGB_PVRTC_4BPPV1_Format;\n  exports.RGB_S3TC_DXT1_Format = RGB_S3TC_DXT1_Format;\n  exports.RGFormat = RGFormat;\n  exports.RGIntegerFormat = RGIntegerFormat;\n  exports.RawShaderMaterial = RawShaderMaterial;\n  exports.Ray = Ray;\n  exports.Raycaster = Raycaster;\n  exports.RectAreaLight = RectAreaLight;\n  exports.RedFormat = RedFormat;\n  exports.RedIntegerFormat = RedIntegerFormat;\n  exports.ReinhardToneMapping = ReinhardToneMapping;\n  exports.RepeatWrapping = RepeatWrapping;\n  exports.ReplaceStencilOp = ReplaceStencilOp;\n  exports.ReverseSubtractEquation = ReverseSubtractEquation;\n  exports.RingBufferGeometry = RingBufferGeometry;\n  exports.RingGeometry = RingGeometry;\n  exports.Scene = Scene;\n  exports.SceneUtils = SceneUtils;\n  exports.ShaderChunk = ShaderChunk;\n  exports.ShaderLib = ShaderLib;\n  exports.ShaderMaterial = ShaderMaterial;\n  exports.ShadowMaterial = ShadowMaterial;\n  exports.Shape = Shape;\n  exports.ShapeBufferGeometry = ShapeBufferGeometry;\n  exports.ShapeGeometry = ShapeGeometry;\n  exports.ShapePath = ShapePath;\n  exports.ShapeUtils = ShapeUtils;\n  exports.ShortType = ShortType;\n  exports.Skeleton = Skeleton;\n  exports.SkeletonHelper = SkeletonHelper;\n  exports.SkinnedMesh = SkinnedMesh;\n  exports.SmoothShading = SmoothShading;\n  exports.Sphere = Sphere;\n  exports.SphereBufferGeometry = SphereBufferGeometry;\n  exports.SphereGeometry = SphereGeometry;\n  exports.Spherical = Spherical;\n  exports.SphericalHarmonics3 = SphericalHarmonics3;\n  exports.SphericalReflectionMapping = SphericalReflectionMapping;\n  exports.Spline = Spline;\n  exports.SplineCurve = SplineCurve;\n  exports.SplineCurve3 = SplineCurve3;\n  exports.SpotLight = SpotLight;\n  exports.SpotLightHelper = SpotLightHelper;\n  exports.SpotLightShadow = SpotLightShadow;\n  exports.Sprite = Sprite;\n  exports.SpriteMaterial = SpriteMaterial;\n  exports.SrcAlphaFactor = SrcAlphaFactor;\n  exports.SrcAlphaSaturateFactor = SrcAlphaSaturateFactor;\n  exports.SrcColorFactor = SrcColorFactor;\n  exports.StaticCopyUsage = StaticCopyUsage;\n  exports.StaticDrawUsage = StaticDrawUsage;\n  exports.StaticReadUsage = StaticReadUsage;\n  exports.StereoCamera = StereoCamera;\n  exports.StreamCopyUsage = StreamCopyUsage;\n  exports.StreamDrawUsage = StreamDrawUsage;\n  exports.StreamReadUsage = StreamReadUsage;\n  exports.StringKeyframeTrack = StringKeyframeTrack;\n  exports.SubtractEquation = SubtractEquation;\n  exports.SubtractiveBlending = SubtractiveBlending;\n  exports.TOUCH = TOUCH;\n  exports.TangentSpaceNormalMap = TangentSpaceNormalMap;\n  exports.TetrahedronBufferGeometry = TetrahedronBufferGeometry;\n  exports.TetrahedronGeometry = TetrahedronGeometry;\n  exports.TextBufferGeometry = TextBufferGeometry;\n  exports.TextGeometry = TextGeometry;\n  exports.Texture = Texture;\n  exports.TextureLoader = TextureLoader;\n  exports.TorusBufferGeometry = TorusBufferGeometry;\n  exports.TorusGeometry = TorusGeometry;\n  exports.TorusKnotBufferGeometry = TorusKnotBufferGeometry;\n  exports.TorusKnotGeometry = TorusKnotGeometry;\n  exports.Triangle = Triangle;\n  exports.TriangleFanDrawMode = TriangleFanDrawMode;\n  exports.TriangleStripDrawMode = TriangleStripDrawMode;\n  exports.TrianglesDrawMode = TrianglesDrawMode;\n  exports.TubeBufferGeometry = TubeBufferGeometry;\n  exports.TubeGeometry = TubeGeometry;\n  exports.UVMapping = UVMapping;\n  exports.Uint16Attribute = Uint16Attribute;\n  exports.Uint16BufferAttribute = Uint16BufferAttribute;\n  exports.Uint32Attribute = Uint32Attribute;\n  exports.Uint32BufferAttribute = Uint32BufferAttribute;\n  exports.Uint8Attribute = Uint8Attribute;\n  exports.Uint8BufferAttribute = Uint8BufferAttribute;\n  exports.Uint8ClampedAttribute = Uint8ClampedAttribute;\n  exports.Uint8ClampedBufferAttribute = Uint8ClampedBufferAttribute;\n  exports.Uncharted2ToneMapping = Uncharted2ToneMapping;\n  exports.Uniform = Uniform;\n  exports.UniformsLib = UniformsLib;\n  exports.UniformsUtils = UniformsUtils;\n  exports.UnsignedByteType = UnsignedByteType;\n  exports.UnsignedInt248Type = UnsignedInt248Type;\n  exports.UnsignedIntType = UnsignedIntType;\n  exports.UnsignedShort4444Type = UnsignedShort4444Type;\n  exports.UnsignedShort5551Type = UnsignedShort5551Type;\n  exports.UnsignedShort565Type = UnsignedShort565Type;\n  exports.UnsignedShortType = UnsignedShortType;\n  exports.VSMShadowMap = VSMShadowMap;\n  exports.Vector2 = Vector2;\n  exports.Vector3 = Vector3;\n  exports.Vector4 = Vector4;\n  exports.VectorKeyframeTrack = VectorKeyframeTrack;\n  exports.Vertex = Vertex;\n  exports.VertexColors = VertexColors;\n  exports.VideoTexture = VideoTexture;\n  exports.WebGLMultisampleRenderTarget = WebGLMultisampleRenderTarget;\n  exports.WebGLRenderTarget = WebGLRenderTarget;\n  exports.WebGLRenderTargetCube = WebGLRenderTargetCube;\n  exports.WebGLRenderer = WebGLRenderer;\n  exports.WebGLUtils = WebGLUtils;\n  exports.WireframeGeometry = WireframeGeometry;\n  exports.WireframeHelper = WireframeHelper;\n  exports.WrapAroundEnding = WrapAroundEnding;\n  exports.XHRLoader = XHRLoader;\n  exports.ZeroCurvatureEnding = ZeroCurvatureEnding;\n  exports.ZeroFactor = ZeroFactor;\n  exports.ZeroSlopeEnding = ZeroSlopeEnding;\n  exports.ZeroStencilOp = ZeroStencilOp;\n  exports.sRGBEncoding = sRGBEncoding;\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true,\n  });\n});\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAARCAYAAAA2cze9AAAAAXNSR0IArs4c6QAAA1lJREFUOBGVlMtuI0UUhk/f3LZjO8aZgZAwKARpFMQsIlmsmQUoWzZZseQheAjeJCsWeYC8QzRsiDIMmkTjmQxp39rua/H9TSwk2EBFn6vq1Om/Tp1TFc/+Zzs7O2tdXV310zQdzufzrdls1plOp/FqtfKiKCoHg8FqOBzeTyaT3z20vfF4/OT4+Lh1cnLy5vT0dIXNyX5+fh5fXl5uITRAaITAPv1RVVWHZVkeZFm2t1wuR6xvQ+CcW3c6nXe9Xu+Kte8lHrHTT7u7uyej0eiGxbtWq7XG3q7regR9xLYRe5Tn+bAoigiMseVZZog2LOnxM9/3DR2L4/hJqAiTJOkT1RFHOWq324a4BUHQOLJuRGSKQv2mlZ5nGfMFYkt8Hb3VtdXY1myOr5O4GkFkpohWRBCGYbOB+gD8KLIaSkQkioy1oYvQgHkLKphjS9gkhwXj8Et+XoEiqBFaI0DYDRFz0WM+Yn0PgUN8Pwf1j6ELEWQwgwReQiN+ykCLyNlrmEAOW/Ah7MOnIDH1MbRg803NeAkS03da+xq0UZOWAwZfwTaUoI06IEelQHPxz1ZhUOUVtYQ11mby1ZXTt81C+mDQYlM8em2kuWhKqR8hA8oOBydVqRfAmsNOXZu2Kag5DKLagBNp/lv04YPGoN1VUaHjMncKWxXdvBKGf4nvMtLuQuEqCgkIeahqH8BHsAefAMVwfSB3tfwkKnFxCyQ9NFX0AEiye4vePWNF+SDoHmP/GBB1qrAEqar0HEE45ZNqOsEtqD9jbYyNaxOa7iLO7hkLPcYI10RbcWT/Ab0Gh5rPmqdTicqzgNQFpMMnap9Ti4CT+7pK2EJ7weALrjM7h+TYo9QBvZwCHAIKFoTOfPD4K0pnOSxSZ9N54ebzMlumVbZaOVdW1up1rLuzY3afOy+8/cZc7xf748U12SGPXdLTiZ2Fka5FZejYPK0RK5N0bTfrzF2vc/cqy8vflmn9ZrWo76ZZscizwvHGur3Y9vvDYjyIw4XHC/Z+/MGedkP/237Xexa3w/125G0RbsnB3/Ov6F1R+K+zLPh1keXXk/eW3Nza9OeLRO9G5f9X++65DY+f20x1adp4bNHhI+vvDKwTRO3Q1V6dp35+N4uyxJL1xUXzRjbu/6n/E/OeqBOVIhtvAAAAAElFTkSuQmCC\"","var aCallable = require('../internals/a-callable');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aCallable(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// eslint-disable-next-line es/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined';\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"globeContainer\",staticClass:\"position-absolute top-10\",class:[\n    _vm.$vuetify.rtl ? 'start-0 w-sm-100 w-50' : 'end-0',\n    this.$route.name == 'VrDefault'\n      ? 'end-0 mt-3 me-n8 me-lg-16'\n      : 'mt-sm-6 mt-14 me-lg-16 pe-lg-10' ]},[_c('canvas',{ref:\"globe\",staticClass:\"me-lg-0 me-sm-n10 ms-lg-n10 mt-lg-5\",attrs:{\"width\":this.$route.name == 'VrDefault' ? '1000' : '700',\"height\":this.$route.name == 'VrDefault' ? '1000' : '655'}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- Globe widget -->\n  <div\n    ref=\"globeContainer\"\n    class=\"position-absolute top-10\"\n    :class=\"[\n      $vuetify.rtl ? 'start-0 w-sm-100 w-50' : 'end-0',\n      this.$route.name == 'VrDefault'\n        ? 'end-0 mt-3 me-n8 me-lg-16'\n        : 'mt-sm-6 mt-14 me-lg-16 pe-lg-10',\n    ]\"\n  >\n    <canvas\n      ref=\"globe\"\n      :width=\"this.$route.name == 'VrDefault' ? '1000' : '700'\"\n      :height=\"this.$route.name == 'VrDefault' ? '1000' : '655'\"\n      class=\"me-lg-0 me-sm-n10 ms-lg-n10 mt-lg-5\"\n    ></canvas>\n  </div>\n  <!-- Globe widget -->\n</template>\n\n<script>\nvar THREE = require(\"@/plugins/three/threejs.js\");\nrequire(\"@/plugins/three/orbit-controls.js\");\n\nexport default {\n  data() {\n    return {};\n  },\n  mounted() {\n    let container = this.$refs.globeContainer;\n    let canvas = this.$refs.globe;\n\n    const globeRadius = 100;\n    const globeWidth = 4098 / 2;\n    const globeHeight = 1968 / 2;\n\n    function convertFlatCoordsToSphereCoords(x, y) {\n      let latitude = ((x - globeWidth) / globeWidth) * -180;\n      let longitude = ((y - globeHeight) / globeHeight) * -90;\n      latitude = (latitude * Math.PI) / 180;\n      longitude = (longitude * Math.PI) / 180;\n      const radius = Math.cos(longitude) * globeRadius;\n\n      return {\n        x: Math.cos(latitude) * radius,\n        y: Math.sin(longitude) * globeRadius,\n        z: Math.sin(latitude) * radius,\n      };\n    }\n\n    function makeMagic(points) {\n      const { width, height } = container.getBoundingClientRect();\n\n      // 1. Setup scene\n      const scene = new THREE.Scene();\n      // 2. Setup camera\n      const camera = new THREE.PerspectiveCamera(45, width / height);\n      // 3. Setup renderer\n      const renderer = new THREE.WebGLRenderer({\n        canvas,\n        antialias: true,\n      });\n      renderer.setSize(width, height);\n      // 4. Add points to canvas\n      // - Single geometry to contain all points.\n      const mergedGeometry = new THREE.Geometry();\n      // - Material that the dots will be made of.\n      const pointGeometry = new THREE.SphereGeometry(0.5, 1, 1);\n      const pointMaterial = new THREE.MeshBasicMaterial({\n        color: \"#989db5\",\n      });\n\n      for (let point of points) {\n        const { x, y, z } = convertFlatCoordsToSphereCoords(\n          point.x,\n          point.y,\n          width,\n          height\n        );\n\n        if (x && y && z) {\n          pointGeometry.translate(x, y, z);\n          mergedGeometry.merge(pointGeometry);\n          pointGeometry.translate(-x, -y, -z);\n        }\n      }\n\n      const globeShape = new THREE.Mesh(mergedGeometry, pointMaterial);\n      scene.add(globeShape);\n\n      container.classList.add(\"peekaboo\");\n\n      // Setup orbital controls\n      camera.orbitControls = new THREE.OrbitControls(camera, canvas);\n      camera.orbitControls.enableKeys = false;\n      camera.orbitControls.enablePan = false;\n      camera.orbitControls.enableZoom = false;\n      camera.orbitControls.enableDamping = false;\n      camera.orbitControls.enableRotate = true;\n      camera.orbitControls.autoRotate = true;\n      camera.position.z = -265;\n\n      function animate() {\n        // orbitControls.autoRotate is enabled so orbitControls.update\n        // must be called inside animation loop.\n        camera.orbitControls.update();\n        requestAnimationFrame(animate);\n        renderer.render(scene, camera);\n      }\n      animate();\n    }\n\n    function hasWebGL() {\n      const gl =\n        canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\");\n      if (gl && gl instanceof WebGLRenderingContext) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    function init() {\n      if (hasWebGL()) {\n        window;\n        window\n          .fetch(\n            \"https://raw.githubusercontent.com/creativetimofficial/public-assets/master/soft-ui-dashboard-pro/assets/js/points.json\"\n          )\n          .then((response) => response.json())\n          .then((data) => {\n            makeMagic(data.points);\n          });\n      }\n    }\n    init();\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.3.0_em3sh5kto35xuanci4cvhzqfay/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/.pnpm/vue-loader@15.10.1_m6jvttnwtqqy6l4pi5vsxiehsy/node_modules/vue-loader/lib/index.js??vue-loader-options!./Globe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.3.0_em3sh5kto35xuanci4cvhzqfay/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/.pnpm/vue-loader@15.10.1_m6jvttnwtqqy6l4pi5vsxiehsy/node_modules/vue-loader/lib/index.js??vue-loader-options!./Globe.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Globe.vue?vue&type=template&id=64f76bf7&\"\nimport script from \"./Globe.vue?vue&type=script&lang=js&\"\nexport * from \"./Globe.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.1_m6jvttnwtqqy6l4pi5vsxiehsy/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAARCAYAAAA2cze9AAAAAXNSR0IArs4c6QAABRpJREFUOBGVVFtsFFUY/mZ2Lnvf7qXLtmxboLRLu7SF0tIWFKGQBqFqMG7UBCTxQsAHExONPPiATyQmEuHBpIk+oUAwoAYTQLFqpDb0fr/Quu3S3e12t91rZ3dmZ3fHQxNffNI/OefknJn58n3/982h8D+ra2CANY94DWMx0RRP5vVzMwFNjuf4N9/rpEqW5/IrX91Ki+FwTFdmWKIUgLp65EiZqqqJUb64uHqS+mQduFBQFIXu7e3lf/pzXGe32Iw1QZ+F9vlL1Xq1a7x8Z+V3M0JFNBQrVWk5a2tTuelQkaiih4dEPp+NWPfunhd0ulNUV1cXq/iXP60Mr3YwNntAe9Kz2j/sz3x9rUct52mrotEaD+8qM70eGbEWRictVpuVvdfQgY9+WUFDlR3vHN2Khvk+KCP9oHfvRLK2ERNJFULReBlz5coDqrym3HimxV3rmp+olX68j0Mvn0AiTeP2DyMYnUpghyMLg5CBvBoDWBaCIOLggWqc32tERX834ithBI+dwL0lGb9d6YNvOQ5BziuqSIRSeb3pjlm5qGnbrmqUzYyCmZ5B28lOtD5XB9AUTBzQGF1AIRQGtFqUv/0qXmx3oaK3G7JGC9Wp13DviYxfe+YRTGQhMRw40Jcot8fDCQumy6Gs+azNXoy3WopxODIFOwM4z74BeXs1hLSMzPkLyPT0gSm2wPnBOdA5GWu9gwRcjeR6GkGvH9JTB23FiFpLkZLyTsYzNQXGWQ1zhQNhjoOsYpHqOIaSuTFEHvTAvJaAPpFEmkhXqXkgm8PyZ10oZCXIUhYZIY00ea4SM2ALMjiGha3UgZwqD8oDcHVq++U6g+msbZMNlNEEiteC44mwtAgqtQ5azoF5umdJfxQFiihBkWXI+TxEUYSYFiARcFGSQNM0WFMRUizjZNwk5zQZWWJS6kkINBMBSzPIExUsz4MhTCiG9Igo3igCztmtUDnsUHiWWKBBxmrGUigKKhGHSUqDTybB5bNg4CHc4znoyZeGWBwFIlPJAQwxijOboDYZoTEXQQqEUCBpoQmY9cN3oWtvAzU+jcD125BZBkM1+3C3dwFaNofGXXrwHFH77RRhbbRhcOt2VG7n4eAV1Ls2w9WwBYXpedDRKHQH9mH1yxtIB1fAW0146Bfx5K4Xx+tLYX7pGOSrN9AeHUXaWIVr/Ul09y0Rdgo2ohhdyT4/65WafDkNHM/uQVtnC8x/PUbh0QBmtJswSFlgmxkHgsvQmg34XbUJH18fx6NBH7JlTjg7D6Io5IN7eRq1zZUIaYoIOHOJcbtrwREj2/a34uihOtTp81Dduoa10VlM7WjBpQU1SgNe7Cbm0STzFEXBqNfAaBAxPLaEgREvGuudOHf6BbjsDrQO9sG8ww0/ZwXj8bixubSMfaZmCwy+SSS7e5DMUujeth/fDKcxOeHD6Y4q8KSv5BgyMVTOZUHlMzBpJKwLgvTw5z+kxakx5RVPM3ew2q1xPJ6FKrFOMSV37igBrSHWLQHFJU54nbW4L2rx6Ptp0MRxHccglQxhaC2YSKSiQYTzCxNzQz4hnPAxghCkCpk1jVZM+kcHlc9H+3QL545vPmAx7rGYNOuEC6gzgIuvb+4IltftHAgpTl8gruVpRdZq1FGxUIjs2Wb0t6cX52Jzc96UThObN7CJh+Pj5PaEvBHPf03HL140N0tS4in4Rrlv3uQm379uQKBPA3UxY7boC1nyCwqyLG4piouLi4viP+/+1/VvabpBP/w26EQAAAAASUVORK5CYII=\"","var isCallable = require('../internals/is-callable');\n\nmodule.exports = function (argument) {\n  if (typeof argument === 'object' || isCallable(argument)) return argument;\n  throw TypeError(\"Can't set \" + String(argument) + ' as a prototype');\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"card-shadow border-radius-xl\"},[_c('div',{staticClass:\"px-4 pt-4 pb-0\"},[_c('p',{staticClass:\"font-weight-bold text-h6 text-typo mb-0\"},[_vm._v(\"Sales by Country\")])]),_c('v-card-text',{staticClass:\"px-0 py-2\"},[_c('v-list',{staticClass:\"py-0\"},_vm._l((_vm.countries),function(chat,index){return _c('v-list-item',{key:chat.title,staticClass:\"px-4 py-2\",class:{ 'border-bottom': index != _vm.countries.length - 1 }},[_c('v-img',{staticClass:\"me-6\",attrs:{\"alt\":((chat.title) + \" avatar\"),\"src\":chat.avatar,\"max-width\":\"20px\"}}),_c('v-list-item-content',[_c('span',{staticClass:\"text-xs font-weight-bold text-body\"},[_vm._v(\" Country: \")]),_c('v-list-item-title',{staticClass:\"text-typo font-weight-bold text-sm mb-0\",domProps:{\"textContent\":_vm._s(chat.country)}})],1),_c('v-list-item-content',{staticClass:\"text-center\"},[_c('span',{staticClass:\"text-xs font-weight-bold text-body\"},[_vm._v(\" Sales: \")]),_c('v-list-item-title',{staticClass:\"text-typo font-weight-bold text-sm mb-0\",domProps:{\"textContent\":_vm._s(chat.sales)}})],1),_c('v-list-item-content',{staticClass:\"text-center\"},[_c('span',{staticClass:\"text-xs font-weight-bold text-body\"},[_vm._v(\" Value: \")]),_c('v-list-item-title',{staticClass:\"text-typo font-weight-bold text-sm mb-0\",domProps:{\"textContent\":_vm._s(chat.value)}})],1),_c('v-list-item-content',{staticClass:\"text-center\"},[_c('span',{staticClass:\"text-xs font-weight-bold text-body\"},[_vm._v(\" Value: \")]),_c('v-list-item-title',{staticClass:\"text-typo font-weight-bold text-sm mb-0\",domProps:{\"textContent\":_vm._s(chat.bounce)}})],1)],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"card-shadow border-radius-xl\">\n    <div class=\"px-4 pt-4 pb-0\">\n      <p class=\"font-weight-bold text-h6 text-typo mb-0\">Sales by Country</p>\n    </div>\n    <v-card-text class=\"px-0 py-2\">\n      <v-list class=\"py-0\">\n        <v-list-item\n          v-for=\"(chat, index) in countries\"\n          :key=\"chat.title\"\n          class=\"px-4 py-2\"\n          :class=\"{ 'border-bottom': index != countries.length - 1 }\"\n        >\n          <v-img\n            :alt=\"`${chat.title} avatar`\"\n            :src=\"chat.avatar\"\n            max-width=\"20px\"\n            class=\"me-6\"\n          ></v-img>\n\n          <v-list-item-content>\n            <span class=\"text-xs font-weight-bold text-body\"> Country: </span>\n            <v-list-item-title\n              v-text=\"chat.country\"\n              class=\"text-typo font-weight-bold text-sm mb-0\"\n            ></v-list-item-title>\n          </v-list-item-content>\n\n          <v-list-item-content class=\"text-center\">\n            <span class=\"text-xs font-weight-bold text-body\"> Sales: </span>\n            <v-list-item-title\n              v-text=\"chat.sales\"\n              class=\"text-typo font-weight-bold text-sm mb-0\"\n            ></v-list-item-title>\n          </v-list-item-content>\n\n          <v-list-item-content class=\"text-center\">\n            <span class=\"text-xs font-weight-bold text-body\"> Value: </span>\n            <v-list-item-title\n              v-text=\"chat.value\"\n              class=\"text-typo font-weight-bold text-sm mb-0\"\n            ></v-list-item-title>\n          </v-list-item-content>\n\n          <v-list-item-content class=\"text-center\">\n            <span class=\"text-xs font-weight-bold text-body\"> Value: </span>\n            <v-list-item-title\n              v-text=\"chat.bounce\"\n              class=\"text-typo font-weight-bold text-sm mb-0\"\n            ></v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n    </v-card-text>\n  </v-card>\n</template>\n<script>\nexport default {\n  name: \"sales-country\",\n  data() {\n    return {\n      countries: [\n        {\n          avatar: require(\"@/assets/img/icons/flags/US.png\"),\n          country: \"United States\",\n          sales: \"2.500\",\n          value: \"$230,900\",\n          bounce: \"29.9%\",\n        },\n        {\n          avatar: require(\"@/assets/img/icons/flags/DE.png\"),\n          country: \"Germany\",\n          sales: \"3.900\",\n          value: \"$440,000\",\n          bounce: \"40.22%\",\n        },\n        {\n          avatar: require(\"@/assets/img/icons/flags/GB.png\"),\n          country: \"Great Britain\",\n          sales: \"1.400\",\n          value: \"$190,700\",\n          bounce: \"23.44%\",\n        },\n        {\n          avatar: require(\"@/assets/img/icons/flags/BR.png\"),\n          country: \"Brasil\",\n          sales: \"562\",\n          value: \"$143,960\",\n          bounce: \"32.14%\",\n        },\n      ],\n    };\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.3.0_em3sh5kto35xuanci4cvhzqfay/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/.pnpm/vue-loader@15.10.1_m6jvttnwtqqy6l4pi5vsxiehsy/node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesCountry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/.pnpm/thread-loader@2.1.3_webpack@4.46.0/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.pnpm/babel-loader@8.3.0_em3sh5kto35xuanci4cvhzqfay/node_modules/babel-loader/lib/index.js!../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/.pnpm/vue-loader@15.10.1_m6jvttnwtqqy6l4pi5vsxiehsy/node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesCountry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SalesCountry.vue?vue&type=template&id=716cd1fc&\"\nimport script from \"./SalesCountry.vue?vue&type=script&lang=js&\"\nexport * from \"./SalesCountry.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.pnpm/vue-loader@15.10.1_m6jvttnwtqqy6l4pi5vsxiehsy/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/.pnpm/vuetify-loader@1.7.3_5sikpryclrglhwej2zr6nkmgfm/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VCard,VCardText,VImg,VList,VListItem,VListItemContent,VListItemTitle})\n","var classof = require('../internals/classof');\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return String(argument);\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ findLast, findLastIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_FIND_LAST_INDEX = TYPE == 1;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var index = lengthOfArrayLike(self);\n    var value, result;\n    while (index-- > 0) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (result) switch (TYPE) {\n        case 0: return value; // findLast\n        case 1: return index; // findLastIndex\n      }\n    }\n    return IS_FIND_LAST_INDEX ? -1 : undefined;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.findLast` method\n  // https://github.com/tc39/proposal-array-find-from-last\n  findLast: createMethod(0),\n  // `Array.prototype.findLastIndex` method\n  // https://github.com/tc39/proposal-array-find-from-last\n  findLastIndex: createMethod(1)\n};\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var toPositiveInteger = require('../internals/to-positive-integer');\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw RangeError('Wrong offset');\n  return offset;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAARCAYAAAA2cze9AAAAAXNSR0IArs4c6QAABE5JREFUOBGVU11oHFUU/u7cubMz+99Nmk2Tpn9oG9MfArGC0lftQ6EgJYIWKvgTfPRRigq+CKLoQ0HFN32SiILog5BgRSEgoVKxtVabuKlJzCa72dlk53/mXs+MSRF80cOcGebcO9/57vedYfifcXN62vhcXy+5oaxu67KwFblWN3ByngyZkIjLWsGr6rzTNI/dZVBgE29cGhnvP2KcLY+tTWLSwxOvKUyPsS8tK/eTt1FwRVT2pFdbUPGwL+VoUQ+OgKlDXhINOWFYcwO34vo+V3HiW3puo2iYdwKFiwxTE6Kar7w5eGDkbK1UXrGY0TK48MFhSp3VFNdKMVeVltL6hwy/CgPiZmJAqQhG4sHzPPRcD67TQxKG0ISBWr6MnKdGdHR8ZoOXvLg92kzCUZMJ+p6D6yJLAsc6BE4UPbw8vISSHuEzuw+ftvvxe6RDKA06SasxDRIalFSI4ggqlrSSBtfCII5B2mEz3kZLurApNyMXi57Eg4VNvD2whP3NMsKbB/F0IPHByF1MVm0wItJRBkDgYAyalubfsGnTLNKirhFjxumpIaKPnCSHc302Xs1v4teZMbz74zG4oYWhfheXzs7jrdE7eIwX8M5qAfMOJxyWXTuQdI7doK7ZGlUCKocE/tyeDby37w8075zA1ytnYNUHUey3sLC6B59cHYPYNjHZ18SH9SVcKHVQYBJSEc5O3GOelhSll3DkicTl2hpeqK+BBQexwE6jfrSIPaYGXsxjqyvRbQRYaZXwwP42jhoBXqo5+NMdwFwsyGwCspB5kfVJ39Oux3M+XhywcbHqIJdT+PZWBd9f9RFH67AMUjjHkK8XcfJUEYN7GWQU4UZg4TI1uhbo0HSa7ZSpSyZnyHRLwdMYFBHGcy65Ty+0i9PI6bRLo6nRDZLL17B8I0Bh4zaKpRZmnX480xzBjFPJ5MyAM6R/gKddGFOYcUt4au0QvuqV0Y00HD/QxH31FmKabXubjJYCD41t4pGT1/Fxt4ip1cP4IcjD4DFZRhR3WRLePc3TWuq3SabcDk1MrY/gybiHZ+ttXDgzh8q8h7XtEu7fR8Cnb+GLAvD68mH0khA17sEhyhluettpcA88c4GKnH6Cqohpzk1c6ezFd2EVzw+2ce78HAaJW2DGuOL04f31ITp3jJqRoBcTMMmYSZLquSP2Lrigyc+op5sk7SpzCSYS/BLl8UqziFky+PGKjWutAj5ar0GEDoTbU17PDxLPC5TrKnLdgGnkqSOUnjAdi6ZCLtzEig0MlEkXWkg0JJGiHzdBRQVIvBgzPyf2bISVJOwu5uL2kkyihuMEa9IJWlEQ9aLAp3OHeeTN4ajgTeix6GUzgfOnjmpCPcoscUI3jWEmeEHX9Jhz3tYkNoRUy+Tkb52tZJFvO7bpdrr2N40eqRtT/jvGD1VxvbGVgu+GwMP7S7DylmlynRpITSEUW73AbsBHo+Hvbvyvz78A85Pl70XHFToAAAAASUVORK5CYII=\""],"sourceRoot":""}